{"version":3,"sources":["constants/index.js","store/CompanyStore.js","components/controllers/PasswordController.jsx","apis/Authentication.js","store/AuthStore.js","utils/index.js","components/common/ChangePassword.jsx","apis/Users.js","components/common/CreateUser.jsx","store/ResourcesStore.js","apis/Utilities.js","components/common/CreateAsset.jsx","components/layout/Header.jsx","components/layout/Sidebar.jsx","components/layout/index.jsx","components/common/ViewModeHeaders.jsx","components/common/ViewMode.jsx","apis/BalancingAdjustment.js","components/common/Loader.jsx","components/balancing_adjustment/BalancingAdjustmentView.jsx","components/common/ModuleHeader.jsx","components/layout/Main.jsx","components/controllers/DropdownController.jsx","components/controllers/InputController.jsx","components/balancing_adjustment/BalancingAdjustmentAdding.jsx","apis/Companies.js","apis/TrialBalance.js","routes/resources/index.js","components/common/PageLoader.jsx","components/common/Error.jsx","pages/BalancingAdjustment.jsx","apis/CapitalAllowance.js","components/capital_allowance/CapitalAllowanceView.jsx","components/capital_allowance/CapitalAllowanceAdding.jsx","pages/CapitalAllowance.jsx","components/dashboard/AddCompanyForm.jsx","components/dashboard/FileUploader.jsx","components/dashboard/TrialBalanceTable.jsx","components/dashboard/CompanyPicker.jsx","pages/Dashboard.jsx","components/common/MappingMode.jsx","components/deferred_tax/DeferredTaxView.jsx","pages/DeferredTax.jsx","apis/FixedAsset.js","components/common/TrialBalanceMappingTable.jsx","components/fixed_asset/FixedAssetMapping.jsx","components/fixed_asset/FixedAssetView.jsx","pages/FixedAsset.jsx","pages/ForgotPassword.jsx","pages/Home.jsx","components/income_tax/IncomeTaxView.jsx","pages/IncomeTax.jsx","apis/InvestmentAllowance.js","components/investment_allowance/InvestmentAllowanceView.jsx","components/investment_allowance/InvestmentAllowanceMapping.jsx","pages/InvestmentAllowance.jsx","apis/ITLevy.js","components/it_levy/ITLevyView.jsx","pages/ITLevy.jsx","pages/Login.jsx","apis/MinimumTax.js","components/minimum_tax/MinimumTaxView.jsx","pages/MinimumTax.jsx","pages/NotFound.jsx","apis/ProfitAndLoss.js","components/profit_loss/ProfitAndLossView.jsx","components/profit_loss/ProfitAndLossMapping.jsx","pages/ProfitAndLoss.jsx","pages/ResetPassword.jsx","RouteGuard.js","routes/index.js","App.js","configs/axios.config.js","components/common/ErrorBoundary.jsx","index.js"],"names":["startYear","toastLifeTime","modes","modules","dashboard","fixedAsset","profit_loss","incomeTax","deferredTax","minimumTax","itLevy","capitalAllowance","investmentAllowance","balancingAdjustment","routes","home","login","forgot_password","reset_password","fixed_asset","income_tax","deferred_tax","minimum_tax","it_levy","capital_allowance","investment_allowance","balancing_adjustment","nonMappedModules","mappingCode","fixedasset","profitandloss","balancingadjustment","deferredtax","incometax","networkErrorMessage","CompanyStore","createStore","initialState","companyId","companyName","companyDescription","cacNumber","tinNumber","actions","initCompany","setState","onSelectCompany","resetCompany","name","useCompany","createHook","PasswordController","placeholder","autoComplete","value","onChange","React","useState","passwordReveal","setPasswordReveal","useEffect","state","style","position","marginBottom","width","paddingRight","type","className","left","right","top","onClick","a","email","password","axios","post","data","forgotPassword","resetPassword","token","newPassword","confirmPassword","changePassword","currentPassword","AuthStore","isAuthenticated","userId","firstName","lastName","initAuth","getState","onLoginSuccess","id","onLogout","callbacks","forEach","cb","Function","useAuth","currencyFormatter","Intl","NumberFormat","currency","format","Date","getFullYear","years","i","constants","push","title","includes","stateName","serializedState","JSON","stringify","sessionStorage","setItem","err","console","log","getItem","removeItem","parse","severity","summary","detail","life","closable","resources","setTbData","trialBalance","filter","d","accountId","item","debit","credit","toLowerCase","map","debitAmt","creditAmt","ChangePassword","setShowChangePassword","useRouter","routerState","useForm","errors","handleSubmit","control","loading","setLoading","toast","useRef","location","current","show","utils","onSubmit","message","response","NewPassword","rules","required","defaultValue","render","props","e","target","fontSize","color","label","icon","ref","el","addUser","phoneNumber","CreateUser","setShowCreateUser","status","setTimeout","code","description","ResourcesStore","companies","fixedAssetModuleItems","profitAndLossModuleItems","initResource","onCompanies","onFixedAssetModuleItems","onProfitAndLossModuleItems","onTrialBalance","resetResources","useResources","getModuleItems","moduleCode","get","createAssetClass","assetName","initial","annual","CreateAsset","setShowCreateAsset","error","pattern","Header","replace","useRouterActions","showSettings","setShowSettings","showChangePassword","showCreateUser","showCreateAsset","background","height","padding","borderLeft","zIndex","marginTop","fontWeight","marginRight","Sidebar","selectedTitle","menuItems","href","margin","index","key","cursor","Layout","children","marginLeft","ViewModeHeaders","headers","header","ViewMode","year","toUpperCase","balancingAdjustmentAdding","assetId","cost","salesProceed","yearBought","formData","FormData","append","balancingAdjustmentViewData","balancingAdjustmentDelete","delete","Loader","BalancingAdjustmentView","isMounted","setError","balancingAdjustmentData","setBalancingAdjustmentData","fetchBalancingAdjustmentViewData","tableData","values","balancingAdjustments","assetNameRow","emptyRow","category","assetYear","costRow","initialAllowanceRow","annualAllowanceRow","residueRow","salesProceedRow","balanceRow","responseDescription","initialAllowance","annualAllowance","residue","twdv","balancingCharge","balancingAllowance","length","field","ModuleHeader","mode","setMode","setYear","setAssetId","yearSelectItems","assetClassSelectItems","addingModules","modeSelectItems","adding","mapping","view","options","disabled","Main","overflowX","DropdownController","Controller","controllerName","otherRules","dropdownOptions","onChangeCallback","labelWidth","errorMessage","ControllerError","InputController","BalancingAdjustmentAdding","addCompany","openingYear","closingYear","getCompanies","pageNumber","pageSize","uploadTrialBalance","file","getTrialBalance","companiesResource","createResource","getKey","getData","fixedAssetModuleClassResource","profitandlossModuleClassResource","trialBalanceResource","PageLoader","Error","refresh","textAlign","BalancingAdjustment","useResource","assetClass","assetClassError","assetClassRefresh","usePathParam","setAssetClassSelectItems","toString","assetClassId","baseZIndex","capitalAllowanceAdding","taxYear","openingResidue","addition","disposal","total","closingResidue","yearsToGo","capitalAllowanceViewData","CapitalAllowanceView","capitalAllowanceData","setCapitalAllowanceData","capitalAllowances","openingResidualTotal","additionTotal","disposalTotal","initialTotal","annualTotal","totalTotal","closingResidueTotal","concat","fetchCapitalAllowanceViewData","scrollable","headerStyle","CapitalAllowanceAdding","CapitalAllowance","AddCompanyForm","showAddCompany","setShowAddCompany","companyError","CompanyDescription","visible","focusOnShow","onHide","htmlFor","FileUploader","company","setRefreshTrialBalanceTable","setFile","onUpload","accept","opacity","files","TrialBalanceTable","refreshTrialBalanceTable","tbData","fetchTrialBalance","paginator","rows","rowsPerPageOptions","footer","CompanyPicker","showCompanyPicker","setShowCompanyPicker","companySelectItems","blockScroll","closeOnEscape","optionLabel","autoFocus","filterBy","Dashboard","setCompanySelectItems","isActive","MappingMode","selectedAccounts","setSelectedAccounts","accountDescription","debitAmount","creditAmount","allAccount","selection","onSelectionChange","selectionMode","DeferredTaxView","deferredTaxData","DeferredTax","fixedAssetMapping","yearId","mappedCode","triBalanceId","isCost","openingCost","transferCost","transferDepreciation","isTransferCostRemoved","isTransferDepreciationRemoved","costAddition","costDisposal","openingDepreciation","depreciationAddition","depreciationDisposal","fixedAssetViewData","fixedAssetUnmapping","put","TrialBalanceMappingTable","trialBalanceRefresh","debitRowChecks","setDebitRowChecks","creditRowChecks","setCreditRowChecks","find","mappedTo","body","rowData","checked","selectedAccountIndex","selectedAccount","trialBalanceId","isDebit","isCredit","isBoth","some","FixedAssetMapping","closingBalance","setClosingBalance","closingBalanceAmt","setClosingBalanceAmt","selectedAssetType","setSelectedAssetType","transferChecked","setTransferChecked","typeSelectItems","reduce","accumulator","assetType","openingBalance","transfer","isNaN","account","Number","costClosing","depreciationClosing","undefined","inputId","FixedAssetView","fixedAssetApiData","setFixedAssetApiData","fixedAssetData","setFixedAssetData","newState","Array","from","s","fixedAssetName","openingCostTotal","additionCostTotal","disposalCostTotal","transferCostTotal","closingCostTotal","openingDepreciationTotal","additionDepreciationTotal","disposalDepreciationTotal","transferDepreciationTotal","closingDepreciationTotal","netBookValue","replaceAll","acc","cur","slice","fetchFixedAssetViewData","FixedAsset","trialBalanceError","ForgotPassword","pathname","path","to","Home","IncomeTaxView","incomeTaxData","IncomeTax","investmentAllowanceMapping","investmentAllowanceViewData","investmentAllowanceDelete","InvestmentAllowanceView","investmentAllowanceData","setInvestmentAllowanceData","fetchInvestmentAllowanceViewData","investment","investments","amount","investmentAllowanceatTenPercent","InvestmentAllowanceMapping","InvestmentAllowance","itLevyViewData","ITLevyView","itLevyData","setITLevyData","profitBeforeTaxation","itLevyAt1PercentThereIn","fetchITLevyViewData","ITLevy","Login","user","minimumTaxViewData","MinimumTaxView","minimumTaxData","setMinimumTaxData","fivePercentTurnOver","dividend","turnOver","fetchMinimumTaxViewData","MinimumTax","NotFound","profitAndLossMapping","profitAndLossId","trialBalanceList","profitAndLossViewData","ProfitAndLossView","profitAndLossApiData","setProfitAndLossApiData","fetchProfitAndLossViewData","ProfitAndLossMapping","ProfitAndLoss","ResetPassword","maxLength","keyfilter","Component","exact","component","RouteGuard","history","createBrowserHistory","App","authToken","auth","window","onbeforeunload","onload","defaults","baseURL","configs","interceptors","request","use","config","Promise","reject","ErrorBoundary","hasError","offline","addEventListener","errorInfo","logErrorToConsole","this","display","justifyContent","alignItems","bottom","flexDirection","paddingTop","_error","devtools","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.23ca209b.chunk.js","sourcesContent":["export default {\n  startYear: 1980,\n  toastLifeTime: 6000,\n  modes: [\"adding\", \"mapping\", \"view\"],\n  modules: {\n    dashboard: \"Dashboard\",\n    fixedAsset: \"Fixed Asset\",\n    profit_loss: \"Profit & Loss\",\n    incomeTax: \"Income Tax\",\n    deferredTax: \"Deferred Tax\",\n    minimumTax: \"Minimum Tax\",\n    itLevy: \"I.T Levy\",\n    capitalAllowance: \"Capital Allowance\",\n    investmentAllowance: \"Investment Allowance\",\n    balancingAdjustment: \"Balancing Adjustment\"\n  },\n  routes: {\n    home: \"/\",\n    login: \"/login\",\n    forgot_password: \"/forgot_password\",\n    reset_password: \"/reset_password\",\n    dashboard: \"/dashboard\",\n    fixed_asset: \"/fixed_asset\",\n    profit_loss: \"/profit_loss\",\n    income_tax: \"/income_tax\",\n    deferred_tax: \"/deferred_tax\",\n    minimum_tax: \"/minimum_tax\",\n    it_levy: \"/it_levy\",\n    capital_allowance: \"/capital_allowance\",\n    investment_allowance: \"/investment_allowance\",\n    balancing_adjustment: \"/balancing_adjustment\"\n  },\n  nonMappedModules: [\"Minimum Tax\", \"I.T Levy\"],\n  mappingCode: {\n    fixedasset: \"fixedasset\",\n    profitandloss: \"profitandloss\",\n    balancingadjustment: \"balancingadjustment\",\n    deferredtax: \"deferredtax\",\n    incometax: \"incometax\"\n  },\n  networkErrorMessage: \"Unable to reach server, check your network or contact your admin\"\n};\n","import { createStore, createHook } from \"react-sweet-state\";\n\nconst CompanyStore = createStore({\n  initialState: {\n    companyId: null,\n    companyName: \"\",\n    companyDescription: \"\",\n    cacNumber: \"\",\n    tinNumber: \"\"\n  },\n  actions: {\n    initCompany: initialState => ({ setState }) => setState(initialState),\n    onSelectCompany: ({ companyId, companyName, companyDescription, cacNumber, tinNumber }) => ({\n      setState\n    }) => setState({ companyId, companyName, companyDescription, cacNumber, tinNumber }),\n    resetCompany: () => ({ setState }) =>\n      setState({\n        companyId: null,\n        companyName: \"\",\n        companyDescription: \"\",\n        cacNumber: \"\",\n        tinNumber: \"\"\n      })\n  },\n  name: \"company\"\n});\n\nexport const useCompany = createHook(CompanyStore);\n","import React from \"react\";\nimport { InputText } from \"primereact/inputtext\";\n\nconst PasswordController = ({ placeholder, autoComplete, value, onChange }) => {\n  const [passwordReveal, setPasswordReveal] = React.useState(false);\n\n  React.useEffect(() => setPasswordReveal(state => (!value ? false : state)), [value]);\n\n  return (\n    <div style={{ position: \"relative\" }}>\n      <InputText\n        style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n        type={passwordReveal ? \"text\" : \"password\"}\n        autoComplete={autoComplete}\n        placeholder={placeholder}\n        value={value}\n        onChange={onChange}\n      />\n      {value && (\n        <i\n          className={passwordReveal ? \"pi pi-eye-slash\" : \"pi pi-eye\"}\n          style={{\n            position: \"absolute\",\n            left: \"auto\",\n            right: 10,\n            top: 12.5\n          }}\n          onClick={() => setPasswordReveal(!passwordReveal)}></i>\n      )}\n    </div>\n  );\n};\n\nexport default PasswordController;\n","import axios from \"axios\";\n\nexport const login = async ({ email, password }) => {\n  try {\n    const { data } = await axios.post(\"/api/Authentication/login\", { email, password });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const forgotPassword = async ({ email }) => {\n  try {\n    const { data } = await axios.post(`/api/Authentication/forgot-password/${email}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const resetPassword = async ({ token, newPassword }) => {\n  try {\n    const { data } = await axios.post(\"/api/Authentication/reset-password\", {\n      token,\n      newPassword,\n      confirmPassword: newPassword\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const changePassword = async ({ currentPassword, newPassword }) => {\n  try {\n    const { data } = await axios.post(\"/api/Authentication/change-password\", {\n      currentPassword,\n      newPassword,\n      confirmPassword: newPassword\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import { createStore, createHook } from \"react-sweet-state\";\n\nconst AuthStore = createStore({\n  initialState: {\n    isAuthenticated: null,\n    userId: null,\n    token: \"\",\n    email: \"\",\n    firstName: \"\",\n    lastName: \"\"\n  },\n  actions: {\n    initAuth: initialState => ({ setState, getState }) => {\n      setState(initialState);\n      if (getState().isAuthenticated === null) {\n        setState({ isAuthenticated: false });\n      }\n    },\n    onLoginSuccess: ({ id: userId, token, email, firstName, lastName }) => ({ setState }) =>\n      setState({ isAuthenticated: true, userId, token, email, firstName, lastName }),\n    onLogout: (...callbacks) => ({ setState }) => {\n      callbacks.forEach(cb => (cb instanceof Function ? cb() : null));\n      setState({\n        isAuthenticated: false,\n        userId: null,\n        token: \"\",\n        email: \"\",\n        firstName: \"\",\n        lastName: \"\"\n      });\n    }\n  },\n  name: \"auth\"\n});\n\nexport const useAuth = createHook(AuthStore);\n","import constants from \"../constants\";\n\n/** get current year */\nconst currentYear = () => new Date().getFullYear();\n\n/** get years from start year to current year */\nconst getYears = () => {\n  let currentYear = new Date().getFullYear();\n  let years = [];\n  for (var i = currentYear; i >= constants.startYear; i--) {\n    years.push(i);\n  }\n  return years;\n};\n\n/** default page mode */\nconst defaultMode = title =>\n  constants.nonMappedModules.includes(title)\n    ? \"view\"\n    : [constants.modules.balancingAdjustment, constants.modules.capitalAllowance].includes(title)\n    ? \"adding\"\n    : \"mapping\";\n\n/** save store state */\nconst saveState = (state, stateName) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    sessionStorage.setItem(stateName, serializedState);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\n/** load store state */\nconst loadState = stateName => {\n  try {\n    const serializedState = sessionStorage.getItem(stateName);\n    if (serializedState === null) {\n      return undefined;\n    }\n    sessionStorage.removeItem(stateName);\n    return JSON.parse(serializedState);\n  } catch (err) {\n    return undefined;\n  }\n};\n\n/** convert number to currency */\nconst currencyFormatter = value => {\n  const formatter = new Intl.NumberFormat(\"en-NG\", {\n    style: \"currency\",\n    currency: \"NGN\"\n  });\n\n  return formatter.format(value);\n};\n\n/** toast notification callback function */\nconst toastCallback = ({ severity, summary, detail }) => ({\n  severity,\n  summary,\n  detail,\n  life: constants.toastLifeTime,\n  closable: false\n});\n\n/** set trial balance data */\nconst onTbData = (resources, setTbData) => {\n  if (resources.trialBalance) {\n    setTbData(\n      resources.trialBalance\n        ? resources.trialBalance\n            .filter(\n              d =>\n                !(d.accountId === \"\" && d.item === \"\" && d.debit === 0 && d.credit === 0) &&\n                !d.item.toLowerCase().includes(\"total\")\n            )\n            .map(d => ({\n              ...d,\n              debitAmt: currencyFormatter(d.debit),\n              creditAmt: currencyFormatter(d.credit)\n            }))\n        : []\n    );\n  }\n};\n\nexport default {\n  currentYear,\n  getYears,\n  defaultMode,\n  saveState,\n  loadState,\n  currencyFormatter,\n  toastCallback,\n  onTbData\n};\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { Toast } from \"primereact/toast\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { useRouter } from \"react-resource-router\";\nimport PasswordController from \"../controllers/PasswordController\";\nimport { changePassword } from \"../../apis/Authentication\";\nimport constants from \"../../constants\";\nimport { useAuth } from \"../../store/AuthStore\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport utils from \"../../utils\";\n\nconst ChangePassword = ({ setShowChangePassword }) => {\n  const [routerState] = useRouter();\n  const { errors, handleSubmit, control } = useForm();\n  const [, { onLogout }] = useAuth();\n  const [, { resetCompany }] = useCompany();\n  const [loading, setLoading] = React.useState(false);\n  const toast = React.useRef();\n\n  React.useEffect(() => {\n    if (routerState.location.state)\n      toast.current.show(\n        utils.toastCallback({ severity: \"success\", detail: routerState.location.state })\n      );\n  }, [routerState]);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    const { currentPassword, newPassword } = data;\n    // display error notification if current password and new password are the same\n    if (currentPassword === newPassword) {\n      toast.current.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: \"Current Password and New Password cannot be the same\"\n        })\n      );\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const { message } = await changePassword({ currentPassword, newPassword });\n      routerState.location.state = message;\n      onLogout(resetCompany);\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const { data } = error.response;\n        // display error as toast notification\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: data.message || data.errors.NewPassword[0]\n          })\n        );\n      } else {\n        // network errors\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-ai-center overlay\">\n      <Card style={{ width: 320 }}>\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"currentPassword\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <PasswordController\n                  placeholder=\"Current Password\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.currentPassword && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Current Password is required</span>\n            )}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"newPassword\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <PasswordController\n                  placeholder=\"New Password\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.newPassword && (\n              <span style={{ fontSize: 12, color: \"red\" }}>New Password is required</span>\n            )}\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Change Password\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: \"100%\" }}\n          />\n        </form>\n        {!loading && (\n          <p className=\"back-to-app-link\" onClick={() => setShowChangePassword(state => !state)}>\n            Back to app\n          </p>\n        )}\n      </Card>\n      <Toast ref={el => (toast.current = el)} />\n    </div>\n  );\n};\n\nexport default ChangePassword;\n","import axios from \"axios\";\n\nexport const addUser = async ({\n  email,\n  password,\n  confirmPassword,\n  phoneNumber,\n  firstName,\n  lastName\n}) => {\n  try {\n    return await axios.post(\"/api/Users/add-user\", {\n      email,\n      password,\n      confirmPassword,\n      phoneNumber,\n      firstName,\n      lastName\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { Toast } from \"primereact/toast\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport PasswordController from \"../controllers/PasswordController\";\nimport constants from \"../../constants\";\nimport { InputText } from \"primereact/inputtext\";\nimport { addUser } from \"../../apis/Users\";\nimport utils from \"../../utils\";\n\nconst CreateUser = ({ setShowCreateUser }) => {\n  const { errors, handleSubmit, control } = useForm();\n  const [loading, setLoading] = React.useState(false);\n  const toast = React.useRef();\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    const { email, password, firstName, lastName, phoneNumber } = data;\n    const confirmPassword = password;\n\n    setLoading(true);\n    try {\n      const response = await addUser({\n        email,\n        password,\n        confirmPassword,\n        firstName,\n        lastName,\n        phoneNumber\n      });\n      if (response.status === 201) {\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"success\",\n            detail: \"User created successfully\"\n          })\n        );\n        setTimeout(() => setShowCreateUser(false), 2000);\n      }\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const { data } = error.response;\n        // display error as toast notification\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: data[0].code,\n            detail: data[0].description\n          })\n        );\n      } else {\n        // network errors\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-ai-center overlay\">\n      <Card style={{ width: 320 }}>\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"email\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"Email\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.email && <span style={{ fontSize: 12, color: \"red\" }}>Email is required</span>}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"password\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <PasswordController\n                  placeholder=\"Password\"\n                  autoComplete=\"new-password\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.password && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Password is required</span>\n            )}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"firstName\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"First Name\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.firstName && (\n              <span style={{ fontSize: 12, color: \"red\" }}>First Name is required</span>\n            )}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"lastName\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"Last Name\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.lastName && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Last Name is required</span>\n            )}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"phoneNumber\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"Phone Number\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.phoneNumber && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Phone Number is required</span>\n            )}\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Create User\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: \"100%\" }}\n          />\n        </form>\n        {!loading && (\n          <p className=\"back-to-app-link\" onClick={() => setShowCreateUser(state => !state)}>\n            Back to app\n          </p>\n        )}\n      </Card>\n      <Toast ref={el => (toast.current = el)} />\n    </div>\n  );\n};\n\nexport default CreateUser;\n","import { createStore, createHook } from \"react-sweet-state\";\n\nconst ResourcesStore = createStore({\n  initialState: {\n    companies: null,\n    fixedAssetModuleItems: null,\n    profitAndLossModuleItems: null,\n    trialBalance: null\n  },\n  actions: {\n    initResource: initialState => ({ setState }) => setState(initialState),\n    onCompanies: companies => ({ setState }) => setState({ companies }),\n    onFixedAssetModuleItems: fixedAssetModuleItems => ({ setState }) =>\n      setState({ fixedAssetModuleItems }),\n    onProfitAndLossModuleItems: profitAndLossModuleItems => ({ setState }) =>\n      setState({ profitAndLossModuleItems }),\n    onTrialBalance: trialBalance => ({ setState }) => setState({ trialBalance }),\n    resetResources: () => ({ setState }) =>\n      setState({\n        companies: null,\n        fixedAssetModuleItems: null,\n        profitAndLossModuleItems: null,\n        trialBalance: null\n      })\n  },\n  name: \"resources\"\n});\n\nexport const useResources = createHook(ResourcesStore);\n","import axios from \"axios\";\n\nexport const getModuleItems = async ({ moduleCode }) => {\n  try {\n    const { data } = await axios.get(`/api/Utilities/module-items/${moduleCode}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const createAssetClass = async ({ assetName, initial, annual }) => {\n  try {\n    return await axios.post(\"/api/Utilities/asset-class\", { assetName, initial, annual });\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { Toast } from \"primereact/toast\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport constants from \"../../constants\";\nimport { InputText } from \"primereact/inputtext\";\nimport utils from \"../../utils\";\nimport { createAssetClass } from \"../../apis/Utilities\";\n\nconst CreateAsset = ({ setShowCreateAsset }) => {\n  const { errors, handleSubmit, control } = useForm();\n  const [loading, setLoading] = React.useState(false);\n  const toast = React.useRef();\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    const { assetName, initial, annual } = data;\n\n    setLoading(true);\n    try {\n      const response = await createAssetClass({\n        assetName,\n        initial: initial ? initial : 0,\n        annual: annual ? annual : 0\n      });\n      if (response.status === 200) {\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"success\",\n            detail: \"Asset created successfully\"\n          })\n        );\n        setTimeout(() => setShowCreateAsset(false), 2000);\n      }\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const { data } = error.response;\n        data.errors.error.forEach(err => {\n          toast.current.show(\n            utils.toastCallback({\n              severity: \"error\",\n              detail: err\n            })\n          );\n        });\n      } else {\n        // network errors\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-ai-center overlay\">\n      <Card style={{ width: 320 }}>\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"assetName\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"Asset Name\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.assetName && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Asset Name is required</span>\n            )}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"initial\"\n              control={control}\n              rules={{ pattern: /^\\d*(\\.\\d+)?$/ }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"Initial\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.initial && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Initial must contain only numbers</span>\n            )}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"annual\"\n              control={control}\n              rules={{ pattern: /^\\d*(\\.\\d+)?$/ }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"Annual\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.annual && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Annual must contain only numbers</span>\n            )}\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Create Asset\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: \"100%\" }}\n          />\n        </form>\n        {!loading && (\n          <p className=\"back-to-app-link\" onClick={() => setShowCreateAsset(state => !state)}>\n            Back to app\n          </p>\n        )}\n      </Card>\n      <Toast ref={el => (toast.current = el)} />\n    </div>\n  );\n};\n\nexport default CreateAsset;\n","import React from \"react\";\nimport { Button } from \"primereact/button\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport { useRouterActions } from \"react-resource-router\";\nimport constants from \"../../constants\";\nimport ChangePassword from \"../common/ChangePassword\";\nimport CreateUser from \"../common/CreateUser\";\nimport { useResources } from \"../../store/ResourcesStore\";\nimport CreateAsset from \"../common/CreateAsset\";\n\nconst Header = ({ title, loading }) => {\n  const { replace } = useRouterActions();\n  const [showSettings, setShowSettings] = React.useState();\n  const [showChangePassword, setShowChangePassword] = React.useState();\n  const [showCreateUser, setShowCreateUser] = React.useState();\n  const [showCreateAsset, setShowCreateAsset] = React.useState();\n  const [{ companyName }, { resetCompany }] = useCompany();\n  const [, { resetResources }] = useResources();\n\n  const onSwitchCompany = () => {\n    setShowSettings(false);\n    resetCompany();\n    resetResources();\n    replace(constants.routes.home);\n  };\n\n  return (\n    <>\n      <div\n        className=\"p-d-flex p-jc-between p-ai-center drop-shadow\"\n        style={{\n          background: \"#fff\",\n          width: \"calc(100% - 256px)\",\n          height: 66,\n          padding: \"0px 20px\",\n          position: \"fixed\",\n          borderLeft: \"2px solid #f5f6f8\",\n          zIndex: 1\n        }}>\n        <p style={{ marginTop: 5, marginBottom: 0, fontSize: 18, fontWeight: 600 }}>{title}</p>\n        {!loading && (\n          <div className=\"p-d-flex p-ai-center\">\n            <p style={{ marginRight: 10 }}>{companyName}</p>\n            <div style={{ position: \"relative\" }}>\n              <Button\n                icon=\"pi pi-cog pi-20\"\n                className=\"p-button-text\"\n                onClick={() => setShowSettings(!showSettings)}\n              />\n              {showSettings && (\n                <div\n                  className=\"drop-shadow\"\n                  style={{\n                    position: \"absolute\",\n                    right: 0,\n                    width: 170,\n                    padding: 5,\n                    background: \"#fff\"\n                  }}>\n                  <p\n                    className=\"settings-item\"\n                    onClick={() => {\n                      setShowCreateUser(!showCreateUser);\n                      setShowSettings(false);\n                    }}>\n                    Create User\n                  </p>\n                  <p\n                    className=\"settings-item\"\n                    onClick={() => {\n                      setShowCreateAsset(!showCreateAsset);\n                      setShowSettings(false);\n                    }}>\n                    Create Asset\n                  </p>\n                  <p className=\"settings-item\" onClick={onSwitchCompany}>\n                    Switch Company\n                  </p>\n                  <p\n                    className=\"settings-item\"\n                    onClick={() => {\n                      setShowChangePassword(!showChangePassword);\n                      setShowSettings(false);\n                    }}>\n                    Change Password\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n      {showChangePassword && <ChangePassword setShowChangePassword={setShowChangePassword} />}\n      {showCreateUser && <CreateUser setShowCreateUser={setShowCreateUser} />}\n      {showCreateAsset && <CreateAsset setShowCreateAsset={setShowCreateAsset} />}\n    </>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { Link } from \"react-resource-router\";\nimport constants from \"../../constants\";\nimport { useAuth } from \"../../store/AuthStore\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport utils from \"../../utils\";\n\nconst Sidebar = ({ selectedTitle }) => {\n  const [{ firstName, lastName, email }, { onLogout }] = useAuth();\n  const [{ companyId }, { resetCompany }] = useCompany();\n  const menuItems = [\n    { title: \"Dashboard\", href: constants.routes.dashboard },\n    {\n      title: constants.modules.fixedAsset,\n      href: `${constants.routes.fixed_asset}/${utils.defaultMode(constants.modules.fixedAsset)}`\n    },\n    {\n      title: constants.modules.profit_loss,\n      href: `${constants.routes.profit_loss}/${utils.defaultMode(constants.modules.profit_loss)}`\n    },\n    {\n      title: constants.modules.incomeTax,\n      href: `${constants.routes.income_tax}/${utils.defaultMode(constants.modules.incomeTax)}`\n    },\n    {\n      title: constants.modules.deferredTax,\n      href: `${constants.routes.deferred_tax}/${utils.defaultMode(constants.modules.deferredTax)}`\n    },\n    {\n      title: constants.modules.minimumTax,\n      href: `${constants.routes.minimum_tax}/${utils.defaultMode(constants.modules.minimumTax)}`\n    },\n    {\n      title: constants.modules.itLevy,\n      href: `${constants.routes.it_levy}/${utils.defaultMode(constants.modules.itLevy)}`\n    },\n    {\n      title: constants.modules.capitalAllowance,\n      href: `${constants.routes.capital_allowance}/${utils.defaultMode(\n        constants.modules.capitalAllowance\n      )}`\n    },\n    {\n      title: constants.modules.investmentAllowance,\n      href: `${constants.routes.investment_allowance}/${utils.defaultMode(\n        constants.modules.investmentAllowance\n      )}`\n    },\n    {\n      title: constants.modules.balancingAdjustment,\n      href: `${constants.routes.balancing_adjustment}/${utils.defaultMode(\n        constants.modules.balancingAdjustment\n      )}`\n    }\n  ];\n\n  return (\n    <div className=\"p-d-flex\" style={{ position: \"fixed\", zIndex: 1 }}>\n      <div\n        className=\"p-d-flex p-flex-column\"\n        style={{\n          width: 256,\n          height: \"100vh\",\n          background: \"#fff\"\n        }}>\n        <h2 className=\"accent-color\" style={{ margin: \"5px 0\", padding: \"10px 20px\" }}>\n          Tax Computation\n        </h2>\n        <div className=\"divider\"></div>\n        <div style={{ padding: \"10px 20px\" }}>\n          <div style={{ marginTop: 10, background: \"#f5f6f8\", padding: 10 }}>\n            <h4 style={{ marginTop: 5, marginBottom: 0 }}>\n              {firstName} {lastName}\n            </h4>\n            <p style={{ fontSize: 12, margin: 0 }}>{email}</p>\n          </div>\n        </div>\n        {menuItems.map((item, index) => (\n          <Link\n            key={index}\n            href={companyId ? item.href : null}\n            className=\"sidebar-link\"\n            style={{ padding: \"5px 20px\" }}>\n            <p\n              className={\n                selectedTitle.toLowerCase() === item.title.toLowerCase() ? \"accent-color\" : \"\"\n              }\n              style={{ marginTop: 5, marginBottom: 0 }}>\n              {item.title}\n            </p>\n          </Link>\n        ))}\n        <div className=\"divider\" style={{ margin: \"10px 0px\" }}></div>\n        <div className=\"sidebar-link\" style={{ padding: \"0px 20px\" }}>\n          <p\n            style={{ margin: 0, cursor: \"pointer\" }}\n            onClick={() => {\n              onLogout(resetCompany);\n            }}>\n            Logout\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Sidebar from \"./Sidebar\";\n\nconst Layout = ({ title, loading, children }) => {\n  return (\n    <div className=\"p-d-flex\">\n      <Sidebar selectedTitle={title} />\n      <div className=\"p-d-flex p-flex-column\" style={{ width: \"100%\", marginLeft: 256 }}>\n        <Header title={title} loading={loading} />\n        <div style={{ padding: 20, marginTop: 66 }}>{children}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Layout;\n","import React from \"react\";\n\nconst ViewModeHeaders = ({ headers }) => {\n  return (\n    <>\n      {headers.map((header, index) => (\n        <p key={index} className=\"view-description\">\n          {header}\n        </p>\n      ))}\n    </>\n  );\n};\n\nexport default ViewModeHeaders;\n","import React from \"react\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport ViewModeHeaders from \"./ViewModeHeaders\";\n\nconst ViewMode = ({ title, year, children }) => {\n  const [{ companyName }] = useCompany();\n  return (\n    <>\n      <ViewModeHeaders\n        headers={[\n          companyName.toUpperCase(),\n          `${year} INCOME TAX COMPUTATIONS`,\n          `AUDITED ACCOUNTS FOR THE YEAR ENDED 31 DECEMBER, ${year - 1}`,\n          {\n            \"Fixed Asset\": \"ANALYSIS OF FIXED ASSET MOVEMENT\",\n            \"Profit & Loss\": \"SUMMARY OF PROFIT & LOSS ACCOUNTS\",\n            \"Income Tax\": \"INCOME TAX COMPUTATION\",\n            \"Deferred Tax\": \"DEFERRED TAX COMPUTATION\",\n            \"Minimum Tax\": \"MINIMUM TAX COMPUTATION\",\n            \"I.T Levy\": \"I.T. LEVY COMPUTATION (BASED ON THE 2007 CITA AMENDMENT)\",\n            \"Investment Allowance\": \"COMPUTATION OF INVESTMENT ALLOWANCE\",\n            \"Balancing Allowance\": \"COMPUTATION OF BALANCING ALLOWANCE/CHARGE\"\n          }[title]\n        ]}\n      />\n      {children}\n    </>\n  );\n};\n\nexport default ViewMode;\n","import axios from \"axios\";\n\nexport const balancingAdjustmentAdding = async ({\n  year,\n  assetId,\n  cost,\n  salesProceed,\n  yearBought,\n  companyId\n}) => {\n  try {\n    var formData = new FormData();\n    formData.append(\"Year\", year);\n    formData.append(\"AssetId\", assetId);\n    formData.append(\"Cost\", cost);\n    formData.append(\"SalesProceed\", salesProceed);\n    formData.append(\"YearBought\", yearBought);\n    formData.append(\"CompanyId\", companyId);\n    return await axios.post(\"/api/BalancingAdjustment\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const balancingAdjustmentViewData = async ({ companyId, year }) => {\n  try {\n    const { data } = await axios.get(\n      `/api/BalancingAdjustment?companyId=${companyId}&year=${year}`\n    );\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const balancingAdjustmentDelete = async ({ id }) => {\n  try {\n    const { data } = await axios.delete(`/api/BalancingAdjustment/${id}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\n\nconst Loader = () => {\n  return (\n    <div className=\"p-d-flex p-flex-column p-jc-center p-ai-center\" style={{ width: \"100%\" }}>\n      <i className=\"pi pi-spin pi-spinner\" style={{ fontSize: 24 }}></i>\n    </div>\n  );\n};\n\nexport default Loader;\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport {\n  balancingAdjustmentDelete,\n  balancingAdjustmentViewData\n} from \"../../apis/BalancingAdjustment\";\nimport utils from \"../../utils\";\nimport Loader from \"../common/Loader\";\n\nconst BalancingAdjustmentView = ({ year, toast }) => {\n  const isMounted = React.useRef(false);\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState();\n  const [error, setError] = React.useState();\n  const [balancingAdjustmentData, setBalancingAdjustmentData] = React.useState([]);\n\n  React.useEffect(() => {\n    if (!companyId) return;\n\n    isMounted.current = true;\n    const fetchBalancingAdjustmentViewData = async () => {\n      try {\n        setError(null);\n        setLoading(true);\n        const data = await balancingAdjustmentViewData({ companyId, year });\n        if (isMounted.current) {\n          setBalancingAdjustmentData(() => {\n            const tableData = [];\n            data.values.balancingAdjustments.forEach((balancingAdjustment, index) => {\n              const assetNameRow = {};\n              const emptyRow = {};\n\n              assetNameRow.category = <strong>{balancingAdjustment.assetName}</strong>;\n\n              tableData.push(assetNameRow);\n\n              balancingAdjustment.assetYear.forEach((assetYear, index) => {\n                const costRow = {};\n                const initialAllowanceRow = {};\n                const annualAllowanceRow = {};\n                const residueRow = {};\n                const salesProceedRow = {};\n                const balanceRow = {};\n\n                costRow.category = (\n                  <div className=\"p-d-flex p-jc-between p-ai-center\">\n                    <p>{`Cost up to ${assetYear.yearBought} YOA`}</p>\n                    <i\n                      className=\"pi pi-times-circle delete\"\n                      style={{ fontSize: 14, marginTop: 2 }}\n                      onClick={async () => {\n                        try {\n                          const data = await balancingAdjustmentDelete({\n                            id: assetYear.id\n                          });\n                          if (data) {\n                            toast.show(\n                              utils.toastCallback({\n                                severity: \"success\",\n                                detail: data.responseDescription\n                              })\n                            );\n                            fetchBalancingAdjustmentViewData();\n                          }\n                        } catch (error) {\n                          console.log(error);\n                        }\n                      }}></i>\n                  </div>\n                );\n                costRow.credit = utils.currencyFormatter(assetYear.cost);\n                costRow.cost = utils.currencyFormatter(assetYear.cost);\n\n                initialAllowanceRow.category = \"Initial Allowance\";\n                initialAllowanceRow.credit = utils.currencyFormatter(assetYear.initialAllowance);\n\n                annualAllowanceRow.category = `Annual allowances up to ${year - 1}`;\n                annualAllowanceRow.credit = utils.currencyFormatter(assetYear.annualAllowance);\n\n                residueRow.category = `Residue at 31.12.${year - 1}`;\n                residueRow.credit = utils.currencyFormatter(assetYear.residue);\n                residueRow.twdv = utils.currencyFormatter(assetYear.residue);\n\n                salesProceedRow.category = \"Sales Proceeds\";\n                salesProceedRow.credit = utils.currencyFormatter(assetYear.salesProceed);\n                salesProceedRow.salesProceed = utils.currencyFormatter(assetYear.salesProceed);\n\n                if (assetYear.balancingCharge > 0) {\n                  balanceRow.category = \"Balancing Charge\";\n                  balanceRow.credit = utils.currencyFormatter(assetYear.balancingCharge);\n                  balanceRow.balancingCharge = utils.currencyFormatter(assetYear.balancingCharge);\n                } else {\n                  balanceRow.category = \"Balancing Allowance\";\n                  balanceRow.credit = utils.currencyFormatter(assetYear.balancingAllowance);\n                  balanceRow.balancingCharge = utils.currencyFormatter(\n                    assetYear.balancingAllowance\n                  );\n                }\n\n                tableData.push(costRow);\n                tableData.push(initialAllowanceRow);\n                tableData.push(annualAllowanceRow);\n                tableData.push(residueRow);\n                tableData.push(salesProceedRow);\n                tableData.push(balanceRow);\n                if (index < balancingAdjustment.assetYear.length - 1) tableData.push(emptyRow);\n              });\n\n              if (index < data.values.balancingAdjustments.length - 1) tableData.push(emptyRow);\n            });\n            return tableData;\n          });\n        }\n      } catch (error) {\n        if (isMounted.current) {\n          if (error.response) setError(error.response.data.errors[0]);\n          else setError(error.message);\n        }\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    fetchBalancingAdjustmentViewData();\n\n    return () => (isMounted.current = false);\n  }, [companyId, toast, year]);\n\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\n\n  if (loading) return <Loader />;\n\n  if (balancingAdjustmentData.length === 0)\n    return (\n      <p style={{ color: \"#f00\" }}>Currently, no data for the selected year for this company</p>\n    );\n\n  return (\n    <DataTable\n      className=\"p-datatable-gridlines\"\n      value={balancingAdjustmentData}\n      style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      <Column field=\"credit\" header=\"\"></Column>\n      <Column field=\"balancingAllowance\" header=\"Balancing Allowance\"></Column>\n      <Column field=\"balancingCharge\" header=\"Balancing Charge\"></Column>\n      <Column field=\"cost\" header=\"Cost\"></Column>\n      <Column field=\"salesProceed\" header=\"Sales Proceed\"></Column>\n      <Column field=\"twdv\" header=\"TWDV\"></Column>\n    </DataTable>\n  );\n};\n\nexport default BalancingAdjustmentView;\n","import React from \"react\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport constants from \"../../constants\";\n\nconst ModuleHeader = ({\n  title,\n  mode,\n  setMode,\n  year,\n  setYear,\n  assetId,\n  setAssetId,\n  yearSelectItems,\n  assetClassSelectItems\n}) => {\n  const addingModules = [constants.modules.balancingAdjustment, constants.modules.capitalAllowance];\n  const modeSelectItems = [\n    {\n      label: addingModules.includes(title) ? \"Adding - Mode\" : \"Mapping - Mode\",\n      value: addingModules.includes(title) ? \"adding\" : \"mapping\"\n    },\n    { label: \"View - Mode\", value: \"view\" }\n  ];\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-flex-column\" style={{ width: \"100%\" }}>\n      <div className=\"p-d-flex p-ai-center p-jc-between\" style={{ padding: \"0px 20px\" }}>\n        <p style={{ fontSize: 18, fontWeight: 600 }}>\n          {title}\n          {\n            {\n              adding: \" - Adding\",\n              mapping: \" - Mapping\",\n              view: \" - View\"\n            }[mode]\n          }\n        </p>\n        <div>\n          {mode === \"view\" ? (\n            title !== constants.modules.capitalAllowance ? (\n              <Dropdown\n                style={{ width: 180, marginRight: 20 }}\n                placeholder=\"Select year\"\n                value={year}\n                options={yearSelectItems}\n                onChange={e => {\n                  setYear(e.value);\n                }}\n              />\n            ) : (\n              <>\n                {assetId && (\n                  <Dropdown\n                    style={{ width: 180, marginRight: 20 }}\n                    placeholder=\"Select asset\"\n                    value={assetId}\n                    options={assetClassSelectItems}\n                    onChange={e => {\n                      setAssetId(e.value);\n                    }}\n                  />\n                )}\n              </>\n            )\n          ) : null}\n          <Dropdown\n            style={{ width: 180 }}\n            value={mode}\n            disabled={constants.nonMappedModules.includes(title)}\n            options={modeSelectItems}\n            onChange={e => {\n              setMode(e.value);\n            }}\n          />\n        </div>\n      </div>\n      <div className=\"divider\"></div>\n    </div>\n  );\n};\n\nexport default ModuleHeader;\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport ModuleHeader from \"../common/ModuleHeader\";\nimport constants from \"../../constants\";\nimport utils from \"../../utils\";\n\nconst Main = ({\n  title,\n  mode,\n  setMode,\n  year,\n  setYear,\n  yearSelectItems,\n  assetId,\n  setAssetId,\n  assetClassSelectItems,\n  children\n}) => {\n  if (!constants.modes.includes(mode)) setMode(utils.defaultMode(title));\n\n  return (\n    <Card\n      header={\n        <ModuleHeader\n          title={title}\n          mode={mode}\n          setMode={setMode}\n          year={year}\n          setYear={setYear}\n          assetId={assetId}\n          setAssetId={setAssetId}\n          yearSelectItems={yearSelectItems}\n          assetClassSelectItems={assetClassSelectItems}\n        />\n      }\n      style={{ width: \"100%\", overflowX: \"auto\" }}>\n      {children}\n    </Card>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\nimport { Dropdown } from \"primereact/dropdown\";\n\nconst DropdownController = ({\n  Controller,\n  control,\n  errors,\n  controllerName,\n  label,\n  width,\n  required,\n  otherRules,\n  dropdownOptions,\n  placeholder,\n  onChangeCallback,\n  labelWidth,\n  errorMessage = \"\",\n  defaultValue = \"\",\n  className = \"p-d-flex p-flex-column\"\n}) => {\n  const ControllerError = () => (\n    <>\n      {errors[controllerName] && (\n        <span style={{ fontSize: 12, color: \"red\", marginLeft: labelWidth ? labelWidth : 0 }}>\n          {errorMessage}\n        </span>\n      )}\n    </>\n  );\n\n  return (\n    <>\n      <div className={className}>\n        {label && (\n          <p\n            style={{\n              marginBottom:\n                !errors[controllerName] || className === \"p-d-flex p-flex-column\" ? 5 : 0,\n              marginTop: 0,\n              width: labelWidth ? labelWidth : \"auto\"\n            }}>\n            {label}\n          </p>\n        )}\n        <Controller\n          name={controllerName}\n          control={control}\n          rules={{ required, ...otherRules }}\n          defaultValue={defaultValue}\n          render={props => (\n            <Dropdown\n              style={{\n                marginBottom:\n                  !errors[controllerName] || className === \"p-d-flex p-flex-column\" ? 5 : 0,\n                width: width || 200\n              }}\n              value={props.value}\n              options={dropdownOptions}\n              placeholder={placeholder}\n              onChange={e => {\n                props.onChange(e.target.value);\n                if (onChangeCallback) onChangeCallback(e.target.value);\n              }}\n            />\n          )}\n        />\n        {className === \"p-d-flex p-flex-column\" && <ControllerError />}\n      </div>\n      {className !== \"p-d-flex p-flex-column\" && <ControllerError />}\n    </>\n  );\n};\n\nexport default DropdownController;\n","import React from \"react\";\nimport { InputText } from \"primereact/inputtext\";\n\nconst InputController = ({\n  Controller,\n  control,\n  errors,\n  controllerName,\n  label,\n  width,\n  required,\n  disabled,\n  otherRules,\n  placeholder,\n  value,\n  onChangeCallback,\n  labelWidth,\n  errorMessage = \"\",\n  defaultValue = \"\",\n  className = \"p-d-flex p-flex-column\"\n}) => {\n  const ControllerError = () => (\n    <>\n      {errors[controllerName] && (\n        <span style={{ fontSize: 12, color: \"red\", marginLeft: labelWidth ? labelWidth : 0 }}>\n          {errorMessage}\n        </span>\n      )}\n    </>\n  );\n\n  return (\n    <>\n      <div className={className}>\n        {label && (\n          <p\n            style={{\n              marginBottom:\n                !errors[controllerName] || className === \"p-d-flex p-flex-column\" ? 5 : 0,\n              marginTop: 0,\n              width: labelWidth ? labelWidth : \"auto\"\n            }}>\n            {label}\n          </p>\n        )}\n        <Controller\n          name={controllerName}\n          control={control}\n          rules={{ required, ...otherRules }}\n          defaultValue={defaultValue}\n          render={props => (\n            <InputText\n              disabled={disabled}\n              style={{\n                marginBottom:\n                  !errors[controllerName] || className === \"p-d-flex p-flex-column\" ? 5 : 0,\n                width: width || 200\n              }}\n              value={value || props.value}\n              placeholder={placeholder}\n              onChange={e => {\n                props.onChange(e.target.value);\n                if (onChangeCallback) onChangeCallback(e.target.value);\n              }}\n            />\n          )}\n        />\n        {className === \"p-d-flex p-flex-column\" && <ControllerError />}\n      </div>\n      {className !== \"p-d-flex p-flex-column\" && <ControllerError />}\n    </>\n  );\n};\n\nexport default InputController;\n","import React from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { balancingAdjustmentAdding } from \"../../apis/BalancingAdjustment\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport utils from \"../../utils\";\nimport constants from \"../../constants\";\nimport DropdownController from \"../controllers/DropdownController\";\nimport InputController from \"../controllers/InputController\";\n\nconst BalancingAdjustmentAdding = ({ yearSelectItems, assetClassSelectItems, toast }) => {\n  const { errors, handleSubmit, control } = useForm();\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState(false);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    const { year, assetId, cost, salesProceed, yearBought } = data;\n\n    setLoading(true);\n    try {\n      const response = await balancingAdjustmentAdding({\n        year,\n        assetId,\n        cost,\n        salesProceed,\n        yearBought,\n        companyId\n      });\n      if (response.status === 200) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"success\",\n            detail: response.data.responseDescription\n          })\n        );\n      }\n    } catch (error) {\n      if (error.response) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Error\",\n            detail:\n              \"An error occurred while calculating balancing adjustment, kindly contact your admin.\"\n          })\n        );\n        return;\n      }\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          summary: \"Network Error\",\n          detail: constants.networkErrorMessage\n        })\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <form className=\"p-d-flex p-flex-column p-jc-between\" onSubmit={handleSubmit(onSubmit)}>\n      <div style={{ marginBottom: 10 }}>\n        <DropdownController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"year\"\n          label=\"Year\"\n          required\n          dropdownOptions={yearSelectItems}\n          errorMessage=\"Year is required\"\n          labelWidth={120}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <DropdownController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"assetId\"\n          label=\"Asset\"\n          required\n          dropdownOptions={assetClassSelectItems}\n          errorMessage=\"Asset is required\"\n          labelWidth={120}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <InputController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"cost\"\n          label=\"Cost\"\n          required\n          errorMessage=\"Cost is required\"\n          labelWidth={120}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <InputController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"salesProceed\"\n          label=\"Sales Proceed\"\n          required\n          errorMessage=\"Sales Proceed is required\"\n          labelWidth={120}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <DropdownController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"yearBought\"\n          label=\"Year Bought\"\n          required\n          dropdownOptions={yearSelectItems}\n          errorMessage=\"Year Bought is required\"\n          labelWidth={120}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div className=\"p-d-flex p-flex-column\" style={{ marginTop: 10 }}>\n        <Button\n          type=\"submit\"\n          label={!loading ? \"Submit\" : null}\n          icon={loading ? \"pi pi-spin pi-spinner\" : null}\n          style={{ width: 320 }}\n        />\n      </div>\n    </form>\n  );\n};\n\nexport default BalancingAdjustmentAdding;\n","import axios from \"axios\";\n\nexport const addCompany = async ({\n  companyName,\n  companyDescription,\n  cacNumber,\n  tinNumber,\n  openingYear,\n  closingYear\n}) => {\n  try {\n    return await axios.post(\"/api/Companies/add-company\", {\n      companyName,\n      companyDescription,\n      cacNumber,\n      tinNumber,\n      openingYear,\n      closingYear\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getCompanies = async (pageNumber = 1, pageSize = 1000) => {\n  try {\n    const { data } = await axios.get(\n      `/api/Companies/get-companies${\n        pageNumber && pageSize ? `?PageNumber=${pageNumber}&PageSIze=${pageSize}` : \"\"\n      }`\n    );\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import axios from \"axios\";\n\nexport const uploadTrialBalance = async ({ file, companyId, year }) => {\n  try {\n    var formData = new FormData();\n    formData.append(\"File\", file.item(0));\n    formData.append(\"CompanyId\", companyId);\n    formData.append(\"YearId\", year);\n    return await axios.post(\"/api/TrialBalance\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getTrialBalance = async ({ companyId, year }) => {\n  try {\n    const { data } = await axios.get(`/api/TrialBalance?companyId=${companyId}&yearId=${year}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import { createResource } from \"react-resource-router\";\nimport { getCompanies } from \"../../apis/Companies\";\nimport { getTrialBalance } from \"../../apis/TrialBalance\";\nimport { getModuleItems } from \"../../apis/Utilities\";\nimport utils from \"../../utils\";\n\nexport const companiesResource = createResource({\n  type: \"COMPANIES\",\n  getKey: () => \"companies\",\n  getData: () => getCompanies()\n});\n\nexport const fixedAssetModuleClassResource = createResource({\n  type: \"FIXED_ASSET_MODULE_CLASS\",\n  getKey: () => \"fixedAssetModuleClass\",\n  getData: () => getModuleItems({ moduleCode: \"fixedasset\" })\n});\n\nexport const profitandlossModuleClassResource = createResource({\n  type: \"PROFIT_AND_LOSS_MODULE_CLASS\",\n  getKey: () => \"profitandlossModuleClass\",\n  getData: () => getModuleItems({ moduleCode: \"profitandloss\" })\n});\n\nexport const trialBalanceResource = createResource({\n  type: \"TRIAL_BALANCE\",\n  getKey: () => \"trialBalance\",\n  getData: () =>\n    getTrialBalance({ companyId: sessionStorage.getItem(\"cid\"), year: utils.currentYear() })\n});\n","import React from \"react\";\nimport Layout from \"../layout\";\n\nconst PageLoader = ({ title }) => {\n  return (\n    <Layout title={title} loading={true}>\n      <div\n        className=\"p-d-flex p-flex-column p-jc-center p-ai-center\"\n        style={{ height: \"calc(100vh - 120px)\" }}>\n        <i className=\"pi pi-spin pi-spinner\" style={{ fontSize: 24 }}></i>\n        <p>Loading data...</p>\n      </div>\n    </Layout>\n  );\n};\n\nexport default PageLoader;\n","import { Button } from \"primereact/button\";\nimport React from \"react\";\nimport constants from \"../../constants\";\nimport Layout from \"../layout\";\n\nconst Error = ({ title, error, refresh }) => {\n  return (\n    <Layout title={title}>\n      <div\n        className=\"p-d-flex p-flex-column p-jc-center p-ai-center\"\n        style={{ height: \"calc(100vh - 120px)\" }}>\n        <Button\n          icon=\"pi pi-refresh pi-24\"\n          className=\"p-button-rounded p-button-text\"\n          onClick={refresh}\n        />\n        <div style={{ width: 400, textAlign: \"center\" }}>\n          {error.response ? (\n            error.response.data.errors.error.map(error => <p>{error}</p>)\n          ) : error.message === \"Network Error\" ? (\n            <p>{constants.networkErrorMessage}</p>\n          ) : (\n            <p>{error.message}</p>\n          )}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Error;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport constants from \"../constants\";\nimport BalancingAdjustmentView from \"../components/balancing_adjustment/BalancingAdjustmentView\";\nimport Main from \"../components/layout/Main\";\nimport utils from \"../utils\";\nimport { usePathParam, useResource } from \"react-resource-router\";\nimport { Toast } from \"primereact/toast\";\nimport BalancingAdjustmentAdding from \"../components/balancing_adjustment/BalancingAdjustmentAdding\";\nimport { fixedAssetModuleClassResource } from \"../routes/resources\";\nimport { useResources } from \"../store/ResourcesStore\";\nimport PageLoader from \"../components/common/PageLoader\";\nimport Error from \"../components/common/Error\";\n\nconst BalancingAdjustment = () => {\n  const title = constants.modules.balancingAdjustment;\n  const toast = React.useRef();\n  const { data: assetClass, error: assetClassError, refresh: assetClassRefresh } = useResource(\n    fixedAssetModuleClassResource\n  );\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [resources, { onFixedAssetModuleItems }] = useResources();\n  const [assetClassSelectItems, setAssetClassSelectItems] = React.useState([]);\n  const [year, setYear] = React.useState(utils.currentYear());\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  React.useEffect(() => {\n    if (assetClass) onFixedAssetModuleItems(assetClass);\n  }, [assetClass, onFixedAssetModuleItems]);\n\n  React.useEffect(() => {\n    if (resources.fixedAssetModuleItems) {\n      setAssetClassSelectItems(\n        resources.fixedAssetModuleItems.map(({ id: assetClassId, name }) => ({\n          label: name,\n          value: assetClassId\n        }))\n      );\n    }\n  }, [resources.fixedAssetModuleItems]);\n\n  if (assetClassError)\n    return <Error title={title} error={assetClassError} refresh={assetClassRefresh} />;\n\n  if (!resources.fixedAssetModuleItems) return <PageLoader title={title} />;\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        {\n          {\n            adding: (\n              <BalancingAdjustmentAdding\n                yearSelectItems={yearSelectItems}\n                assetClassSelectItems={assetClassSelectItems}\n                toast={toast.current}\n              />\n            ),\n            view: (\n              <ViewMode title={title} year={year}>\n                <BalancingAdjustmentView year={year} toast={toast.current} />\n              </ViewMode>\n            )\n          }[mode]\n        }\n      </Main>\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\n    </Layout>\n  );\n};\n\nexport default BalancingAdjustment;\n","import axios from \"axios\";\n\nexport const capitalAllowanceAdding = async ({\n  companyId,\n  taxYear,\n  assetId,\n  openingResidue,\n  addition,\n  disposal,\n  initial,\n  annual,\n  total,\n  closingResidue,\n  yearsToGo\n}) => {\n  try {\n    return await axios.post(\"/api/CapitalAllowance\", {\n      companyId,\n      taxYear,\n      assetId,\n      openingResidue,\n      addition,\n      disposal,\n      initial,\n      annual,\n      total,\n      closingResidue,\n      yearsToGo\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const capitalAllowanceViewData = async ({ companyId, assetId }) => {\n  try {\n    const { data } = await axios.get(`/api/CapitalAllowance/${companyId}/${assetId}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport Loader from \"../common/Loader\";\nimport { capitalAllowanceViewData } from \"../../apis/CapitalAllowance\";\nimport utils from \"../../utils\";\n\nconst CapitalAllowanceView = ({ assetId }) => {\n  const isMounted = React.useRef(false);\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState();\n  const [error, setError] = React.useState();\n  const [capitalAllowanceData, setCapitalAllowanceData] = React.useState([]);\n\n  React.useEffect(() => {\n    if (!companyId) return;\n\n    isMounted.current = true;\n    const fetchCapitalAllowanceViewData = async () => {\n      if (!assetId) return;\n\n      try {\n        setError(null);\n        setLoading(true);\n        const {\n          capitalAllowances,\n          openingResidualTotal,\n          additionTotal,\n          disposalTotal,\n          initialTotal,\n          annualTotal,\n          totalTotal,\n          closingResidueTotal\n        } = await capitalAllowanceViewData({ companyId, assetId });\n        if (isMounted.current)\n          setCapitalAllowanceData(() => {\n            const newState = capitalAllowances\n              .map(capitalAllowance => ({\n                ...capitalAllowance,\n                taxYear: <strong>{capitalAllowance.taxYear}</strong>,\n                openingResidue: capitalAllowance.openingResidue,\n                addition: capitalAllowance.addition,\n                disposal: capitalAllowance.disposal,\n                initial: capitalAllowance.initial,\n                annual: capitalAllowance.annual,\n                total: capitalAllowance.total,\n                closingResidue: capitalAllowance.closingResidue\n              }))\n              .concat([\n                {\n                  taxYear: \"\",\n                  openingResidue: \"\",\n                  addition: \"\",\n                  disposal: \"\",\n                  initial: \"\",\n                  annual: \"\",\n                  total: \"\",\n                  closingResidue: \"\"\n                },\n                {\n                  openingResidue: <strong>{utils.currencyFormatter(openingResidualTotal)}</strong>,\n                  addition: <strong>{utils.currencyFormatter(additionTotal)}</strong>,\n                  disposal: <strong>{utils.currencyFormatter(disposalTotal)}</strong>,\n                  initial: <strong>{utils.currencyFormatter(initialTotal)}</strong>,\n                  annual: <strong>{utils.currencyFormatter(annualTotal)}</strong>,\n                  total: <strong>{utils.currencyFormatter(totalTotal)}</strong>,\n                  closingResidue: <strong>{utils.currencyFormatter(closingResidueTotal)}</strong>\n                }\n              ]);\n\n            return newState;\n          });\n      } catch (error) {\n        if (isMounted.current) {\n          if (error.response) setError(error.response.data.errors[0]);\n          else setError(error.message);\n        }\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    fetchCapitalAllowanceViewData();\n\n    return () => (isMounted.current = false);\n  }, [companyId, assetId]);\n\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\n\n  if (loading) return <Loader />;\n\n  if (capitalAllowanceData.length === 0)\n    return (\n      <p style={{ color: \"#f00\" }}>Currently, no data for the selected year for this company</p>\n    );\n\n  return (\n    <DataTable\n      className=\"p-datatable-gridlines\"\n      value={capitalAllowanceData}\n      style={{ marginTop: 40, width: 1200 }}\n      scrollable>\n      <Column field=\"taxYear\" header=\"Tax Year\" headerStyle={{ width: \"6em\" }}></Column>\n      <Column\n        field=\"openingResidue\"\n        header=\"Opening Residue\"\n        headerStyle={{ width: \"10em\" }}></Column>\n      <Column field=\"addition\" header=\"Addition\" headerStyle={{ width: \"10em\" }}></Column>\n      <Column field=\"disposal\" header=\"Disposal\" headerStyle={{ width: \"10em\" }}></Column>\n      <Column field=\"initial\" header=\"Initial\" headerStyle={{ width: \"10em\" }}></Column>\n      <Column field=\"annual\" header=\"Annual\" headerStyle={{ width: \"10em\" }}></Column>\n      <Column field=\"total\" header=\"Total\" headerStyle={{ width: \"10em\" }}></Column>\n      <Column\n        field=\"closingResidue\"\n        header=\"Closing Residue\"\n        headerStyle={{ width: \"10em\" }}></Column>\n      <Column field=\"yearsToGo\" header=\"Yr to go\" headerStyle={{ width: \"6em\" }}></Column>\n    </DataTable>\n  );\n};\n\nexport default CapitalAllowanceView;\n","import React from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport utils from \"../../utils\";\nimport constants from \"../../constants\";\nimport { capitalAllowanceAdding } from \"../../apis/CapitalAllowance\";\nimport DropdownController from \"../controllers/DropdownController\";\nimport InputController from \"../controllers/InputController\";\n\nconst CapitalAllowanceAdding = ({ yearSelectItems, assetClassSelectItems, toast }) => {\n  const { errors, handleSubmit, control } = useForm();\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState(false);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    const {\n      taxYear,\n      assetId,\n      openingResidue,\n      addition,\n      disposal,\n      initial,\n      annual,\n      total,\n      closingResidue,\n      yearsToGo\n    } = data;\n\n    setLoading(true);\n    try {\n      const response = await capitalAllowanceAdding({\n        companyId,\n        taxYear,\n        assetId,\n        openingResidue,\n        addition,\n        disposal,\n        initial,\n        annual,\n        total,\n        closingResidue,\n        yearsToGo\n      });\n      if (response.status === 200) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"success\",\n            detail: response.data\n          })\n        );\n      }\n    } catch (error) {\n      if (error.response) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Error\",\n            detail:\n              \"An error occurred while calculating capital allowance, kindly contact your admin.\"\n          })\n        );\n        return;\n      }\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          summary: \"Network Error\",\n          detail: constants.networkErrorMessage\n        })\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <form className=\"p-d-flex p-flex-column p-jc-between\" onSubmit={handleSubmit(onSubmit)}>\n      <div style={{ marginBottom: 10 }}>\n        <DropdownController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"taxYear\"\n          label=\"Tax Year\"\n          required\n          dropdownOptions={yearSelectItems}\n          errorMessage=\"Tax Year is required\"\n          labelWidth={150}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <DropdownController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"assetId\"\n          label=\"Asset\"\n          required\n          dropdownOptions={assetClassSelectItems}\n          errorMessage=\"Asset is required\"\n          labelWidth={150}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <InputController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"openingResidue\"\n          label=\"Opening Residue\"\n          required\n          errorMessage=\"Opening Residue is required\"\n          labelWidth={150}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <InputController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"addition\"\n          label=\"Addition\"\n          required\n          errorMessage=\"Addition is required\"\n          labelWidth={150}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <InputController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"disposal\"\n          label=\"Disposal\"\n          required\n          errorMessage=\"Disposal is required\"\n          labelWidth={150}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <InputController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"initial\"\n          label=\"Initial\"\n          required\n          errorMessage=\"Initial is required\"\n          labelWidth={150}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <InputController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"annual\"\n          label=\"Annual\"\n          required\n          errorMessage=\"Annual is required\"\n          labelWidth={150}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <InputController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"total\"\n          label=\"Total\"\n          required\n          errorMessage=\"Total is required\"\n          labelWidth={150}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <InputController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"closingResidue\"\n          label=\"Closing Residue\"\n          required\n          errorMessage=\"Closing Residue is required\"\n          labelWidth={150}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <InputController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"yearsToGo\"\n          label=\"Years To Go\"\n          required\n          errorMessage=\"Years To Go is required\"\n          labelWidth={150}\n          className=\"p-d-flex p-ai-center\"\n        />\n      </div>\n      <div className=\"p-d-flex p-flex-column\" style={{ marginTop: 10 }}>\n        <Button\n          type=\"submit\"\n          label={!loading ? \"Submit\" : null}\n          icon={loading ? \"pi pi-spin pi-spinner\" : null}\n          style={{ width: 350 }}\n        />\n      </div>\n    </form>\n  );\n};\n\nexport default CapitalAllowanceAdding;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport constants from \"../constants\";\nimport CapitalAllowanceView from \"../components/capital_allowance/CapitalAllowanceView\";\nimport Main from \"../components/layout/Main\";\nimport utils from \"../utils\";\nimport CapitalAllowanceAdding from \"../components/capital_allowance/CapitalAllowanceAdding\";\nimport { Toast } from \"primereact/toast\";\nimport { fixedAssetModuleClassResource } from \"../routes/resources\";\nimport { useResources } from \"../store/ResourcesStore\";\nimport { usePathParam, useResource } from \"react-resource-router\";\nimport PageLoader from \"../components/common/PageLoader\";\nimport Error from \"../components/common/Error\";\n\nconst CapitalAllowance = () => {\n  const title = constants.modules.capitalAllowance;\n  const toast = React.useRef();\n  const { data: assetClass, error: assetClassError, refresh: assetClassRefresh } = useResource(\n    fixedAssetModuleClassResource\n  );\n  const [resources, { onFixedAssetModuleItems }] = useResources();\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const [assetId, setAssetId] = React.useState();\n  const [assetClassSelectItems, setAssetClassSelectItems] = React.useState([]);\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  React.useEffect(() => {\n    if (assetClass) onFixedAssetModuleItems(assetClass);\n  }, [assetClass, onFixedAssetModuleItems]);\n\n  React.useEffect(() => {\n    if (resources.fixedAssetModuleItems) {\n      setAssetClassSelectItems(\n        resources.fixedAssetModuleItems.map(({ id: assetClassId, name }) => ({\n          label: name,\n          value: assetClassId\n        }))\n      );\n      setAssetId(resources.fixedAssetModuleItems[0].id);\n    }\n  }, [resources.fixedAssetModuleItems]);\n\n  if (assetClassError)\n    return <Error title={title} error={assetClassError} refresh={assetClassRefresh} />;\n\n  if (!resources.fixedAssetModuleItems) return <PageLoader title={title} />;\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}\n        assetId={assetId}\n        setAssetId={setAssetId}\n        assetClassSelectItems={assetClassSelectItems}>\n        {\n          {\n            adding: (\n              <CapitalAllowanceAdding\n                yearSelectItems={yearSelectItems}\n                assetClassSelectItems={assetClassSelectItems}\n                toast={toast.current}\n              />\n            ),\n            view: (\n              <ViewMode title={title} year={year}>\n                <CapitalAllowanceView assetId={assetId} />\n              </ViewMode>\n            )\n          }[mode]\n        }\n      </Main>\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\n    </Layout>\n  );\n};\n\nexport default CapitalAllowance;\n","import React from \"react\";\nimport { Dialog } from \"primereact/dialog\";\nimport { InputText } from \"primereact/inputtext\";\nimport { Button } from \"primereact/button\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { addCompany } from \"../../apis/Companies\";\nimport constants from \"../../constants\";\nimport utils from \"../../utils\";\n\nconst AddCompanyForm = ({ showAddCompany, setShowAddCompany, toast, refresh }) => {\n  const { errors, handleSubmit, control } = useForm();\n  const [loading, setLoading] = React.useState(false);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    setLoading(true);\n    const {\n      companyName,\n      cacNumber,\n      tinNumber,\n      companyDescription,\n      openingYear,\n      closingYear\n    } = data;\n    try {\n      const response = await addCompany({\n        companyName,\n        cacNumber,\n        tinNumber,\n        companyDescription,\n        openingYear,\n        closingYear\n      });\n      if (response.status === 201) {\n        toast.show(\n          utils.toastCallback({ severity: \"success\", detail: \"Company added successfully\" })\n        );\n        setTimeout(() => {\n          setLoading(false);\n          setShowAddCompany(false);\n          refresh();\n        }, 2000);\n      }\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const {\n          data: { errors }\n        } = error.response;\n        // display main error as toast notification\n        if (!errors?.error?.companyError && !errors?.error?.CompanyDescription) {\n          errors.map(err =>\n            toast.show(utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: err }))\n          );\n          return;\n        }\n        // display all errors as toast notification\n        errors?.error?.companyError &&\n          errors.error.companyError.map(err =>\n            toast.show(utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: err }))\n          );\n        errors?.error?.CompanyDescription &&\n          errors.error.CompanyDescription.map(err =>\n            toast.show(utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: err }))\n          );\n      } else {\n        // network errors\n        toast.show(\n          utils.toastCallback({\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  return (\n    <Dialog\n      header=\"Add Company\"\n      visible={showAddCompany}\n      style={{ width: 400 }}\n      focusOnShow={false}\n      onHide={() => setShowAddCompany(false)}>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15 }}>\n          <label htmlFor=\"companyNameInput\" style={{ marginBottom: 10 }}>\n            Company Name\n          </label>\n          <Controller\n            name=\"companyName\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ marginBottom: 5, width: \"100%\" }}\n                id=\"companyNameInput\"\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n          {errors.companyName && (\n            <span style={{ fontSize: 12, color: \"red\" }}>Company Name is required</span>\n          )}\n        </div>\n        <div className=\"p-d-flex\">\n          <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15, marginRight: 10 }}>\n            <label htmlFor=\"cacNumberInput\" style={{ marginBottom: 10 }}>\n              Cac Number\n            </label>\n            <Controller\n              name=\"cacNumber\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  id=\"cacNumberInput\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.cacNumber && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Cac Number is required</span>\n            )}\n          </div>\n          <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15, marginLeft: 10 }}>\n            <label htmlFor=\"tinNumberInput\" style={{ marginBottom: 10 }}>\n              Tin Number\n            </label>\n            <Controller\n              name=\"tinNumber\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  id=\"tinNumberInput\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.tinNumber && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Tin Number is required</span>\n            )}\n          </div>\n        </div>\n        <div className=\"p-d-flex\">\n          <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15, marginRight: 10 }}>\n            <label htmlFor=\"openingYearInput\" style={{ marginBottom: 10 }}>\n              Opening Year\n            </label>\n            <Controller\n              name=\"openingYear\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  id=\"openingYearInput\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.openingYear && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Opening Year is required</span>\n            )}\n          </div>\n          <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15, marginLeft: 10 }}>\n            <label htmlFor=\"closingYearInput\" style={{ marginBottom: 10 }}>\n              Closing Year\n            </label>\n            <Controller\n              name=\"closingYear\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  id=\"closingYearInput\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.closingYear && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Closing Year is required</span>\n            )}\n          </div>\n        </div>\n        <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15 }}>\n          <label htmlFor=\"companyDescriptionInput\" style={{ marginBottom: 10 }}>\n            Address\n          </label>\n          <Controller\n            name=\"companyDescription\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ marginBottom: 5, width: \"100%\" }}\n                id=\"companyDescriptionInput\"\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n          {errors.companyDescription && (\n            <span style={{ fontSize: 12, color: \"red\" }}>Address is required</span>\n          )}\n        </div>\n        <Button\n          label={!loading ? \"Add Company\" : null}\n          icon={loading ? \"pi pi-spin pi-spinner\" : null}\n          type=\"submit\"\n          style={{ width: \"100%\", marginTop: 10 }}\n        />\n      </form>\n    </Dialog>\n  );\n};\n\nexport default AddCompanyForm;\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport utils from \"../../utils\";\nimport { uploadTrialBalance } from \"../../apis/TrialBalance\";\nimport constants from \"../../constants\";\n\nconst FileUploader = ({ company: { companyId }, toast, setRefreshTrialBalanceTable }) => {\n  const [file, setFile] = React.useState();\n  const [year, setYear] = React.useState();\n  const [yearSelectItems] = React.useState(utils.getYears());\n  const [loading, setLoading] = React.useState(false);\n\n  const onUpload = async () => {\n    if (loading) return;\n\n    if (!file && !year) {\n      toast.show(\n        utils.toastCallback({ severity: \"error\", detail: \"Add TB File and Select TB Year\" })\n      );\n      return;\n    } else if (!file) {\n      toast.show(utils.toastCallback({ severity: \"error\", detail: \"Add TB File\" }));\n      return;\n    } else if (!year) {\n      toast.show(utils.toastCallback({ severity: \"error\", detail: \"Select TB Year\" }));\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const response = await uploadTrialBalance({ file, companyId, year });\n      if (response.status === 200) {\n        setYear(null);\n        setFile(null);\n        setRefreshTrialBalanceTable(true);\n        toast.show(utils.toastCallback({ severity: \"success\", detail: response.data }));\n      }\n    } catch (error) {\n      if (error.response) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: \"An error occurred, kindly contact your admin\"\n          })\n        );\n      } else {\n        // network errors\n        toast.show(\n          utils.toastCallback({\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Card\n      header={\n        <div className=\"p-d-flex p-jc-center p-flex-column\" style={{ width: \"100%\" }}>\n          <div className=\"p-d-flex p-ai-center p-jc-between\" style={{ padding: \"0px 20px\" }}>\n            <p style={{ fontSize: 18, fontWeight: 600 }}>Upload File</p>\n            <div>\n              <Dropdown\n                style={{ marginRight: 20, width: 110 }}\n                value={year}\n                options={yearSelectItems}\n                onChange={e => {\n                  setYear(e.value);\n                }}\n                placeholder=\"TB Year\"\n              />\n              <Button\n                style={{ width: 110 }}\n                label={!loading ? \"Upload\" : null}\n                icon={loading ? \"pi pi-spin pi-spinner\" : \"pi pi-upload\"}\n                onClick={onUpload}\n              />\n            </div>\n          </div>\n          <div className=\"divider\"></div>\n        </div>\n      }\n      style={{ width: \"100%\", marginBottom: 20 }}>\n      <div className=\"p-d-flex\">\n        <div\n          className=\"p-d-flex p-ai-center p-jc-center\"\n          style={{ background: \"#f5f6f8\", width: \"100%\", height: 100, position: \"relative\" }}>\n          <p className=\"accent-color\" style={{ fontSize: 20 }}>\n            {file && file.item(0).name\n              ? `\"${file.item(0).name}\" ready for upload`\n              : \"Click or Drag and drop Trial Balance file here to upload.\"}\n          </p>\n          <input\n            type=\"file\"\n            accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\n            style={{\n              position: \"absolute\",\n              width: \"100%\",\n              height: \"100%\",\n              opacity: 0\n            }}\n            onChange={e => setFile(e.target.files)}\n          />\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default FileUploader;\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { Card } from \"primereact/card\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport utils from \"../../utils\";\nimport { getTrialBalance } from \"../../apis/TrialBalance\";\n\nconst TrialBalanceTable = ({\n  company: { companyId },\n  refreshTrialBalanceTable,\n  setRefreshTrialBalanceTable\n}) => {\n  const isMounted = React.useRef(false);\n  const [year, setYear] = React.useState(utils.currentYear());\n  const [yearSelectItems] = React.useState(utils.getYears());\n  const [tbData, setTbData] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    isMounted.current = true;\n    const fetchTrialBalance = async () => {\n      setLoading(true);\n      try {\n        const data = await getTrialBalance({ companyId, year });\n        if (isMounted.current) {\n          setTbData(\n            data\n              ? data.map(d => {\n                  if (d.accountId === \"\" && d.item === \"\" && d.debit === 0 && d.credit === 0) {\n                    return { ...d, debit: \"\", credit: \"\" };\n                  } else {\n                    return {\n                      ...d,\n                      debitAmt: utils.currencyFormatter(d.debit),\n                      creditAmt: utils.currencyFormatter(d.credit)\n                    };\n                  }\n                })\n              : []\n          );\n        }\n      } catch (error) {\n        console.log(error);\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    if (refreshTrialBalanceTable) {\n      fetchTrialBalance();\n      if (isMounted.current) setRefreshTrialBalanceTable(false);\n    }\n\n    return () => (isMounted.current = false);\n  }, [companyId, year, refreshTrialBalanceTable, setRefreshTrialBalanceTable]);\n\n  return (\n    <Card style={{ width: \"100%\" }}>\n      <DataTable\n        className=\"p-datatable-gridlines\"\n        value={tbData}\n        paginator={!loading && tbData.length !== 0}\n        rows={10}\n        rowsPerPageOptions={[10, 20, 50, 100]}\n        header={\n          <div className=\"p-d-flex p-ai-center p-jc-between\">\n            <p style={{ fontSize: 18, fontWeight: 600 }}>Trial Balance</p>\n            <Dropdown\n              style={{ width: 110 }}\n              value={year}\n              options={yearSelectItems}\n              onChange={e => {\n                setYear(e.value);\n                setRefreshTrialBalanceTable(true);\n              }}\n              placeholder=\"TB Year\"\n            />\n          </div>\n        }\n        footer={\n          loading || tbData.length === 0 ? (\n            <>\n              <div className=\"p-d-flex p-ai-center p-jc-center\">\n                {loading && <i className=\"pi pi-spin pi-spinner\" style={{ fontSize: \"2em\" }}></i>}\n                {!loading && tbData.length === 0 && <p>No Trial Balance data for selected year</p>}\n              </div>\n            </>\n          ) : null\n        }>\n        <Column field=\"accountId\" header=\"Account ID\"></Column>\n        <Column field=\"item\" header=\"Account Description\"></Column>\n        <Column field=\"debitAmt\" header=\"Debit Amt\"></Column>\n        <Column field=\"creditAmt\" header=\"Credit Amt\"></Column>\n      </DataTable>\n    </Card>\n  );\n};\n\nexport default TrialBalanceTable;\n","import React from \"react\";\nimport { Dialog } from \"primereact/dialog\";\nimport { Button } from \"primereact/button\";\nimport { Dropdown } from \"primereact/dropdown\";\n\nconst CompanyPicker = ({\n  setShowAddCompany,\n  showCompanyPicker,\n  setShowCompanyPicker,\n  company,\n  onSelectCompany,\n  companySelectItems,\n  setRefreshTrialBalanceTable\n}) => {\n  React.useEffect(() => setRefreshTrialBalanceTable(true), [setRefreshTrialBalanceTable]);\n\n  return (\n    <Dialog\n      header=\"Company\"\n      footer={\n        <div>\n          <Button\n            label=\"Add Company\"\n            onClick={() => {\n              setShowAddCompany(true);\n              setShowCompanyPicker(false);\n            }}\n            className=\"p-button-outlined\"\n          />\n          <Button\n            label=\"Proceed\"\n            disabled={!company.companyId}\n            onClick={() => company.companyId && setShowCompanyPicker(false)}\n          />\n        </div>\n      }\n      visible={showCompanyPicker}\n      style={{ width: 500 }}\n      blockScroll\n      focusOnShow={false}\n      closeOnEscape={false}\n      closable={false}\n      onHide={() => /* TODO: Fix here later */ setShowCompanyPicker(false)}>\n      <div className=\"p-d-flex p-flex-column\" style={{ height: 300 }}>\n        <label htmlFor=\"companyNameInput\" style={{ margin: \"0px 0px 10px 0px\" }}></label>\n        <Dropdown\n          value={company}\n          options={companySelectItems}\n          optionLabel=\"name\"\n          autoFocus\n          filter\n          filterBy=\"name\"\n          onChange={e => {\n            onSelectCompany(e.value);\n            sessionStorage.setItem(\"cid\", e.value.companyId);\n          }}\n          placeholder=\"Select a Company\"\n        />\n        {companySelectItems && companySelectItems.length === 0 && (\n          <div className=\"p-d-flex p-ai-center\" style={{ fontSize: 14, marginTop: 15 }}>\n            <i\n              className=\"pi pi-exclamation-triangle\"\n              style={{ marginRight: 10, color: \"#FBC02D\", fontSize: 20 }}></i>\n            <span>There are currently no companies, click add company button.</span>\n          </div>\n        )}\n      </div>\n    </Dialog>\n  );\n};\n\nexport default CompanyPicker;\n","import React from \"react\";\nimport AddCompanyForm from \"../components/dashboard/AddCompanyForm\";\nimport FileUploader from \"../components/dashboard/FileUploader\";\nimport Layout from \"../components/layout/index\";\nimport TrialBalanceTable from \"../components/dashboard/TrialBalanceTable\";\nimport CompanyPicker from \"../components/dashboard/CompanyPicker\";\nimport { useResource } from \"react-resource-router\";\nimport { companiesResource } from \"../routes/resources\";\nimport PageLoader from \"../components/common/PageLoader\";\nimport constants from \"../constants\";\nimport Error from \"../components/common/Error\";\nimport { useCompany } from \"../store/CompanyStore\";\nimport { Toast } from \"primereact/toast\";\nimport { useResources } from \"../store/ResourcesStore\";\n\nconst Dashboard = () => {\n  const title = constants.modules.dashboard;\n  const toast = React.useRef();\n  const { data: companies, error, refresh } = useResource(companiesResource);\n  const [showCompanyPicker, setShowCompanyPicker] = React.useState(true);\n  const [showAddCompany, setShowAddCompany] = React.useState(false);\n  const [companySelectItems, setCompanySelectItems] = React.useState(null);\n  const [refreshTrialBalanceTable, setRefreshTrialBalanceTable] = React.useState(true);\n  const [company, { onSelectCompany }] = useCompany();\n  const [resources, { onCompanies }] = useResources();\n\n  React.useEffect(() => {\n    if (!showAddCompany) {\n      setShowCompanyPicker(true);\n    }\n  }, [showAddCompany]);\n\n  React.useEffect(() => {\n    if (companies) onCompanies(companies);\n  }, [companies, onCompanies]);\n\n  React.useEffect(() => {\n    if (resources.companies) {\n      setCompanySelectItems(\n        resources.companies.map(\n          ({ id: companyId, companyName, companyDescription, cacNumber, tinNumber, isActive }) =>\n            isActive && {\n              name: companyName,\n              value: { companyId, companyName, companyDescription, cacNumber, tinNumber }\n            }\n        )\n      );\n    }\n  }, [resources.companies]);\n\n  if (error) return <Error title={title} error={error} refresh={refresh} />;\n\n  if (!resources.companies) return <PageLoader title={title} />;\n\n  return (\n    <Layout title={title}>\n      <FileUploader\n        company={company}\n        toast={toast.current}\n        setRefreshTrialBalanceTable={setRefreshTrialBalanceTable}\n      />\n      {company.companyId && (\n        <TrialBalanceTable\n          company={company}\n          refreshTrialBalanceTable={refreshTrialBalanceTable}\n          setRefreshTrialBalanceTable={setRefreshTrialBalanceTable}\n        />\n      )}\n      <AddCompanyForm\n        showAddCompany={showAddCompany}\n        setShowAddCompany={setShowAddCompany}\n        toast={toast.current}\n        refresh={refresh}\n      />\n      {company.companyId === null && (\n        <CompanyPicker\n          setShowAddCompany={setShowAddCompany}\n          showCompanyPicker={showCompanyPicker}\n          setShowCompanyPicker={setShowCompanyPicker}\n          company={company}\n          onSelectCompany={onSelectCompany}\n          companySelectItems={companySelectItems}\n          setRefreshTrialBalanceTable={setRefreshTrialBalanceTable}\n        />\n      )}\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\n    </Layout>\n  );\n};\n\nexport default Dashboard;\n","import React from \"react\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Button } from \"primereact/button\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\n\nconst MappingMode = ({ year, setYear, yearSelectItems }) => {\n  const [item, setItem] = React.useState();\n  const [selectedAccounts, setSelectedAccounts] = React.useState();\n  const [allAccount] = React.useState([\n    {\n      accountDescription: \"Petty Cash\",\n      debitAmount: \"₦52,154.07\",\n      creditAmount: \"₦0.00\"\n    },\n    {\n      accountDescription: \"Inventory\",\n      debitAmount: \"₦20,000.00\",\n      creditAmount: \"₦0.00\"\n    },\n    {\n      accountDescription: \"Plant & Machinery\",\n      debitAmount: \"₦3,966,900.64\",\n      creditAmount: \"₦0.00\"\n    },\n    {\n      accountDescription: \"Furniture & Fittings\",\n      debitAmount: \"₦12,252,961.97\",\n      creditAmount: \"₦0.00\"\n    },\n    {\n      accountDescription: \"Branch Cash Movement\",\n      debitAmount: \"₦0.00\",\n      creditAmount: \"₦349.03\"\n    }\n  ]);\n  const itemSelectItems = [\n    { label: \"Revenue\", value: \"Revenue\" },\n    { label: \"Other Income\", value: \"Other Income\" }\n  ];\n\n  return (\n    <>\n      <form className=\"p-d-flex p-jc-between\">\n        <Dropdown\n          style={{ width: 250 }}\n          value={item}\n          options={itemSelectItems}\n          onChange={e => {\n            setItem(e.value);\n          }}\n          placeholder=\"Select an Item\"\n        />\n        <Dropdown\n          style={{ width: 250 }}\n          value={year}\n          options={yearSelectItems}\n          onChange={e => {\n            setYear(e.value);\n          }}\n          placeholder=\"Select Year\"\n        />\n        <Button type=\"submit\" label=\"Submit\" style={{ width: 250 }} />\n      </form>\n      <DataTable\n        className=\"p-datatable-gridlines\"\n        value={allAccount}\n        selection={selectedAccounts}\n        onSelectionChange={e => {\n          setSelectedAccounts(e.value);\n        }}\n        style={{ marginTop: 50 }}>\n        <Column selectionMode=\"multiple\" style={{ width: \"3em\" }} />\n        <Column field=\"accountDescription\" header=\"Account Description\"></Column>\n        <Column field=\"debitAmount\" header=\"Debit Amount\"></Column>\n        <Column field=\"creditAmount\" header=\"Credit Amount\"></Column>\n        <Column field=\"mappedCode\" header=\"Mapped To\"></Column>\n      </DataTable>\n    </>\n  );\n};\n\nexport default MappingMode;\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\n\nconst DeferredTaxView = () => {\n  const [deferredTaxData] = React.useState([\n    {\n      category: \"Net Book Value of Fixed Assets as at 31.12.19\",\n      debit: \"\",\n      credit: \"₦10,633,000.00\"\n    },\n    {\n      category: \"Less:\",\n      debit: \"\",\n      credit: \"\"\n    },\n    {\n      category: \"Tax Written Down Value as at 31.12.19\",\n      debit: \"(₦2,932,845,440.00)\",\n      credit: \"\"\n    },\n    {\n      category: \"Unabsorbed Capital Allowance\",\n      debit: \"(₦561,061,694.00)\",\n      credit: \"\"\n    },\n    {\n      category: \"Impairment on Receivables\",\n      debit: \"₦44,723,000.00\",\n      credit: \"(₦3,449,184,134.00)\"\n    }\n  ]);\n\n  return (\n    <DataTable className=\"p-datatable-gridlines\" value={deferredTaxData} style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      <Column field=\"debit\" header=\"₦\"></Column>\n      <Column field=\"credit\" header=\"₦\"></Column>\n    </DataTable>\n  );\n};\n\nexport default DeferredTaxView;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport MappingMode from \"../components/common/MappingMode\";\nimport DeferredTaxView from \"../components/deferred_tax/DeferredTaxView\";\nimport constants from \"../constants\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport Main from \"../components/layout/Main\";\nimport utils from \"../utils\";\nimport { usePathParam } from \"react-resource-router\";\n\nconst DeferredTax = () => {\n  const title = constants.modules.deferredTax;\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        {\n          {\n            mapping: (\n              <MappingMode year={year} setYear={setYear} yearSelectItems={yearSelectItems} />\n            ),\n            view: (\n              <ViewMode title={title} year={year}>\n                <DeferredTaxView />\n              </ViewMode>\n            )\n          }[mode]\n        }\n      </Main>\n    </Layout>\n  );\n};\n\nexport default DeferredTax;\n","import axios from \"axios\";\n\nexport const fixedAssetMapping = async ({\n  companyId,\n  yearId,\n  mappedCode,\n  assetId,\n  triBalanceId,\n  isCost,\n  openingCost,\n  transferCost,\n  transferDepreciation,\n  isTransferCostRemoved,\n  isTransferDepreciationRemoved,\n  costAddition,\n  costDisposal,\n  openingDepreciation,\n  depreciationAddition,\n  depreciationDisposal\n}) => {\n  try {\n    return await axios.post(\"/api/FixedAsset\", {\n      companyId,\n      yearId,\n      mappedCode,\n      assetId,\n      triBalanceId,\n      isCost,\n      openingCost,\n      transferCost,\n      transferDepreciation,\n      isTransferCostRemoved,\n      isTransferDepreciationRemoved,\n      costAddition,\n      costDisposal,\n      openingDepreciation,\n      depreciationAddition,\n      depreciationDisposal\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const fixedAssetViewData = async ({ companyId, year }) => {\n  try {\n    const { data } = await axios.get(`/api/FixedAsset/${companyId}/${year}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const fixedAssetUnmapping = async ({ id }) => {\n  try {\n    return await axios.put(`/api/FixedAsset/fixed-asset/${id}`);\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { Button } from \"primereact/button\";\nimport { fixedAssetUnmapping } from \"../../apis/FixedAsset\";\nimport constants from \"../../constants\";\nimport utils from \"../../utils\";\nimport { Checkbox } from \"primereact/checkbox\";\n\nconst TrialBalanceMappingTable = ({\n  title,\n  tbData,\n  selectedAccounts,\n  setSelectedAccounts,\n  trialBalanceRefresh,\n  toast\n}) => {\n  const [debitRowChecks, setDebitRowChecks] = React.useState([]);\n  const [creditRowChecks, setCreditRowChecks] = React.useState([]);\n\n  return (\n    <DataTable\n      className=\"p-datatable-gridlines\"\n      value={tbData}\n      paginator={tbData.length !== 0}\n      rows={10}\n      rowsPerPageOptions={[10, 20, 50, 100]}\n      selection={selectedAccounts}\n      onSelectionChange={e => {\n        if (e.value.length > 0) {\n          !tbData.find(d => d.id === e.value[e.value.length - 1].id).mappedTo\n            ? setSelectedAccounts(e.value)\n            : toast.show(\n                utils.toastCallback({\n                  severity: \"error\",\n                  detail: \"This item has been mapped\"\n                })\n              );\n        } else {\n          setSelectedAccounts(e.value);\n        }\n      }}\n      style={{ marginTop: 50 }}\n      footer={\n        tbData.length === 0 && (\n          <>\n            <div className=\"p-d-flex p-ai-center p-jc-center\">\n              <p>No Trial Balance data, upload a Trial Balance file</p>\n            </div>\n          </>\n        )\n      }>\n      {title === constants.modules.profit_loss && (\n        <Column\n          field=\"isDebitChecked\"\n          header=\"Debit\"\n          style={{ width: \"5em\", textAlign: \"center\" }}\n          body={rowData => {\n            return (\n              <Checkbox\n                onChange={e => {\n                  setDebitRowChecks(state => {\n                    if (e.checked) return state.concat([rowData.id]);\n                    else return state.filter(id => id !== rowData.id);\n                  });\n                  if (rowData.mappedTo) {\n                    toast.show(\n                      utils.toastCallback({\n                        severity: \"error\",\n                        detail: \"This item has been mapped\"\n                      })\n                    );\n                  } else {\n                    if (e.checked) {\n                      let selectedAccountIndex;\n                      const selectedAccount = selectedAccounts.find((selectedAccount, index) => {\n                        selectedAccountIndex = index;\n                        return selectedAccount.trialBalanceId === rowData.id;\n                      });\n                      if (selectedAccount) {\n                        setSelectedAccounts(state => {\n                          state[selectedAccountIndex] = {\n                            ...state[selectedAccountIndex],\n                            trialBalanceId: rowData.id,\n                            isDebit: true,\n                            isCredit: true,\n                            isBoth: true\n                          };\n                          return state;\n                        });\n                      } else {\n                        setSelectedAccounts([\n                          ...selectedAccounts,\n                          {\n                            trialBalanceId: rowData.id,\n                            isDebit: true,\n                            isCredit: false,\n                            isBoth: false\n                          }\n                        ]);\n                      }\n                    } else {\n                      let selectedAccountIndex;\n                      const selectedAccount = selectedAccounts.find((selectedAccount, index) => {\n                        selectedAccountIndex = index;\n                        return selectedAccount.trialBalanceId === rowData.id;\n                      });\n                      if (selectedAccount?.isCredit) {\n                        setSelectedAccounts(state => {\n                          state[selectedAccountIndex] = {\n                            ...state[selectedAccountIndex],\n                            trialBalanceId: rowData.id,\n                            isDebit: false,\n                            isCredit: true,\n                            isBoth: false\n                          };\n                          return state;\n                        });\n                      } else {\n                        setSelectedAccounts(\n                          selectedAccounts.filter(\n                            selectedAccount => selectedAccount.trialBalanceId !== rowData.id\n                          )\n                        );\n                      }\n                    }\n                  }\n                }}\n                checked={debitRowChecks.includes(rowData.id)}></Checkbox>\n            );\n          }}\n        />\n      )}\n      {title === constants.modules.profit_loss && (\n        <Column\n          field=\"isCreditChecked\"\n          header=\"Credit\"\n          style={{ width: \"5em\", textAlign: \"center\" }}\n          body={rowData => {\n            return (\n              <Checkbox\n                onChange={e => {\n                  setCreditRowChecks(state => {\n                    if (e.checked) return state.concat([rowData.id]);\n                    else return state.filter(id => id !== rowData.id);\n                  });\n                  if (rowData.mappedTo) {\n                    toast.show(\n                      utils.toastCallback({\n                        severity: \"error\",\n                        detail: \"This item has been mapped\"\n                      })\n                    );\n                  } else {\n                    if (e.checked) {\n                      let selectedAccountIndex;\n                      const selectedAccount = selectedAccounts.find((selectedAccount, index) => {\n                        selectedAccountIndex = index;\n                        return selectedAccount.trialBalanceId === rowData.id;\n                      });\n                      if (selectedAccount) {\n                        setSelectedAccounts(state => {\n                          state[selectedAccountIndex] = {\n                            ...state[selectedAccountIndex],\n                            trialBalanceId: rowData.id,\n                            isDebit: true,\n                            isCredit: true,\n                            isBoth: true\n                          };\n                          return state;\n                        });\n                      } else {\n                        setSelectedAccounts([\n                          ...selectedAccounts,\n                          {\n                            trialBalanceId: rowData.id,\n                            isDebit: false,\n                            isCredit: true,\n                            isBoth: false\n                          }\n                        ]);\n                      }\n                    } else {\n                      let selectedAccountIndex;\n                      const selectedAccount = selectedAccounts.find((selectedAccount, index) => {\n                        selectedAccountIndex = index;\n                        return selectedAccount.trialBalanceId === rowData.id;\n                      });\n                      if (selectedAccount?.isDebit) {\n                        setSelectedAccounts(state => {\n                          state[selectedAccountIndex] = {\n                            ...state[selectedAccountIndex],\n                            trialBalanceId: rowData.id,\n                            isDebit: true,\n                            isCredit: false,\n                            isBoth: false\n                          };\n                          return state;\n                        });\n                      } else {\n                        setSelectedAccounts(\n                          selectedAccounts.filter(\n                            selectedAccount => selectedAccount.trialBalanceId !== rowData.id\n                          )\n                        );\n                      }\n                    }\n                  }\n                }}\n                checked={creditRowChecks.includes(rowData.id)}></Checkbox>\n            );\n          }}\n        />\n      )}\n      {title !== constants.modules.profit_loss && (\n        <Column selectionMode=\"multiple\" style={{ width: \"3.5em\", textAlign: \"center\" }} />\n      )}\n      <Column field=\"accountId\" header=\"Account ID\"></Column>\n      <Column field=\"item\" header=\"Account Description\"></Column>\n      <Column field=\"debitAmt\" header=\"Debit Amt\"></Column>\n      <Column field=\"creditAmt\" header=\"Credit Amt\"></Column>\n      {tbData && tbData.some(d => d.mappedTo) && (\n        <Column field=\"mappedTo\" header=\"Mapped To\"></Column>\n      )}\n      {tbData && tbData.some(d => d.mappedTo) && (\n        <Column\n          field=\"unmap\"\n          header=\"Unmap\"\n          body={rowData =>\n            rowData.mappedTo && (\n              <Button\n                className=\"p-button-danger p-button-text\"\n                label=\"Unmap\"\n                onClick={async () => {\n                  try {\n                    const response = await fixedAssetUnmapping({ id: rowData.id });\n                    if (response.status === 200) {\n                      trialBalanceRefresh();\n                      toast.show(\n                        utils.toastCallback({\n                          severity: \"success\",\n                          detail: response.data\n                        })\n                      );\n                    }\n                  } catch (error) {\n                    if (error.message === \"Network Error\") {\n                      return toast.show(\n                        utils.toastCallback({\n                          severity: \"success\",\n                          detail: constants.networkErrorMessage\n                        })\n                      );\n                    }\n                    trialBalanceRefresh();\n                  }\n                }}\n              />\n            )\n          }></Column>\n      )}\n    </DataTable>\n  );\n};\n\nexport default TrialBalanceMappingTable;\n","import React from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Checkbox } from \"primereact/checkbox\";\nimport utils from \"../../utils\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport constants from \"../../constants\";\nimport { fixedAssetMapping } from \"../../apis/FixedAsset\";\nimport TrialBalanceMappingTable from \"../common/TrialBalanceMappingTable\";\nimport DropdownController from \"../controllers/DropdownController\";\nimport InputController from \"../controllers/InputController\";\n\nconst FixedAssetMapping = ({\n  year,\n  setYear,\n  yearSelectItems,\n  assetClassSelectItems,\n  tbData,\n  trialBalanceRefresh,\n  toast\n}) => {\n  const cost = \"cost\";\n  const depreciation = \"depreciation\";\n  const { errors, handleSubmit, control } = useForm();\n  const [{ companyId }] = useCompany();\n  const [closingBalance, setClosingBalance] = React.useState();\n  const [loading, setLoading] = React.useState(false);\n  const [closingBalanceAmt, setClosingBalanceAmt] = React.useState(utils.currencyFormatter(0));\n  const [selectedAccounts, setSelectedAccounts] = React.useState([]);\n  const [selectedAssetType, setSelectedAssetType] = React.useState();\n  const [transferChecked, setTransferChecked] = React.useState();\n  const typeSelectItems = [\n    { label: \"Cost\", value: cost },\n    { label: \"Depreciation\", value: depreciation }\n  ];\n\n  React.useEffect(() => {\n    trialBalanceRefresh();\n  }, [trialBalanceRefresh]);\n\n  React.useEffect(() => {\n    if (selectedAccounts) {\n      const value = selectedAccounts.reduce(\n        (accumulator, current) =>\n          accumulator + (selectedAssetType === cost ? current.debit : current.credit),\n        0\n      );\n      setClosingBalance(value);\n      setClosingBalanceAmt(utils.currencyFormatter(value));\n    }\n  }, [selectedAccounts, selectedAssetType]);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    const { assetClass, assetType, year, openingBalance, addition, disposal, transfer } = data;\n\n    if (selectedAccounts.length === 0) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: \"Select at least one account from the trial balance table\"\n        })\n      );\n      return;\n    }\n\n    if (isNaN(openingBalance)) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: \"Opening balance is not a number\"\n        })\n      );\n      return;\n    } else if (isNaN(addition)) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: `${assetType === cost ? \"Addition\" : \"Charge per year\"} value is not a number`\n        })\n      );\n      return;\n    } else if (isNaN(disposal)) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: \"Disposal value is not a number\"\n        })\n      );\n      return;\n    } else if (isNaN(transfer)) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: \"Transfer value is not a number\"\n        })\n      );\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const response = await fixedAssetMapping({\n        companyId,\n        yearId: year,\n        mappedCode: \"fixedasset\",\n        assetId: assetClass,\n        triBalanceId: selectedAccounts.map(account => account.id),\n        isCost: assetType === cost ? true : false,\n        openingCost: assetType === cost ? Number(openingBalance) : 0,\n        transferCost: assetType === cost ? Number(transfer) : 0,\n        transferDepreciation: assetType !== cost ? Number(transfer) : 0,\n        isTransferCostRemoved: assetType === cost ? transferChecked : false,\n        isTransferDepreciationRemoved: assetType !== cost ? transferChecked : false,\n        costAddition: assetType === cost ? Number(addition) : 0,\n        costDisposal: assetType === cost ? Number(disposal) : 0,\n        costClosing: assetType === cost ? Number(closingBalance) : 0,\n        openingDepreciation: assetType !== cost ? Number(openingBalance) : 0,\n        depreciationAddition: assetType !== cost ? Number(addition) : 0,\n        depreciationDisposal: assetType !== cost ? Number(disposal) : 0,\n        depreciationClosing: assetType !== cost ? Number(closingBalance) : 0\n      });\n      if (response.status === 200) {\n        toast.show(\n          utils.toastCallback({ severity: \"success\", detail: \"Fixed asset mapped successfully\" })\n        );\n      }\n    } catch (error) {\n      if (error.response.data === undefined) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"error\",\n            detail: error.message\n          })\n        );\n        return;\n      }\n\n      if (error.response.data.errors) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"error\",\n            detail: error.response.data.errors[0]\n          })\n        );\n        return;\n      }\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          summary: \"Network Error\",\n          detail: constants.networkErrorMessage\n        })\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <form className=\"p-d-flex p-flex-column p-jc-between\" onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"p-d-flex p-ai-start p-jc-between\" style={{ marginBottom: 20 }}>\n          <DropdownController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"assetClass\"\n            label=\"Fixed Asset Class\"\n            required\n            dropdownOptions={assetClassSelectItems}\n            errorMessage=\"Fixed Asset Class is required\"\n          />\n          <DropdownController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"assetType\"\n            label=\"Cost / Depreciation\"\n            required\n            dropdownOptions={typeSelectItems}\n            onChangeCallback={setSelectedAssetType}\n            errorMessage=\"Fixed Asset Type is required\"\n          />\n          <DropdownController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"year\"\n            label=\"Year\"\n            required\n            dropdownOptions={yearSelectItems}\n            onChangeCallback={setYear}\n            errorMessage=\"Year is required\"\n            defaultValue={year}\n          />\n          <InputController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"closingBalance\"\n            label=\"Closing Balance\"\n            disabled\n            placeholder=\"Closing Balance\"\n            defaultValue={closingBalanceAmt}\n            value={closingBalanceAmt}\n          />\n        </div>\n        <div className=\"p-d-flex p-ai-start p-jc-between\">\n          <InputController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"openingBalance\"\n            label=\"Opening Balance\"\n            required\n            errorMessage=\"Opening Balance is required\"\n          />\n          <InputController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"addition\"\n            label={selectedAssetType === \"depreciation\" ? \"Charge per year\" : \"Addition\"}\n            required\n            errorMessage=\"Addition is required\"\n          />\n          <InputController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"disposal\"\n            label=\"Disposal\"\n            required\n            errorMessage=\"Disposal is required\"\n          />\n          <InputController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"transfer\"\n            label=\"Transfer\"\n            required\n            errorMessage=\"Transfer is required\"\n          />\n        </div>\n        <div className=\"p-d-flex p-flex-column\" style={{ marginTop: 20 }}>\n          <div className=\"p-field-checkbox\">\n            <Checkbox\n              inputId=\"transferOut\"\n              checked={transferChecked}\n              onChange={e => setTransferChecked(e.checked)}\n            />\n            <label htmlFor=\"transferOut\">Transfer Out</label>\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Submit\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: 200 }}\n          />\n        </div>\n      </form>\n      <TrialBalanceMappingTable\n        tbData={tbData}\n        trialBalanceRefresh={trialBalanceRefresh}\n        toast={toast}\n        selectedAccounts={selectedAccounts}\n        setSelectedAccounts={setSelectedAccounts}\n      />\n    </>\n  );\n};\n\nexport default FixedAssetMapping;\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { fixedAssetViewData } from \"../../apis/FixedAsset\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport utils from \"../../utils\";\nimport Loader from \"../common/Loader\";\n\nconst FixedAssetView = ({ year }) => {\n  const isMounted = React.useRef(false);\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState();\n  const [error, setError] = React.useState();\n  const [fixedAssetApiData, setFixedAssetApiData] = React.useState();\n  const [fixedAssetData, setFixedAssetData] = React.useState([\n    {\n      category: <strong>Cost</strong>\n    },\n    {\n      category: \"Opening Balance\",\n      key: \"openingCost\"\n    },\n    {\n      category: \"Additions\",\n      key: \"costAddition\"\n    },\n    {\n      category: \"Disposal\",\n      key: \"costDisposal\"\n    },\n    {\n      category: \"Transfer\",\n      key: \"transferCost\"\n    },\n    {\n      category: <strong>As at 31/12/{year - 1}</strong>,\n      key: \"costClosing\"\n    },\n    {\n      category: null\n    },\n    {\n      category: <strong>Depreciation</strong>\n    },\n    {\n      category: \"Opening Balance\",\n      key: \"openingDepreciation\"\n    },\n    {\n      category: \"Charged for the year\",\n      key: \"depreciationAddition\"\n    },\n    {\n      category: \"Disposal\",\n      key: \"depreciationDisposal\"\n    },\n    {\n      category: \"Transfer\",\n      key: \"transferDepreciation\"\n    },\n    {\n      category: <strong>As at 31/12/{year - 1}</strong>,\n      key: \"depreciationClosing\"\n    },\n    {\n      category: null\n    },\n    {\n      category: <strong>Net Book Value</strong>\n    },\n    {\n      category: <strong>As at 31/12/{year - 1}</strong>,\n      key: \"netValue\"\n    }\n  ]);\n\n  React.useEffect(() => {\n    if (!companyId) return;\n\n    isMounted.current = true;\n    const fetchFixedAssetViewData = async () => {\n      try {\n        setError(null);\n        setLoading(true);\n        const data = await fixedAssetViewData({ companyId, year });\n        if (isMounted.current) {\n          setFixedAssetApiData(data.fixedAssetData);\n          setFixedAssetData(state => {\n            const newState = Array.from(state);\n            data.fixedAssetData.forEach((d, index) => {\n              newState.forEach(s => {\n                switch (s.key) {\n                  case \"openingCost\":\n                    s[d.fixedAssetName] = d.openingCost;\n                    s.total = data.total.openingCostTotal;\n                    break;\n                  case \"costAddition\":\n                    s[d.fixedAssetName] = d.costAddition;\n                    s.total = data.total.additionCostTotal;\n                    break;\n                  case \"costDisposal\":\n                    s[d.fixedAssetName] = d.costDisposal;\n                    s.total = data.total.disposalCostTotal;\n                    break;\n                  case \"transferCost\":\n                    s[d.fixedAssetName] = d.transferCost;\n                    s.total = data.total.transferCostTotal;\n                    break;\n                  case \"costClosing\":\n                    s[d.fixedAssetName] = <strong>{d.costClosing}</strong>;\n                    s.total = <strong>{data.total.closingCostTotal}</strong>;\n                    break;\n                  case \"openingDepreciation\":\n                    s[d.fixedAssetName] = d.openingDepreciation;\n                    s.total = data.total.openingDepreciationTotal;\n                    break;\n                  case \"depreciationAddition\":\n                    s[d.fixedAssetName] = d.depreciationAddition;\n                    s.total = data.total.additionDepreciationTotal;\n                    break;\n                  case \"depreciationDisposal\":\n                    s[d.fixedAssetName] = d.depreciationDisposal;\n                    s.total = data.total.disposalDepreciationTotal;\n                    break;\n                  case \"transferDepreciation\":\n                    s[d.fixedAssetName] = d.transferDepreciation;\n                    s.total = data.total.transferDepreciationTotal;\n                    break;\n                  case \"depreciationClosing\":\n                    s[d.fixedAssetName] = <strong>{d.depreciationClosing}</strong>;\n                    s.total = <strong>{data.total.closingDepreciationTotal}</strong>;\n                    break;\n                  case \"netValue\":\n                    s[d.fixedAssetName] = (\n                      <strong>\n                        {isNaN(data.netBookValue[index].value[0])\n                          ? data.netBookValue[index].value\n                          : utils.currencyFormatter(\n                              data.netBookValue[index].value.replaceAll(/,/g, \"\")\n                            )}\n                      </strong>\n                    );\n                    s.total = (\n                      <strong>\n                        {utils.currencyFormatter(\n                          data.netBookValue.reduce(\n                            (acc, cur) =>\n                              acc +\n                              Number(\n                                isNaN(cur.value[0])\n                                  ? cur.value.slice(1).replaceAll(/,/g, \"\")\n                                  : cur.value.replaceAll(/,/g, \"\")\n                              ),\n                            0\n                          )\n                        )}\n                      </strong>\n                    );\n                    break;\n                  default:\n                    break;\n                }\n              });\n            });\n            return newState;\n          });\n        }\n      } catch (error) {\n        if (isMounted.current) {\n          if (error.response) setError(error.response.data.errors[0]);\n          else setError(error.message);\n        }\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    fetchFixedAssetViewData();\n\n    return () => (isMounted.current = false);\n  }, [companyId, year]);\n\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\n\n  if (loading) return <Loader />;\n\n  return (\n    <DataTable className=\"p-datatable-gridlines\" value={fixedAssetData} style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      {fixedAssetApiData &&\n        fixedAssetApiData.map(d => (\n          <Column key={d.fixedAssetName} field={d.fixedAssetName} header={`${d.fixedAssetName}`} />\n        ))}\n      <Column field=\"total\" header=\"Total\"></Column>\n    </DataTable>\n  );\n};\n\nexport default FixedAssetView;\n","import React from \"react\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport Layout from \"../components/layout\";\nimport Main from \"../components/layout/Main\";\nimport constants from \"../constants\";\nimport utils from \"../utils\";\nimport { usePathParam, useResource } from \"react-resource-router\";\nimport FixedAssetMapping from \"../components/fixed_asset/FixedAssetMapping\";\nimport { fixedAssetModuleClassResource, trialBalanceResource } from \"../routes/resources\";\nimport PageLoader from \"../components/common/PageLoader\";\nimport Error from \"../components/common/Error\";\nimport { Toast } from \"primereact/toast\";\nimport { useResources } from \"../store/ResourcesStore\";\nimport FixedAssetView from \"../components/fixed_asset/FixedAssetView\";\n\nconst FixedAsset = () => {\n  const title = constants.modules.fixedAsset;\n  const toast = React.useRef();\n  const { data: assetClass, error: assetClassError, refresh: assetClassRefresh } = useResource(\n    fixedAssetModuleClassResource\n  );\n  const {\n    data: trialBalance,\n    error: trialBalanceError,\n    refresh: trialBalanceRefresh\n  } = useResource(trialBalanceResource);\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const [tbData, setTbData] = React.useState([]);\n  const [assetClassSelectItems, setAssetClassSelectItems] = React.useState([]);\n  const [resources, { onTrialBalance, onFixedAssetModuleItems }] = useResources();\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  React.useEffect(() => {\n    if (assetClass) onFixedAssetModuleItems(assetClass);\n  }, [assetClass, onFixedAssetModuleItems]);\n\n  React.useEffect(() => {\n    if (resources.fixedAssetModuleItems) {\n      setAssetClassSelectItems(\n        resources.fixedAssetModuleItems.map(({ id: assetClassId, name }) => ({\n          label: name,\n          value: assetClassId\n        }))\n      );\n    }\n  }, [resources.fixedAssetModuleItems]);\n\n  React.useEffect(() => {\n    if (trialBalance) onTrialBalance(trialBalance);\n  }, [onTrialBalance, trialBalance]);\n\n  React.useEffect(() => {\n    utils.onTbData(resources, setTbData);\n  }, [resources]);\n\n  if (assetClassError)\n    return <Error title={title} error={assetClassError} refresh={assetClassRefresh} />;\n\n  if (trialBalanceError)\n    return <Error title={title} error={trialBalanceError} refresh={trialBalanceRefresh} />;\n\n  if (!resources.fixedAssetModuleItems || !resources.trialBalance)\n    return <PageLoader title={title} />;\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        {\n          {\n            mapping: (\n              <FixedAssetMapping\n                year={year}\n                setYear={setYear}\n                yearSelectItems={yearSelectItems}\n                assetClassSelectItems={assetClassSelectItems}\n                tbData={tbData}\n                trialBalanceRefresh={trialBalanceRefresh}\n                toast={toast.current}\n              />\n            ),\n            view: (\n              <ViewMode title={title} year={year}>\n                <FixedAssetView year={year} />\n              </ViewMode>\n            )\n          }[mode]\n        }\n      </Main>\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\n    </Layout>\n  );\n};\n\nexport default FixedAsset;\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { Toast } from \"primereact/toast\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { forgotPassword } from \"../apis/Authentication\";\nimport constants from \"../constants\";\nimport { useAuth } from \"../store/AuthStore\";\nimport { Link, Redirect, useRouterActions } from \"react-resource-router\";\nimport utils from \"../utils\";\n\nconst ForgotPassword = () => {\n  const { errors, handleSubmit, control } = useForm();\n  const [{ isAuthenticated }] = useAuth();\n  const { push } = useRouterActions();\n  const [loading, setLoading] = React.useState(false);\n  const toast = React.useRef();\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    setLoading(true);\n    const { email } = data;\n    try {\n      const message = await forgotPassword({ email });\n      push({ pathname: constants.routes.reset_password, state: message });\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const {\n          data: { message }\n        } = error.response;\n        // display error as toast notification\n        toast.current.show(\n          utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: message })\n        );\n      } else {\n        // network errors\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  if (isAuthenticated) {\n    const path = sessionStorage.getItem(\"path\") || constants.routes.dashboard;\n    sessionStorage.removeItem(\"path\");\n    return <Redirect to={path} />;\n  }\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-ai-center\" style={{ height: \"100vh\" }}>\n      <Card\n        header={\n          <>\n            <h2 className=\"p-text-center accent-color\">Tax Computation</h2>\n            <div className=\"divider\"></div>\n          </>\n        }\n        style={{ width: 320 }}>\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"email\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  placeholder=\"Email\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.email && <span style={{ fontSize: 12, color: \"red\" }}>Email is required</span>}\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Forgot Password\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: \"100%\" }}\n          />\n        </form>\n        <Link href={constants.routes.login} className=\"auth-link\">\n          <p style={{ marginBottom: 0, marginTop: 20, fontSize: 14 }}>Back to login</p>\n        </Link>\n      </Card>\n      <Toast ref={el => (toast.current = el)} />\n    </div>\n  );\n};\n\nexport default ForgotPassword;\n","import React from \"react\";\nimport { Redirect } from \"react-resource-router\";\n\nconst Home = () => {\n  return <Redirect to=\"/login\" />;\n};\n\nexport default Home;\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\n\nconst IncomeTaxView = () => {\n  const [incomeTaxData] = React.useState([\n    {\n      category: \"Profit Before Tax\",\n      debit: \"\",\n      credit: \"₦448,255,000.00\"\n    },\n    {\n      category: <strong>Add:Disallowable Expenses</strong>,\n      debit: \"\",\n      credit: \"\"\n    },\n    {\n      category: \"Depreciation\",\n      debit: \"₦4,565,000.00\",\n      credit: \"\"\n    },\n    {\n      category: \"Foreign exchange loss\",\n      debit: \"₦923,000.00\",\n      credit: \"\"\n    },\n    {\n      category: \"Loss allowance on trade receivable\",\n      debit: \"₦44,723,000.00\",\n      credit: \"₦67,928,000.00\"\n    }\n  ]);\n\n  return (\n    <DataTable className=\"p-datatable-gridlines\" value={incomeTaxData} style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      <Column field=\"debit\" header=\"₦\"></Column>\n      <Column field=\"credit\" header=\"₦\"></Column>\n    </DataTable>\n  );\n};\n\nexport default IncomeTaxView;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport IncomeTaxView from \"../components/income_tax/IncomeTaxView\";\nimport MappingMode from \"../components/common/MappingMode\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport utils from \"../utils\";\nimport Main from \"../components/layout/Main\";\nimport { usePathParam } from \"react-resource-router\";\nimport constants from \"../constants\";\n\nconst IncomeTax = () => {\n  const title = constants.modules.incomeTax;\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        {\n          {\n            mapping: (\n              <MappingMode year={year} setYear={setYear} yearSelectItems={yearSelectItems} />\n            ),\n            view: (\n              <ViewMode title={title} year={year}>\n                <IncomeTaxView />\n              </ViewMode>\n            )\n          }[mode]\n        }\n      </Main>\n    </Layout>\n  );\n};\n\nexport default IncomeTax;\n","import axios from \"axios\";\n\nexport const investmentAllowanceMapping = async ({ companyId, assetId, yearId }) => {\n  try {\n    return await axios.post(\"/api/InvestmentAllowance/investment-allowance\", {\n      companyId,\n      assetId,\n      yearId\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const investmentAllowanceViewData = async ({ companyId, year }) => {\n  try {\n    const { data } = await axios.get(`/api/InvestmentAllowance/${companyId}/${year}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const investmentAllowanceDelete = async ({ id }) => {\n  try {\n    const { data } = await axios.delete(`/api/InvestmentAllowance/investment-allowance/${id}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport Loader from \"../common/Loader\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport {\n  investmentAllowanceDelete,\n  investmentAllowanceViewData\n} from \"../../apis/InvestmentAllowance\";\nimport utils from \"../../utils\";\n\nconst InvestmentAllowanceView = ({ year, toast }) => {\n  const isMounted = React.useRef(false);\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState();\n  const [error, setError] = React.useState();\n  const [investmentAllowanceData, setInvestmentAllowanceData] = React.useState([]);\n\n  React.useEffect(() => {\n    if (!companyId) return;\n\n    isMounted.current = true;\n    const fetchInvestmentAllowanceViewData = async () => {\n      try {\n        setError(null);\n        setLoading(true);\n        const data = await investmentAllowanceViewData({ companyId, year });\n        if (isMounted.current) {\n          setInvestmentAllowanceData(\n            data.investment.investments\n              .map(item => ({\n                ...item,\n                name: (\n                  <div className=\"p-d-flex p-jc-between p-ai-center\">\n                    <p>{item.name}</p>\n                    <i\n                      className=\"pi pi-times-circle delete\"\n                      style={{ fontSize: 14, marginTop: 2 }}\n                      onClick={async () => {\n                        try {\n                          const data = await investmentAllowanceDelete({\n                            id: item.id\n                          });\n                          if (data) {\n                            toast.show(\n                              utils.toastCallback({\n                                severity: \"success\",\n                                detail: data\n                              })\n                            );\n                            fetchInvestmentAllowanceViewData();\n                          }\n                        } catch (error) {\n                          console.log(error);\n                        }\n                      }}></i>\n                  </div>\n                )\n              }))\n              .concat([\n                {\n                  name: \"Investment Allowance @ 10%\",\n                  amount: data.investment.investmentAllowanceatTenPercent\n                }\n              ])\n          );\n        }\n      } catch (error) {\n        if (isMounted.current) {\n          if (error.response) setError(error.response.data.errors[0]);\n          else setError(error.message);\n        }\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    fetchInvestmentAllowanceViewData();\n\n    return () => (isMounted.current = false);\n  }, [companyId, toast, year]);\n\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\n\n  if (loading) return <Loader />;\n\n  return (\n    <DataTable\n      className=\"p-datatable-gridlines\"\n      value={investmentAllowanceData}\n      style={{ marginTop: 40 }}>\n      <Column field=\"name\" header=\"Additions to:\"></Column>\n      <Column field=\"amount\" header=\"Amount\"></Column>\n    </DataTable>\n  );\n};\n\nexport default InvestmentAllowanceView;\n","import React from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport utils from \"../../utils\";\nimport constants from \"../../constants\";\nimport DropdownController from \"../controllers/DropdownController\";\nimport { investmentAllowanceMapping } from \"../../apis/InvestmentAllowance\";\n\nconst InvestmentAllowanceMapping = ({ yearSelectItems, assetClassSelectItems, toast }) => {\n  const { errors, handleSubmit, control } = useForm();\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState(false);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    const { yearId, assetId } = data;\n\n    setLoading(true);\n    try {\n      const response = await investmentAllowanceMapping({\n        companyId,\n        assetId,\n        yearId\n      });\n      if (response.status === 200) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"success\",\n            detail: response.data\n          })\n        );\n      }\n    } catch (error) {\n      if (error.response) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Error\",\n            detail:\n              \"An error occurred while calculating investment allowance, kindly contact your admin.\"\n          })\n        );\n        return;\n      }\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          summary: \"Network Error\",\n          detail: constants.networkErrorMessage\n        })\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ height: 300 }}>\n      <form className=\"p-d-flex p-flex-column p-jc-between\" onSubmit={handleSubmit(onSubmit)}>\n        <div style={{ marginBottom: 10 }}>\n          <DropdownController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"yearId\"\n            label=\"Year\"\n            required\n            dropdownOptions={yearSelectItems}\n            errorMessage=\"Year is required\"\n            labelWidth={120}\n            className=\"p-d-flex p-ai-center\"\n          />\n        </div>\n        <div style={{ marginBottom: 10 }}>\n          <DropdownController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"assetId\"\n            label=\"Asset\"\n            required\n            dropdownOptions={assetClassSelectItems}\n            errorMessage=\"Asset is required\"\n            labelWidth={120}\n            className=\"p-d-flex p-ai-center\"\n          />\n        </div>\n        <div className=\"p-d-flex p-flex-column\" style={{ marginTop: 10 }}>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Submit\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: 320 }}\n          />\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default InvestmentAllowanceMapping;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport InvestmentAllowanceView from \"../components/investment_allowance/InvestmentAllowanceView\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport constants from \"../constants\";\nimport Main from \"../components/layout/Main\";\nimport utils from \"../utils\";\nimport { Toast } from \"primereact/toast\";\nimport { usePathParam, useResource } from \"react-resource-router\";\nimport InvestmentAllowanceMapping from \"../components/investment_allowance/InvestmentAllowanceMapping\";\nimport { fixedAssetModuleClassResource } from \"../routes/resources\";\nimport { useResources } from \"../store/ResourcesStore\";\nimport PageLoader from \"../components/common/PageLoader\";\nimport Error from \"../components/common/Error\";\n\nconst InvestmentAllowance = () => {\n  const title = constants.modules.investmentAllowance;\n  const toast = React.useRef();\n  const { data: assetClass, error: assetClassError, refresh: assetClassRefresh } = useResource(\n    fixedAssetModuleClassResource\n  );\n  const [resources, { onFixedAssetModuleItems }] = useResources();\n  const [assetClassSelectItems, setAssetClassSelectItems] = React.useState([]);\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  React.useEffect(() => {\n    if (assetClass) onFixedAssetModuleItems(assetClass);\n  }, [assetClass, onFixedAssetModuleItems]);\n\n  React.useEffect(() => {\n    if (resources.fixedAssetModuleItems) {\n      setAssetClassSelectItems(\n        resources.fixedAssetModuleItems.map(({ id: assetClassId, name }) => ({\n          label: name,\n          value: assetClassId\n        }))\n      );\n    }\n  }, [resources.fixedAssetModuleItems]);\n\n  if (assetClassError)\n    return <Error title={title} error={assetClassError} refresh={assetClassRefresh} />;\n\n  if (!resources.fixedAssetModuleItems) return <PageLoader title={title} />;\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        {\n          {\n            mapping: (\n              <InvestmentAllowanceMapping\n                yearSelectItems={yearSelectItems}\n                assetClassSelectItems={assetClassSelectItems}\n                toast={toast.current}\n              />\n            ),\n            view: (\n              <ViewMode title={title} year={year}>\n                <InvestmentAllowanceView year={year} toast={toast.current} />\n              </ViewMode>\n            )\n          }[mode]\n        }\n      </Main>\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\n    </Layout>\n  );\n};\n\nexport default InvestmentAllowance;\n","import axios from \"axios\";\n\nexport const itLevyViewData = async ({ companyId, year }) => {\n  try {\n    const { data } = await axios.get(`/api/ITLevy/${companyId}/${year}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport Loader from \"../common/Loader\";\nimport { itLevyViewData } from \"../../apis/ITLevy\";\nimport utils from \"../../utils\";\n\nconst ITLevyView = ({ year }) => {\n  const isMounted = React.useRef(false);\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState();\n  const [error, setError] = React.useState();\n  const [itLevyData, setITLevyData] = React.useState([]);\n\n  React.useEffect(() => {\n    if (!companyId) return;\n\n    isMounted.current = true;\n    const fetchITLevyViewData = async () => {\n      try {\n        setError(null);\n        setLoading(true);\n        const data = await itLevyViewData({ companyId, year });\n        if (isMounted.current) {\n          setITLevyData(() => {\n            let newState = [];\n            return newState.concat([\n              {\n                category: \"Profit Before Taxation\",\n                credit: utils.currencyFormatter(data.profitBeforeTaxation)\n              },\n              {\n                category: \"I.T. Levy @ 1% Thereon\",\n                credit: utils.currencyFormatter(data.itLevyAt1PercentThereIn)\n              }\n            ]);\n          });\n        }\n      } catch (error) {\n        if (isMounted.current) {\n          if (error.response) setError(error.response.data.errors[0]);\n          else setError(error.message);\n        }\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    fetchITLevyViewData();\n\n    return () => (isMounted.current = false);\n  }, [companyId, year]);\n\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\n\n  if (loading) return <Loader />;\n\n  return (\n    <DataTable className=\"p-datatable-gridlines\" value={itLevyData} style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      <Column field=\"credit\" header=\"₦\"></Column>\n    </DataTable>\n  );\n};\n\nexport default ITLevyView;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport ITLevyView from \"../components/it_levy/ITLevyView\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport constants from \"../constants\";\nimport utils from \"../utils\";\nimport Main from \"../components/layout/Main\";\nimport { usePathParam } from \"react-resource-router\";\n\nconst ITLevy = () => {\n  const title = constants.modules.itLevy;\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        <ViewMode title={title} year={year}>\n          <ITLevyView year={year} />\n        </ViewMode>\n      </Main>\n    </Layout>\n  );\n};\n\nexport default ITLevy;\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { Toast } from \"primereact/toast\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { login } from \"../apis/Authentication\";\nimport constants from \"../constants\";\nimport { useAuth } from \"../store/AuthStore\";\nimport { Link, Redirect, useRouter, useRouterActions } from \"react-resource-router\";\nimport PasswordController from \"../components/controllers/PasswordController\";\nimport utils from \"../utils\";\n\nconst Login = () => {\n  const [routerState] = useRouter();\n  const { errors, handleSubmit, control } = useForm();\n  const [{ isAuthenticated }, { onLoginSuccess }] = useAuth();\n  const { push } = useRouterActions();\n  const [loading, setLoading] = React.useState(false);\n  const toast = React.useRef();\n\n  React.useEffect(() => {\n    if (routerState.location.state)\n      toast.current.show(\n        utils.toastCallback({ severity: \"success\", detail: routerState.location.state })\n      );\n  }, [routerState]);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    setLoading(true);\n    const { email, password } = data;\n    try {\n      const {\n        token,\n        user: { id, firstName, lastName }\n      } = await login({ email, password });\n      // store user details in global state\n      onLoginSuccess({ id, token, email, firstName, lastName });\n      push(constants.routes.dashboard);\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const {\n          data: { errors }\n        } = error.response;\n        // display all errors as toast notification\n        errors.map(err =>\n          toast.current.show(\n            utils.toastCallback({ severity: \"error\", summary: \"Login Error\", detail: err })\n          )\n        );\n      } else {\n        // network errors\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  if (isAuthenticated) {\n    const path = sessionStorage.getItem(\"path\") || constants.routes.dashboard;\n    sessionStorage.removeItem(\"path\");\n    return <Redirect to={path} />;\n  }\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-ai-center\" style={{ height: \"100vh\" }}>\n      <Card\n        header={\n          <>\n            <h2 className=\"p-text-center accent-color\">Tax Computation</h2>\n            <div className=\"divider\"></div>\n          </>\n        }\n        style={{ width: 320 }}>\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"email\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  placeholder=\"Email\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.email && <span style={{ fontSize: 12, color: \"red\" }}>Email is required</span>}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"password\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <PasswordController\n                  placeholder=\"Password\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.password && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Password is required</span>\n            )}\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Login\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: \"100%\" }}\n          />\n        </form>\n        <Link href={constants.routes.forgot_password} className=\"auth-link\">\n          <p style={{ marginBottom: 0, marginTop: 20, fontSize: 14 }}>Forgot Password</p>\n        </Link>\n      </Card>\n      <Toast ref={el => (toast.current = el)} />\n    </div>\n  );\n};\n\nexport default Login;\n","import axios from \"axios\";\n\nexport const minimumTaxViewData = async ({ companyId, year }) => {\n  try {\n    const { data } = await axios.get(`/api/MinimumTax/${companyId}/${year}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport Loader from \"../common/Loader\";\nimport utils from \"../../utils\";\nimport { minimumTaxViewData } from \"../../apis/MinimumTax\";\n\nconst MinimumTaxView = ({ year }) => {\n  const isMounted = React.useRef(false);\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState();\n  const [error, setError] = React.useState();\n  const [minimumTaxData, setMinimumTaxData] = React.useState([]);\n\n  React.useEffect(() => {\n    if (!companyId) return;\n\n    isMounted.current = true;\n    const fetchMinimumTaxViewData = async () => {\n      try {\n        setError(null);\n        setLoading(true);\n        const data = await minimumTaxViewData({ companyId, year });\n        if (isMounted.current) {\n          setMinimumTaxData(() => {\n            let newState = [];\n            return newState.concat([\n              {\n                category: \"0.5% OF TURNOVER\",\n                credit: utils.currencyFormatter(data.fivePercentTurnOver)\n              },\n              {\n                category: \"Dividend Income\",\n                credit: data.dividend ? utils.currencyFormatter(data.dividend) : null\n              },\n              {\n                category: <strong>Minimum Tax Payable</strong>,\n                credit: utils.currencyFormatter(data.turnOver)\n              }\n            ]);\n          });\n        }\n      } catch (error) {\n        if (isMounted.current) {\n          if (error.response) setError(error.response.data.errors[0]);\n          else setError(error.message);\n        }\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    fetchMinimumTaxViewData();\n\n    return () => (isMounted.current = false);\n  }, [companyId, year]);\n\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\n\n  if (loading) return <Loader />;\n\n  return (\n    <DataTable className=\"p-datatable-gridlines\" value={minimumTaxData} style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      <Column field=\"credit\" header=\"₦\"></Column>\n    </DataTable>\n  );\n};\n\nexport default MinimumTaxView;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport MinimumTaxView from \"../components/minimum_tax/MinimumTaxView\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport constants from \"../constants\";\nimport utils from \"../utils\";\nimport Main from \"../components/layout/Main\";\nimport { usePathParam } from \"react-resource-router\";\n\nconst MinimumTax = () => {\n  const title = constants.modules.minimumTax;\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        <ViewMode title={title} year={year}>\n          <MinimumTaxView year={year} />\n        </ViewMode>\n      </Main>\n    </Layout>\n  );\n};\n\nexport default MinimumTax;\n","import { Card } from \"primereact/card\";\nimport React from \"react\";\nimport Layout from \"../components/layout\";\n\nconst NotFound = () => {\n  return (\n    <Layout title=\"\">\n      <Card style={{ width: \"100%\" }}>\n        <h1 style={{ margin: 0 }}>404 - Not Found</h1>\n        <p>Sorry the page you are looking for doesn't exist.</p>\n      </Card>\n    </Layout>\n  );\n};\n\nexport default NotFound;\n","import axios from \"axios\";\n\nexport const profitAndLossMapping = async ({\n  profitAndLossId,\n  trialBalanceList,\n  companyId,\n  yearId,\n  mappedCode\n}) => {\n  try {\n    return await axios.post(\"/api/ProfitAndLoss\", {\n      profitAndLossId,\n      trialBalanceList,\n      companyId,\n      yearId,\n      mappedCode\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const profitAndLossViewData = async ({ companyId, year }) => {\n  try {\n    const { data } = await axios.get(`/api/ProfitAndLoss/${companyId}/${year}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport Loader from \"../common/Loader\";\nimport { profitAndLossViewData } from \"../../apis/ProfitAndLoss\";\n\nconst ProfitAndLossView = ({ year }) => {\n  const isMounted = React.useRef(false);\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState();\n  const [error, setError] = React.useState();\n  const [profitAndLossApiData, setProfitAndLossApiData] = React.useState([]);\n\n  React.useEffect(() => {\n    if (!companyId) return;\n\n    isMounted.current = true;\n    const fetchProfitAndLossViewData = async () => {\n      try {\n        setError(null);\n        setLoading(true);\n        const data = await profitAndLossViewData({ companyId, year });\n        if (isMounted.current) {\n          setProfitAndLossApiData(data);\n        }\n      } catch (error) {\n        if (isMounted.current) {\n          if (error.response) setError(error.response.data.errors[0]);\n          else setError(error.message);\n        }\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    fetchProfitAndLossViewData();\n\n    return () => (isMounted.current = false);\n  }, [companyId, year]);\n\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\n\n  if (loading) return <Loader />;\n\n  return (\n    <DataTable\n      className=\"p-datatable-gridlines\"\n      value={profitAndLossApiData}\n      style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      <Column field=\"total\" header=\"Total\"></Column>\n    </DataTable>\n  );\n};\n\nexport default ProfitAndLossView;\n","import React from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport DropdownController from \"../controllers/DropdownController\";\nimport TrialBalanceMappingTable from \"../common/TrialBalanceMappingTable\";\nimport constants from \"../../constants\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport utils from \"../../utils\";\nimport { profitAndLossMapping } from \"../../apis/ProfitAndLoss\";\n\nconst ProfitAndLossMapping = ({\n  year,\n  setYear,\n  yearSelectItems,\n  assetClassSelectItems,\n  tbData,\n  trialBalanceRefresh,\n  toast\n}) => {\n  const { errors, handleSubmit, control } = useForm();\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState(false);\n  const [selectedAccounts, setSelectedAccounts] = React.useState([]);\n\n  const onSubmit = async data => {\n    if (loading) return;\n    const { profitAndLossId, yearId } = data;\n\n    if (selectedAccounts.length === 0) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: \"Select at least one account from the trial balance table\"\n        })\n      );\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const response = await profitAndLossMapping({\n        profitAndLossId,\n        trialBalanceList: selectedAccounts,\n        companyId,\n        yearId,\n        mappedCode: \"profitandloss\"\n      });\n      if (response.status === 200) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"success\",\n            detail: \"Profit and Loss mapped successfully\"\n          })\n        );\n      }\n    } catch (error) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          summary: \"Network Error\",\n          detail: constants.networkErrorMessage\n        })\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <form className=\"p-d-flex p-jc-between\" onSubmit={handleSubmit(onSubmit)}>\n        <DropdownController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"profitAndLossId\"\n          label=\"Profit and Loss Item\"\n          placeholder=\"Select Item\"\n          width={250}\n          required\n          dropdownOptions={assetClassSelectItems}\n          errorMessage=\"Profit and Loss Item is required\"\n        />\n        <DropdownController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"yearId\"\n          label=\"Year\"\n          width={250}\n          required\n          dropdownOptions={yearSelectItems}\n          onChangeCallback={setYear}\n          errorMessage=\"Year is required\"\n          defaultValue={year}\n        />\n        <div>\n          <p style={{ color: \"transparent\", marginTop: 0, marginBottom: 5 }}>Submit</p>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Submit\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: 250 }}\n          />\n        </div>\n      </form>\n      <TrialBalanceMappingTable\n        title={constants.modules.profit_loss}\n        tbData={tbData}\n        trialBalanceRefresh={trialBalanceRefresh}\n        toast={toast}\n        selectedAccounts={selectedAccounts}\n        setSelectedAccounts={setSelectedAccounts}\n      />\n    </>\n  );\n};\n\nexport default ProfitAndLossMapping;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport ProfitAndLossView from \"../components/profit_loss/ProfitAndLossView\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport utils from \"../utils\";\nimport Main from \"../components/layout/Main\";\nimport { usePathParam, useResource } from \"react-resource-router\";\nimport constants from \"../constants\";\nimport { profitandlossModuleClassResource, trialBalanceResource } from \"../routes/resources\";\nimport { useResources } from \"../store/ResourcesStore\";\nimport PageLoader from \"../components/common/PageLoader\";\nimport Error from \"../components/common/Error\";\nimport { Toast } from \"primereact/toast\";\nimport ProfitAndLossMapping from \"../components/profit_loss/ProfitAndLossMapping\";\n\nconst ProfitAndLoss = () => {\n  const title = constants.modules.profit_loss;\n  const toast = React.useRef();\n  const { data: assetClass, error: assetClassError, refresh: assetClassRefresh } = useResource(\n    profitandlossModuleClassResource\n  );\n  const {\n    data: trialBalance,\n    error: trialBalanceError,\n    refresh: trialBalanceRefresh\n  } = useResource(trialBalanceResource);\n  const [tbData, setTbData] = React.useState([]);\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const [assetClassSelectItems, setAssetClassSelectItems] = React.useState([]);\n  const [resources, { onTrialBalance, onProfitAndLossModuleItems }] = useResources();\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  React.useEffect(() => {\n    if (assetClass) onProfitAndLossModuleItems(assetClass);\n  }, [assetClass, onProfitAndLossModuleItems]);\n\n  React.useEffect(() => {\n    if (resources.profitAndLossModuleItems) {\n      setAssetClassSelectItems(\n        resources.profitAndLossModuleItems.map(({ id: assetClassId, name }) => ({\n          label: name,\n          value: assetClassId\n        }))\n      );\n    }\n  }, [resources.profitAndLossModuleItems]);\n\n  React.useEffect(() => {\n    if (trialBalance) onTrialBalance(trialBalance);\n  }, [onTrialBalance, trialBalance]);\n\n  React.useEffect(() => {\n    utils.onTbData(resources, setTbData);\n  }, [resources]);\n\n  if (assetClassError)\n    return <Error title={title} error={assetClassError} refresh={assetClassRefresh} />;\n\n  if (trialBalanceError)\n    return <Error title={title} error={trialBalanceError} refresh={trialBalanceRefresh} />;\n\n  if (!resources.profitAndLossModuleItems || !resources.trialBalance)\n    return <PageLoader title={title} />;\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        {\n          {\n            mapping: (\n              <ProfitAndLossMapping\n                year={year}\n                setYear={setYear}\n                yearSelectItems={yearSelectItems}\n                assetClassSelectItems={assetClassSelectItems}\n                tbData={tbData}\n                trialBalanceRefresh={trialBalanceRefresh}\n                toast={toast.current}\n              />\n            ),\n            view: (\n              <ViewMode title={title} year={year}>\n                <ProfitAndLossView year={year} />\n              </ViewMode>\n            )\n          }[mode]\n        }\n      </Main>\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\n    </Layout>\n  );\n};\n\nexport default ProfitAndLoss;\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { Toast } from \"primereact/toast\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { resetPassword } from \"../apis/Authentication\";\nimport constants from \"../constants\";\nimport { useAuth } from \"../store/AuthStore\";\nimport { Link, Redirect, useRouter, useRouterActions } from \"react-resource-router\";\nimport PasswordController from \"../components/controllers/PasswordController\";\nimport utils from \"../utils\";\n\nconst ResetPassword = () => {\n  const [routerState] = useRouter();\n  const { errors, handleSubmit, control } = useForm();\n  const [{ isAuthenticated }] = useAuth();\n  const { push } = useRouterActions();\n  const [loading, setLoading] = React.useState(false);\n  const toast = React.useRef();\n\n  React.useEffect(() => {\n    if (routerState.location.state)\n      toast.current.show(\n        utils.toastCallback({ severity: \"success\", detail: routerState.location.state })\n      );\n  }, [routerState]);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    setLoading(true);\n    const { token, newPassword } = data;\n    try {\n      const { message } = await resetPassword({ token, newPassword });\n      push({ pathname: constants.routes.login, state: message });\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const {\n          data: { message }\n        } = error.response;\n        // display error as toast notification\n        toast.current.show(\n          utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: message })\n        );\n      } else {\n        // network errors\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  if (isAuthenticated) {\n    const path = sessionStorage.getItem(\"path\") || constants.routes.dashboard;\n    sessionStorage.removeItem(\"path\");\n    return <Redirect to={path} />;\n  }\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-ai-center\" style={{ height: \"100vh\" }}>\n      <Card\n        header={\n          <>\n            <h2 className=\"p-text-center accent-color\">Tax Computation</h2>\n            <div className=\"divider\"></div>\n          </>\n        }\n        style={{ width: 320 }}>\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"token\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  placeholder=\"Token\"\n                  maxLength={4}\n                  keyfilter=\"pint\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.token && <span style={{ fontSize: 12, color: \"red\" }}>Token is required</span>}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"newPassword\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <PasswordController\n                  placeholder=\"New Password\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.newPassword && (\n              <span style={{ fontSize: 12, color: \"red\" }}>New Password is required</span>\n            )}\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Reset Password\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: \"100%\" }}\n          />\n        </form>\n        <Link href={constants.routes.login} className=\"auth-link\">\n          <p style={{ marginBottom: 0, marginTop: 20, fontSize: 14 }}>Back to login</p>\n        </Link>\n      </Card>\n      <Toast ref={el => (toast.current = el)} />\n    </div>\n  );\n};\n\nexport default ResetPassword;\n","import React from \"react\";\nimport { useRouter } from \"react-resource-router\";\nimport constants from \"./constants\";\nimport { useAuth } from \"./store/AuthStore\";\n\nexport default Component => props => {\n  const [{ isAuthenticated }] = useAuth();\n  const [routerState, { replace }] = useRouter();\n\n  React.useEffect(() => {\n    if (isAuthenticated !== null && !isAuthenticated)\n      replace({ pathname: constants.routes.login, state: routerState.location.state });\n  }, [isAuthenticated, replace, routerState]);\n\n  return <>{isAuthenticated && <Component {...props} />}</>;\n};\n","import constants from \"../constants\";\nimport BalancingAdjustment from \"../pages/BalancingAdjustment\";\nimport CapitalAllowance from \"../pages/CapitalAllowance\";\nimport Dashboard from \"../pages/Dashboard\";\nimport DeferredTax from \"../pages/DeferredTax\";\nimport FixedAsset from \"../pages/FixedAsset\";\nimport ForgotPassword from \"../pages/ForgotPassword\";\nimport Home from \"../pages/Home\";\nimport IncomeTax from \"../pages/IncomeTax\";\nimport InvestmentAllowance from \"../pages/InvestmentAllowance\";\nimport ITLevy from \"../pages/ITLevy\";\nimport Login from \"../pages/Login\";\nimport MinimumTax from \"../pages/MinimumTax\";\nimport NotFound from \"../pages/NotFound\";\nimport ProfitAndLoss from \"../pages/ProfitAndLoss\";\nimport ResetPassword from \"../pages/ResetPassword\";\nimport RouteGuard from \"../RouteGuard\";\nimport {\n  companiesResource,\n  fixedAssetModuleClassResource,\n  profitandlossModuleClassResource,\n  trialBalanceResource\n} from \"./resources\";\n\nconst modePathParam = \"/:mode\";\n\nexport const routes = [\n  {\n    path: constants.routes.home,\n    name: \"HOME\",\n    exact: true,\n    component: Home\n  },\n  {\n    path: constants.routes.login,\n    name: \"LOGIN\",\n    exact: true,\n    component: Login\n  },\n  {\n    path: constants.routes.forgot_password,\n    name: \"FORGOT_PASSWORD\",\n    exact: true,\n    component: ForgotPassword\n  },\n  {\n    path: constants.routes.reset_password,\n    name: \"RESET_PASSWORD\",\n    exact: true,\n    component: ResetPassword\n  },\n  {\n    path: constants.routes.dashboard,\n    name: \"DASHBOARD\",\n    exact: true,\n    component: RouteGuard(Dashboard),\n    resources: [companiesResource]\n  },\n  {\n    path: `${constants.routes.fixed_asset}${modePathParam}`,\n    name: \"FIXED_ASSET\",\n    exact: true,\n    component: RouteGuard(FixedAsset),\n    resources: [fixedAssetModuleClassResource, trialBalanceResource]\n  },\n  {\n    path: `${constants.routes.profit_loss}${modePathParam}`,\n    name: \"PROFIT_LOSS\",\n    exact: true,\n    component: RouteGuard(ProfitAndLoss),\n    resources: [profitandlossModuleClassResource, trialBalanceResource]\n  },\n  {\n    path: `${constants.routes.income_tax}${modePathParam}`,\n    name: \"INCOME_TAX\",\n    exact: true,\n    component: RouteGuard(IncomeTax)\n    //resources: [aboutResource],\n  },\n  {\n    path: `${constants.routes.deferred_tax}${modePathParam}`,\n    name: \"DEFERRED_TAX\",\n    exact: true,\n    component: RouteGuard(DeferredTax)\n    //resources: [aboutResource],\n  },\n  {\n    path: `${constants.routes.minimum_tax}${modePathParam}`,\n    name: \"MINIMUM_TAX\",\n    exact: true,\n    component: RouteGuard(MinimumTax)\n    //resources: [aboutResource],\n  },\n  {\n    path: `${constants.routes.it_levy}${modePathParam}`,\n    name: \"IT_LEVY\",\n    exact: true,\n    component: RouteGuard(ITLevy)\n    //resources: [aboutResource],\n  },\n  {\n    path: `${constants.routes.capital_allowance}${modePathParam}`,\n    name: \"CAPITAL_ALLOWANCE\",\n    exact: true,\n    component: RouteGuard(CapitalAllowance),\n    resources: [fixedAssetModuleClassResource]\n  },\n  {\n    path: `${constants.routes.investment_allowance}${modePathParam}`,\n    name: \"INVESTMENT_ALLOWANCE\",\n    exact: true,\n    component: RouteGuard(InvestmentAllowance),\n    resources: [fixedAssetModuleClassResource]\n  },\n  {\n    path: `${constants.routes.balancing_adjustment}${modePathParam}`,\n    name: \"BALANCING_ADJUSTMENT\",\n    exact: true,\n    component: RouteGuard(BalancingAdjustment),\n    resources: [fixedAssetModuleClassResource]\n  },\n  {\n    path: \"*\",\n    name: \"NOT_FOUND\",\n    component: NotFound\n  }\n];\n","import React from \"react\";\nimport \"primereact/resources/themes/saga-blue/theme.css\";\nimport \"primereact/resources/primereact.min.css\";\nimport \"primeicons/primeicons.css\";\nimport \"primeflex/primeflex.css\";\nimport { Router, RouteComponent, createBrowserHistory } from \"react-resource-router\";\nimport { routes } from \"./routes\";\nimport { useAuth } from \"./store/AuthStore\";\nimport utils from \"./utils\";\nimport { useCompany } from \"./store/CompanyStore\";\nimport axiosConfig from \"./configs/axios.config\";\n\nconst history = createBrowserHistory();\n\nfunction App() {\n  const [auth, { initAuth }] = useAuth();\n  const [company, { initCompany }] = useCompany();\n\n  window.onbeforeunload = () => {\n    utils.saveState(auth, \"auth\");\n    utils.saveState(company, \"company\");\n    sessionStorage.setItem(\"path\", history.location.pathname);\n    sessionStorage.setItem(\"token\", auth.token);\n  };\n\n  window.onload = () => {\n    initAuth(utils.loadState(\"auth\"));\n    initCompany(utils.loadState(\"company\"));\n    sessionStorage.removeItem(\"token\");\n  };\n\n  // axios config\n  axiosConfig(auth.token);\n\n  return (\n    <Router history={history} routes={routes}>\n      <RouteComponent />\n    </Router>\n  );\n}\n\nexport default App;\n","import axios from \"axios\";\n// import { login } from 'routes';\n// import { refreshTokenAuth, signOut } from 'store/actions/auth';\n// import store from 'store/store';\n\nexport default function (authToken) {\n  // set axios base url\n  axios.defaults.baseURL = window.configs.baseURL;\n  // Request interceptor for API calls\n  axios.interceptors.request.use(\n    config => {\n      const token = authToken || sessionStorage.getItem(\"token\");\n\n      if (token) {\n        config.headers[\"Authorization\"] = `Bearer ${token}`;\n      }\n\n      return config;\n    },\n    error => {\n      Promise.reject(error);\n    }\n  );\n}\n","import React, { Component } from \"react\";\n\nconst logErrorToConsole = (error, errorInfo) => {\n  console.log(error, errorInfo);\n};\n\n/**\n * Error Boundary Component - catches error in children component and diplay a message to the user\n * E.g.:\n * ```html\n * <ErrorBoundary>\n *   <App />\n * </ErrorBoundary>\n * ```\n */\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, offline: false };\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"online\", () => this.setState({ ...this.state, offline: false }));\n    window.addEventListener(\"offline\", () => this.setState({ ...this.state, offline: true }));\n  }\n\n  static getDerivedStateFromError(_error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    logErrorToConsole(error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            width: \"100vw\",\n            height: \"100vh\"\n          }}>\n          <h3>An Error Occurred</h3>\n          <p>view log in console</p>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"app\">\n        <div className=\"app-container\">{this.props.children}</div>\n        {this.state.offline && (\n          <div\n            style={{\n              position: \"fixed\",\n              zIndex: 1000,\n              left: 0,\n              right: 0,\n              top: 0,\n              bottom: 0,\n              background: \"rgba(255, 255, 255, 0.95)\"\n            }}>\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                width: \"100vw\",\n                height: \"100vh\"\n              }}>\n              <p style={{ fontSize: 20, paddingTop: 20, textAlign: \"center\" }}>\n                No internet!\n                <br />\n                Reconnect to keep working\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ErrorBoundary;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"fontsource-poppins\";\nimport \"./styles/index.css\";\nimport App from \"./App\";\nimport { defaults } from \"react-sweet-state\";\nimport ErrorBoundary from \"./components/common/ErrorBoundary\";\n\n// redux devtools\ndefaults.devtools = true;\n\nReactDOM.render(\n  <React.StrictMode>\n    <ErrorBoundary>\n      <App />\n    </ErrorBoundary>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}