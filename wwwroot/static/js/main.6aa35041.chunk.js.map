{"version":3,"sources":["constants/index.js","store/CompanyStore.js","components/controllers/PasswordController.jsx","apis/Authentication.js","store/AuthStore.js","utils/index.js","components/common/ChangePassword.jsx","apis/Users.js","components/common/CreateUser.jsx","store/ResourcesStore.js","apis/Utilities.js","components/common/CreateAsset.jsx","components/layout/Header.jsx","components/layout/Sidebar.jsx","components/layout/index.jsx","components/common/ViewModeHeaders.jsx","components/common/ViewMode.jsx","apis/BalancingAdjustment.js","components/common/Loader.jsx","components/balancing_adjustment/BalancingAdjustmentView.jsx","components/common/ModuleHeader.jsx","components/layout/Main.jsx","components/balancing_adjustment/BalancingAdjustmentAdding.jsx","apis/Companies.js","apis/TrialBalance.js","routes/resources/index.js","components/common/PageLoader.jsx","components/common/Error.jsx","pages/BalancingAdjustment.jsx","apis/CapitalAllowance.js","components/capital_allowance/CapitalAllowanceView.jsx","components/capital_allowance/CapitalAllowanceAdding.jsx","pages/CapitalAllowance.jsx","components/dashboard/AddCompanyForm.jsx","components/dashboard/FileUploader.jsx","components/dashboard/TrialBalanceTable.jsx","components/dashboard/CompanyPicker.jsx","pages/Dashboard.jsx","components/common/MappingMode.jsx","components/deferred_tax/DeferredTaxView.jsx","pages/DeferredTax.jsx","apis/FixedAsset.js","components/common/TrialBalanceMappingTable.jsx","components/controllers/DropdownController.jsx","components/controllers/InputController.jsx","components/fixed_asset/FixedAssetMapping.jsx","components/fixed_asset/FixedAssetView.jsx","pages/FixedAsset.jsx","pages/ForgotPassword.jsx","pages/Home.jsx","components/income_tax/IncomeTaxView.jsx","pages/IncomeTax.jsx","components/investment_allowance/InvestmentAllowanceView.jsx","pages/InvestmentAllowance.jsx","components/it_levy/ITLevyView.jsx","pages/ITLevy.jsx","pages/Login.jsx","components/minimum_tax/MinimumTaxView.jsx","pages/MinimumTax.jsx","pages/NotFound.jsx","apis/ProfitAndLoss.js","components/profit_loss/ProfitAndLossView.jsx","components/profit_loss/ProfitAndLossMapping.jsx","pages/ProfitAndLoss.jsx","pages/ResetPassword.jsx","RouteGuard.js","routes/index.js","App.js","configs/axios.config.js","index.js"],"names":["startYear","toastLifeTime","modes","modules","dashboard","fixedAsset","profit_loss","incomeTax","deferredTax","minimumTax","itLevy","capitalAllowance","investmentAllowance","balancingAdjustment","routes","home","login","forgot_password","reset_password","fixed_asset","income_tax","deferred_tax","minimum_tax","it_levy","capital_allowance","investment_allowance","balancing_adjustment","nonMappedModules","mappingCode","fixedasset","profitandloss","balancingadjustment","deferredtax","incometax","networkErrorMessage","CompanyStore","createStore","initialState","companyId","companyName","companyDescription","cacNumber","tinNumber","actions","initCompany","setState","onSelectCompany","resetCompany","name","useCompany","createHook","PasswordController","placeholder","autoComplete","value","onChange","React","useState","passwordReveal","setPasswordReveal","useEffect","state","style","position","marginBottom","width","paddingRight","type","className","left","right","top","onClick","a","email","password","axios","post","data","forgotPassword","resetPassword","token","newPassword","confirmPassword","changePassword","currentPassword","AuthStore","isAuthenticated","userId","firstName","lastName","initAuth","getState","onLoginSuccess","id","onLogout","callbacks","forEach","cb","Function","useAuth","currencyFormatter","Intl","NumberFormat","currency","format","Date","getFullYear","years","i","constants","push","title","includes","stateName","serializedState","JSON","stringify","sessionStorage","setItem","err","console","log","getItem","removeItem","parse","severity","summary","detail","life","closable","resources","setTbData","trialBalance","filter","d","accountId","item","debit","credit","toLowerCase","map","debitAmt","creditAmt","ChangePassword","setShowChangePassword","useRouter","routerState","useForm","errors","handleSubmit","control","loading","setLoading","toast","useRef","location","current","show","utils","onSubmit","message","response","NewPassword","rules","required","defaultValue","render","props","e","target","fontSize","color","label","icon","ref","el","addUser","phoneNumber","CreateUser","setShowCreateUser","status","setTimeout","code","description","ResourcesStore","companies","fixedAssetModuleItems","profitAndLossModuleItems","initResource","onCompanies","onFixedAssetModuleItems","onProfitAndLossModuleItems","onTrialBalance","resetResources","moduleItems","useResources","getModuleItems","moduleCode","get","createAssetClass","assetName","initial","annual","CreateAsset","setShowCreateAsset","error","pattern","Header","replace","useRouterActions","showSettings","setShowSettings","showChangePassword","showCreateUser","showCreateAsset","background","height","padding","borderLeft","zIndex","marginTop","fontWeight","marginRight","Sidebar","selectedTitle","menuItems","href","margin","index","key","cursor","Layout","children","marginLeft","ViewModeHeaders","headers","header","ViewMode","year","toUpperCase","balancingAdjustmentAdding","assetId","cost","salesProceed","yearBought","formData","FormData","append","balancingAdjustmentViewData","Loader","BalancingAdjustmentView","isMounted","setError","balancingAdjustmentData","setBalancingAdjustmentData","tableData","values","balancingAdjustments","assetNameRow","emptyRow","category","assetYear","costRow","initialAllowanceRow","annualAllowanceRow","residueRow","salesProceedRow","balanceRow","initialAllowance","annualAllowance","residue","twdv","balancingCharge","balancingAllowance","length","fetchBalancingAdjustmentViewData","field","ModuleHeader","mode","setMode","setYear","setAssetId","yearSelectItems","assetClassSelectItems","addingModules","modeSelectItems","adding","mapping","view","options","disabled","Main","overflowX","BalancingAdjustmentAdding","responseDescription","addCompany","openingYear","closingYear","getCompanies","pageNumber","pageSize","uploadTrialBalance","file","getTrialBalance","companiesResource","createResource","getKey","getData","fixedAssetModuleClassResource","profitandlossModuleClassResource","trialBalanceResource","PageLoader","Error","refresh","textAlign","BalancingAdjustment","useResource","assetClass","assetClassError","assetClassRefresh","usePathParam","setAssetClassSelectItems","toString","assetClassId","baseZIndex","capitalAllowanceAdding","taxYear","openingResidue","addition","disposal","total","closingResidue","yearsToGo","capitalAllowanceViewData","CapitalAllowanceView","capitalAllowanceData","setCapitalAllowanceData","capitalAllowances","openingResidualTotal","additionTotal","disposalTotal","initialTotal","annualTotal","totalTotal","closingResidueTotal","concat","fetchCapitalAllowanceViewData","scrollable","headerStyle","CapitalAllowanceAdding","CapitalAllowance","AddCompanyForm","showAddCompany","setShowAddCompany","companyError","CompanyDescription","visible","focusOnShow","onHide","htmlFor","FileUploader","company","setRefreshTrialBalanceTable","setFile","onUpload","accept","opacity","files","TrialBalanceTable","refreshTrialBalanceTable","tbData","fetchTrialBalance","paginator","rows","rowsPerPageOptions","footer","CompanyPicker","showCompanyPicker","setShowCompanyPicker","companySelectItems","blockScroll","closeOnEscape","optionLabel","autoFocus","filterBy","Dashboard","setCompanySelectItems","isActive","MappingMode","selectedAccounts","setSelectedAccounts","accountDescription","debitAmount","creditAmount","allAccount","selection","onSelectionChange","selectionMode","DeferredTaxView","deferredTaxData","DeferredTax","fixedAssetMapping","yearId","mappedCode","triBalanceId","isCost","openingCost","transferCost","transferDepreciation","isTransferCostRemoved","isTransferDepreciationRemoved","costAddition","costDisposal","openingDepreciation","depreciationAddition","depreciationDisposal","fixedAssetViewData","fixedAssetUnmapping","put","TrialBalanceMappingTable","trialBalanceRefresh","debitRowChecks","setDebitRowChecks","creditRowChecks","setCreditRowChecks","find","mappedTo","body","rowData","checked","selectedAccountIndex","selectedAccount","trialBalanceId","isDebit","isCredit","isBoth","some","DropdownController","Controller","controllerName","otherRules","dropdownOptions","onChangeCallback","errorMessage","InputController","FixedAssetMapping","closingBalance","setClosingBalance","closingBalanceAmt","setClosingBalanceAmt","selectedAssetType","setSelectedAssetType","transferChecked","setTransferChecked","typeSelectItems","reduce","accumulator","assetType","openingBalance","transfer","isNaN","account","Number","costClosing","depreciationClosing","inputId","FixedAssetView","fixedAssetApiData","setFixedAssetApiData","fixedAssetData","setFixedAssetData","newState","Array","from","s","fixedAssetName","openingCostTotal","additionCostTotal","disposalCostTotal","transferCostTotal","closingCostTotal","openingDepreciationTotal","additionDepreciationTotal","disposalDepreciationTotal","transferDepreciationTotal","closingDepreciationTotal","netBookValue","acc","cur","slice","fetchFixedAssetViewData","FixedAsset","trialBalanceError","ForgotPassword","pathname","path","to","Home","IncomeTaxView","incomeTaxData","IncomeTax","InvestmentAllowanceView","investmentAllowanceData","InvestmentAllowance","ITLevyView","itLevyData","ITLevy","Login","user","MinimumTaxView","minimumTaxData","MinimumTax","NotFound","profitAndLossMapping","profitAndLossId","trialBalanceList","profitAndLossViewData","ProfitAndLossView","profitAndLossApiData","setProfitAndLossApiData","fetchProfitAndLossViewData","ProfitAndLossMapping","ProfitAndLoss","ResetPassword","maxLength","keyfilter","Component","exact","component","RouteGuard","history","createBrowserHistory","App","authToken","auth","window","onbeforeunload","onload","defaults","baseURL","configs","interceptors","request","use","config","Promise","reject","devtools","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6aa35041.chunk.js","sourcesContent":["export default {\n  startYear: 1980,\n  toastLifeTime: 6000,\n  modes: [\"adding\", \"mapping\", \"view\"],\n  modules: {\n    dashboard: \"Dashboard\",\n    fixedAsset: \"Fixed Asset\",\n    profit_loss: \"Profit & Loss\",\n    incomeTax: \"Income Tax\",\n    deferredTax: \"Deferred Tax\",\n    minimumTax: \"Minimum Tax\",\n    itLevy: \"I.T Levy\",\n    capitalAllowance: \"Capital Allowance\",\n    investmentAllowance: \"Investment Allowance\",\n    balancingAdjustment: \"Balancing Adjustment\"\n  },\n  routes: {\n    home: \"/\",\n    login: \"/login\",\n    forgot_password: \"/forgot_password\",\n    reset_password: \"/reset_password\",\n    dashboard: \"/dashboard\",\n    fixed_asset: \"/fixed_asset\",\n    profit_loss: \"/profit_loss\",\n    income_tax: \"/income_tax\",\n    deferred_tax: \"/deferred_tax\",\n    minimum_tax: \"/minimum_tax\",\n    it_levy: \"/it_levy\",\n    capital_allowance: \"/capital_allowance\",\n    investment_allowance: \"/investment_allowance\",\n    balancing_adjustment: \"/balancing_adjustment\"\n  },\n  nonMappedModules: [\"Minimum Tax\", \"Investment Allowance\", \"I.T Levy\"],\n  mappingCode: {\n    fixedasset: \"fixedasset\",\n    profitandloss: \"profitandloss\",\n    balancingadjustment: \"balancingadjustment\",\n    deferredtax: \"deferredtax\",\n    incometax: \"incometax\"\n  },\n  networkErrorMessage: \"Unable to reach server, check your network or contact your admin\"\n};\n","import { createStore, createHook } from \"react-sweet-state\";\n\nconst CompanyStore = createStore({\n  initialState: {\n    companyId: null,\n    companyName: \"\",\n    companyDescription: \"\",\n    cacNumber: \"\",\n    tinNumber: \"\"\n  },\n  actions: {\n    initCompany: initialState => ({ setState }) => setState(initialState),\n    onSelectCompany: ({ companyId, companyName, companyDescription, cacNumber, tinNumber }) => ({\n      setState\n    }) => setState({ companyId, companyName, companyDescription, cacNumber, tinNumber }),\n    resetCompany: () => ({ setState }) =>\n      setState({\n        companyId: null,\n        companyName: \"\",\n        companyDescription: \"\",\n        cacNumber: \"\",\n        tinNumber: \"\"\n      })\n  },\n  name: \"company\"\n});\n\nexport const useCompany = createHook(CompanyStore);\n","import React from \"react\";\nimport { InputText } from \"primereact/inputtext\";\n\nconst PasswordController = ({ placeholder, autoComplete, value, onChange }) => {\n  const [passwordReveal, setPasswordReveal] = React.useState(false);\n\n  React.useEffect(() => setPasswordReveal(state => (!value ? false : state)), [value]);\n\n  return (\n    <div style={{ position: \"relative\" }}>\n      <InputText\n        style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n        type={passwordReveal ? \"text\" : \"password\"}\n        autoComplete={autoComplete}\n        placeholder={placeholder}\n        value={value}\n        onChange={onChange}\n      />\n      {value && (\n        <i\n          className={passwordReveal ? \"pi pi-eye-slash\" : \"pi pi-eye\"}\n          style={{\n            position: \"absolute\",\n            left: \"auto\",\n            right: 10,\n            top: 12.5\n          }}\n          onClick={() => setPasswordReveal(!passwordReveal)}></i>\n      )}\n    </div>\n  );\n};\n\nexport default PasswordController;\n","import axios from \"axios\";\n\nexport const login = async ({ email, password }) => {\n  try {\n    const { data } = await axios.post(\"/api/Authentication/login\", { email, password });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const forgotPassword = async ({ email }) => {\n  try {\n    const { data } = await axios.post(`/api/Authentication/forgot-password/${email}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const resetPassword = async ({ token, newPassword }) => {\n  try {\n    const { data } = await axios.post(\"/api/Authentication/reset-password\", {\n      token,\n      newPassword,\n      confirmPassword: newPassword\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const changePassword = async ({ currentPassword, newPassword }) => {\n  try {\n    const { data } = await axios.post(\"/api/Authentication/change-password\", {\n      currentPassword,\n      newPassword,\n      confirmPassword: newPassword\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import { createStore, createHook } from \"react-sweet-state\";\n\nconst AuthStore = createStore({\n  initialState: {\n    isAuthenticated: null,\n    userId: null,\n    token: \"\",\n    email: \"\",\n    firstName: \"\",\n    lastName: \"\"\n  },\n  actions: {\n    initAuth: initialState => ({ setState, getState }) => {\n      setState(initialState);\n      if (getState().isAuthenticated === null) {\n        setState({ isAuthenticated: false });\n      }\n    },\n    onLoginSuccess: ({ id: userId, token, email, firstName, lastName }) => ({ setState }) =>\n      setState({ isAuthenticated: true, userId, token, email, firstName, lastName }),\n    onLogout: (...callbacks) => ({ setState }) => {\n      callbacks.forEach(cb => (cb instanceof Function ? cb() : null));\n      setState({\n        isAuthenticated: false,\n        userId: null,\n        token: \"\",\n        email: \"\",\n        firstName: \"\",\n        lastName: \"\"\n      });\n    }\n  },\n  name: \"auth\"\n});\n\nexport const useAuth = createHook(AuthStore);\n","import constants from \"../constants\";\n\n/** get current year */\nconst currentYear = () => new Date().getFullYear();\n\n/** get years from start year to current year */\nconst getYears = () => {\n  let currentYear = new Date().getFullYear();\n  let years = [];\n  for (var i = currentYear; i >= constants.startYear; i--) {\n    years.push(i);\n  }\n  return years;\n};\n\n/** default page mode */\nconst defaultMode = title =>\n  constants.nonMappedModules.includes(title)\n    ? \"view\"\n    : [constants.modules.balancingAdjustment, constants.modules.capitalAllowance].includes(title)\n    ? \"adding\"\n    : \"mapping\";\n\n/** save store state */\nconst saveState = (state, stateName) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    sessionStorage.setItem(stateName, serializedState);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\n/** load store state */\nconst loadState = stateName => {\n  try {\n    const serializedState = sessionStorage.getItem(stateName);\n    if (serializedState === null) {\n      return undefined;\n    }\n    sessionStorage.removeItem(stateName);\n    return JSON.parse(serializedState);\n  } catch (err) {\n    return undefined;\n  }\n};\n\n/** convert number to currency */\nconst currencyFormatter = value => {\n  const formatter = new Intl.NumberFormat(\"en-NG\", {\n    style: \"currency\",\n    currency: \"NGN\"\n  });\n\n  return formatter.format(value);\n};\n\n/** toast notification callback function */\nconst toastCallback = ({ severity, summary, detail }) => ({\n  severity,\n  summary,\n  detail,\n  life: constants.toastLifeTime,\n  closable: false\n});\n\n/** set trial balance data */\nconst onTbData = (resources, setTbData) => {\n  if (resources.trialBalance) {\n    setTbData(\n      resources.trialBalance\n        ? resources.trialBalance\n            .filter(\n              d =>\n                !(d.accountId === \"\" && d.item === \"\" && d.debit === 0 && d.credit === 0) &&\n                !d.item.toLowerCase().includes(\"total\")\n            )\n            .map(d => ({\n              ...d,\n              debitAmt: currencyFormatter(d.debit),\n              creditAmt: currencyFormatter(d.credit)\n            }))\n        : []\n    );\n  }\n};\n\nexport default {\n  currentYear,\n  getYears,\n  defaultMode,\n  saveState,\n  loadState,\n  currencyFormatter,\n  toastCallback,\n  onTbData\n};\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { Toast } from \"primereact/toast\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { useRouter } from \"react-resource-router\";\nimport PasswordController from \"../controllers/PasswordController\";\nimport { changePassword } from \"../../apis/Authentication\";\nimport constants from \"../../constants\";\nimport { useAuth } from \"../../store/AuthStore\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport utils from \"../../utils\";\n\nconst ChangePassword = ({ setShowChangePassword }) => {\n  const [routerState] = useRouter();\n  const { errors, handleSubmit, control } = useForm();\n  const [, { onLogout }] = useAuth();\n  const [, { resetCompany }] = useCompany();\n  const [loading, setLoading] = React.useState(false);\n  const toast = React.useRef();\n\n  React.useEffect(() => {\n    if (routerState.location.state)\n      toast.current.show(\n        utils.toastCallback({ severity: \"success\", detail: routerState.location.state })\n      );\n  }, [routerState]);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    const { currentPassword, newPassword } = data;\n    // display error notification if current password and new password are the same\n    if (currentPassword === newPassword) {\n      toast.current.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: \"Current Password and New Password cannot be the same\"\n        })\n      );\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const { message } = await changePassword({ currentPassword, newPassword });\n      routerState.location.state = message;\n      onLogout(resetCompany);\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const { data } = error.response;\n        // display error as toast notification\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: data.message || data.errors.NewPassword[0]\n          })\n        );\n      } else {\n        // network errors\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-ai-center overlay\">\n      <Card style={{ width: 320 }}>\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"currentPassword\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <PasswordController\n                  placeholder=\"Current Password\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.currentPassword && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Current Password is required</span>\n            )}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"newPassword\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <PasswordController\n                  placeholder=\"New Password\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.newPassword && (\n              <span style={{ fontSize: 12, color: \"red\" }}>New Password is required</span>\n            )}\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Change Password\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: \"100%\" }}\n          />\n        </form>\n        {!loading && (\n          <p className=\"back-to-app-link\" onClick={() => setShowChangePassword(state => !state)}>\n            Back to app\n          </p>\n        )}\n      </Card>\n      <Toast ref={el => (toast.current = el)} />\n    </div>\n  );\n};\n\nexport default ChangePassword;\n","import axios from \"axios\";\n\nexport const addUser = async ({\n  email,\n  password,\n  confirmPassword,\n  phoneNumber,\n  firstName,\n  lastName\n}) => {\n  try {\n    return await axios.post(\"/api/Users/add-user\", {\n      email,\n      password,\n      confirmPassword,\n      phoneNumber,\n      firstName,\n      lastName\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { Toast } from \"primereact/toast\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport PasswordController from \"../controllers/PasswordController\";\nimport constants from \"../../constants\";\nimport { InputText } from \"primereact/inputtext\";\nimport { addUser } from \"../../apis/Users\";\nimport utils from \"../../utils\";\n\nconst CreateUser = ({ setShowCreateUser }) => {\n  const { errors, handleSubmit, control } = useForm();\n  const [loading, setLoading] = React.useState(false);\n  const toast = React.useRef();\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    const { email, password, firstName, lastName, phoneNumber } = data;\n    const confirmPassword = password;\n\n    setLoading(true);\n    try {\n      const response = await addUser({\n        email,\n        password,\n        confirmPassword,\n        firstName,\n        lastName,\n        phoneNumber\n      });\n      if (response.status === 201) {\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"success\",\n            detail: \"User created successfully\"\n          })\n        );\n        setTimeout(() => setShowCreateUser(false), 2000);\n      }\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const { data } = error.response;\n        // display error as toast notification\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: data[0].code,\n            detail: data[0].description\n          })\n        );\n      } else {\n        // network errors\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-ai-center overlay\">\n      <Card style={{ width: 320 }}>\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"email\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"Email\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.email && <span style={{ fontSize: 12, color: \"red\" }}>Email is required</span>}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"password\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <PasswordController\n                  placeholder=\"Password\"\n                  autoComplete=\"new-password\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.password && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Password is required</span>\n            )}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"firstName\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"First Name\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.firstName && (\n              <span style={{ fontSize: 12, color: \"red\" }}>First Name is required</span>\n            )}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"lastName\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"Last Name\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.lastName && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Last Name is required</span>\n            )}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"phoneNumber\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"Phone Number\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.phoneNumber && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Phone Number is required</span>\n            )}\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Create User\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: \"100%\" }}\n          />\n        </form>\n        {!loading && (\n          <p className=\"back-to-app-link\" onClick={() => setShowCreateUser(state => !state)}>\n            Back to app\n          </p>\n        )}\n      </Card>\n      <Toast ref={el => (toast.current = el)} />\n    </div>\n  );\n};\n\nexport default CreateUser;\n","import { createStore, createHook } from \"react-sweet-state\";\n\nconst ResourcesStore = createStore({\n  initialState: {\n    companies: null,\n    fixedAssetModuleItems: null,\n    profitAndLossModuleItems: null,\n    trialBalance: null\n  },\n  actions: {\n    initResource: initialState => ({ setState }) => setState(initialState),\n    onCompanies: companies => ({ setState }) => setState({ companies }),\n    onFixedAssetModuleItems: fixedAssetModuleItems => ({ setState }) =>\n      setState({ fixedAssetModuleItems }),\n    onProfitAndLossModuleItems: profitAndLossModuleItems => ({ setState }) =>\n      setState({ profitAndLossModuleItems }),\n    onTrialBalance: trialBalance => ({ setState }) => setState({ trialBalance }),\n    resetResources: () => ({ setState }) =>\n      setState({\n        companies: null,\n        moduleItems: null,\n        trialBalance: null\n      })\n  },\n  name: \"resources\"\n});\n\nexport const useResources = createHook(ResourcesStore);\n","import axios from \"axios\";\n\nexport const getModuleItems = async ({ moduleCode }) => {\n  try {\n    const { data } = await axios.get(`/api/Utilities/module-items/${moduleCode}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const createAssetClass = async ({ assetName, initial, annual }) => {\n  try {\n    return await axios.post(\"/api/Utilities/asset-class\", { assetName, initial, annual });\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { Toast } from \"primereact/toast\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport constants from \"../../constants\";\nimport { InputText } from \"primereact/inputtext\";\nimport utils from \"../../utils\";\nimport { createAssetClass } from \"../../apis/Utilities\";\n\nconst CreateAsset = ({ setShowCreateAsset }) => {\n  const { errors, handleSubmit, control } = useForm();\n  const [loading, setLoading] = React.useState(false);\n  const toast = React.useRef();\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    const { assetName, initial, annual } = data;\n\n    setLoading(true);\n    try {\n      const response = await createAssetClass({\n        assetName,\n        initial: initial ? initial : 0,\n        annual: annual ? annual : 0\n      });\n      if (response.status === 200) {\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"success\",\n            detail: \"Asset created successfully\"\n          })\n        );\n        setTimeout(() => setShowCreateAsset(false), 2000);\n      }\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const { data } = error.response;\n        data.errors.error.forEach(err => {\n          toast.current.show(\n            utils.toastCallback({\n              severity: \"error\",\n              detail: err\n            })\n          );\n        });\n      } else {\n        // network errors\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-ai-center overlay\">\n      <Card style={{ width: 320 }}>\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"assetName\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"Asset Name\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.assetName && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Asset Name is required</span>\n            )}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"initial\"\n              control={control}\n              rules={{ pattern: /^\\d*(\\.\\d+)?$/ }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"Initial\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.initial && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Initial must contain only numbers</span>\n            )}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"annual\"\n              control={control}\n              rules={{ pattern: /^\\d*(\\.\\d+)?$/ }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\n                  placeholder=\"Annual\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.annual && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Annual must contain only numbers</span>\n            )}\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Create Asset\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: \"100%\" }}\n          />\n        </form>\n        {!loading && (\n          <p className=\"back-to-app-link\" onClick={() => setShowCreateAsset(state => !state)}>\n            Back to app\n          </p>\n        )}\n      </Card>\n      <Toast ref={el => (toast.current = el)} />\n    </div>\n  );\n};\n\nexport default CreateAsset;\n","import React from \"react\";\nimport { Button } from \"primereact/button\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport { useRouterActions } from \"react-resource-router\";\nimport constants from \"../../constants\";\nimport ChangePassword from \"../common/ChangePassword\";\nimport CreateUser from \"../common/CreateUser\";\nimport { useResources } from \"../../store/ResourcesStore\";\nimport CreateAsset from \"../common/CreateAsset\";\n\nconst Header = ({ title, loading }) => {\n  const { replace } = useRouterActions();\n  const [showSettings, setShowSettings] = React.useState();\n  const [showChangePassword, setShowChangePassword] = React.useState();\n  const [showCreateUser, setShowCreateUser] = React.useState();\n  const [showCreateAsset, setShowCreateAsset] = React.useState();\n  const [{ companyName }, { resetCompany }] = useCompany();\n  const [, { resetResources }] = useResources();\n\n  const onSwitchCompany = () => {\n    setShowSettings(false);\n    resetCompany();\n    resetResources();\n    replace(constants.routes.home);\n  };\n\n  return (\n    <>\n      <div\n        className=\"p-d-flex p-jc-between p-ai-center drop-shadow\"\n        style={{\n          background: \"#fff\",\n          width: \"calc(100% - 256px)\",\n          height: 66,\n          padding: \"0px 20px\",\n          position: \"fixed\",\n          borderLeft: \"2px solid #f5f6f8\",\n          zIndex: 1\n        }}>\n        <p style={{ marginTop: 5, marginBottom: 0, fontSize: 18, fontWeight: 600 }}>{title}</p>\n        {!loading && (\n          <div className=\"p-d-flex p-ai-center\">\n            <p style={{ marginRight: 10 }}>{companyName}</p>\n            <div style={{ position: \"relative\" }}>\n              <Button\n                icon=\"pi pi-cog pi-20\"\n                className=\"p-button-text\"\n                onClick={() => setShowSettings(!showSettings)}\n              />\n              {showSettings && (\n                <div\n                  className=\"drop-shadow\"\n                  style={{\n                    position: \"absolute\",\n                    right: 0,\n                    width: 170,\n                    padding: 5,\n                    background: \"#fff\"\n                  }}>\n                  <p\n                    className=\"settings-item\"\n                    onClick={() => {\n                      setShowCreateUser(!showCreateUser);\n                      setShowSettings(false);\n                    }}>\n                    Create User\n                  </p>\n                  <p\n                    className=\"settings-item\"\n                    onClick={() => {\n                      setShowCreateAsset(!showCreateAsset);\n                      setShowSettings(false);\n                    }}>\n                    Create Asset\n                  </p>\n                  <p className=\"settings-item\" onClick={onSwitchCompany}>\n                    Switch Company\n                  </p>\n                  <p\n                    className=\"settings-item\"\n                    onClick={() => {\n                      setShowChangePassword(!showChangePassword);\n                      setShowSettings(false);\n                    }}>\n                    Change Password\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n      {showChangePassword && <ChangePassword setShowChangePassword={setShowChangePassword} />}\n      {showCreateUser && <CreateUser setShowCreateUser={setShowCreateUser} />}\n      {showCreateAsset && <CreateAsset setShowCreateAsset={setShowCreateAsset} />}\n    </>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { Link } from \"react-resource-router\";\nimport constants from \"../../constants\";\nimport { useAuth } from \"../../store/AuthStore\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport utils from \"../../utils\";\n\nconst Sidebar = ({ selectedTitle }) => {\n  const [{ firstName, lastName, email }, { onLogout }] = useAuth();\n  const [{ companyId }, { resetCompany }] = useCompany();\n  const menuItems = [\n    { title: \"Dashboard\", href: constants.routes.dashboard },\n    {\n      title: constants.modules.fixedAsset,\n      href: `${constants.routes.fixed_asset}/${utils.defaultMode(constants.modules.fixedAsset)}`\n    },\n    {\n      title: constants.modules.profit_loss,\n      href: `${constants.routes.profit_loss}/${utils.defaultMode(constants.modules.profit_loss)}`\n    },\n    {\n      title: constants.modules.incomeTax,\n      href: `${constants.routes.income_tax}/${utils.defaultMode(constants.modules.incomeTax)}`\n    },\n    {\n      title: constants.modules.deferredTax,\n      href: `${constants.routes.deferred_tax}/${utils.defaultMode(constants.modules.deferredTax)}`\n    },\n    {\n      title: constants.modules.minimumTax,\n      href: `${constants.routes.minimum_tax}/${utils.defaultMode(constants.modules.minimumTax)}`\n    },\n    {\n      title: constants.modules.itLevy,\n      href: `${constants.routes.it_levy}/${utils.defaultMode(constants.modules.itLevy)}`\n    },\n    {\n      title: constants.modules.capitalAllowance,\n      href: `${constants.routes.capital_allowance}/${utils.defaultMode(\n        constants.modules.capitalAllowance\n      )}`\n    },\n    {\n      title: constants.modules.investmentAllowance,\n      href: `${constants.routes.investment_allowance}/${utils.defaultMode(\n        constants.modules.investmentAllowance\n      )}`\n    },\n    {\n      title: constants.modules.balancingAdjustment,\n      href: `${constants.routes.balancing_adjustment}/${utils.defaultMode(\n        constants.modules.balancingAdjustment\n      )}`\n    }\n  ];\n\n  return (\n    <div className=\"p-d-flex\" style={{ position: \"fixed\", zIndex: 1 }}>\n      <div\n        className=\"p-d-flex p-flex-column\"\n        style={{\n          width: 256,\n          height: \"100vh\",\n          background: \"#fff\"\n        }}>\n        <h2 className=\"accent-color\" style={{ margin: \"5px 0\", padding: \"10px 20px\" }}>\n          Tax Computation\n        </h2>\n        <div className=\"divider\"></div>\n        <div style={{ padding: \"10px 20px\" }}>\n          <div style={{ marginTop: 10, background: \"#f5f6f8\", padding: 10 }}>\n            <h4 style={{ marginTop: 5, marginBottom: 0 }}>\n              {firstName} {lastName}\n            </h4>\n            <p style={{ fontSize: 12, margin: 0 }}>{email}</p>\n          </div>\n        </div>\n        {menuItems.map((item, index) => (\n          <Link\n            key={index}\n            href={companyId ? item.href : null}\n            className=\"sidebar-link\"\n            style={{ padding: \"5px 20px\" }}>\n            <p\n              className={\n                selectedTitle.toLowerCase() === item.title.toLowerCase() ? \"accent-color\" : \"\"\n              }\n              style={{ marginTop: 5, marginBottom: 0 }}>\n              {item.title}\n            </p>\n          </Link>\n        ))}\n        <div className=\"divider\" style={{ margin: \"10px 0px\" }}></div>\n        <div className=\"sidebar-link\" style={{ padding: \"0px 20px\" }}>\n          <p\n            style={{ margin: 0, cursor: \"pointer\" }}\n            onClick={() => {\n              onLogout(resetCompany);\n            }}>\n            Logout\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Sidebar from \"./Sidebar\";\n\nconst Layout = ({ title, loading, children }) => {\n  return (\n    <div className=\"p-d-flex\">\n      <Sidebar selectedTitle={title} />\n      <div className=\"p-d-flex p-flex-column\" style={{ width: \"100%\", marginLeft: 256 }}>\n        <Header title={title} loading={loading} />\n        <div style={{ padding: 20, marginTop: 66 }}>{children}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Layout;\n","import React from \"react\";\n\nconst ViewModeHeaders = ({ headers }) => {\n  return (\n    <>\n      {headers.map((header, index) => (\n        <p key={index} className=\"view-description\">\n          {header}\n        </p>\n      ))}\n    </>\n  );\n};\n\nexport default ViewModeHeaders;\n","import React from \"react\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport ViewModeHeaders from \"./ViewModeHeaders\";\n\nconst ViewMode = ({ title, year, children }) => {\n  const [{ companyName }] = useCompany();\n  return (\n    <>\n      <ViewModeHeaders\n        headers={[\n          companyName.toUpperCase(),\n          `${year} INCOME TAX COMPUTATIONS`,\n          `AUDITED ACCOUNTS FOR THE YEAR ENDED 31 DECEMBER, ${year - 1}`,\n          {\n            \"Fixed Asset\": \"ANALYSIS OF FIXED ASSET MOVEMENT\",\n            \"Profit & Loss\": \"SUMMARY OF PROFIT & LOSS ACCOUNTS\",\n            \"Income Tax\": \"INCOME TAX COMPUTATION\",\n            \"Deferred Tax\": \"DEFERRED TAX COMPUTATION\",\n            \"Minimum Tax\": \"MINIMUM TAX COMPUTATION\",\n            \"I.T Levy\": \"I.T. LEVY COMPUTATION (BASED ON THE 2007 CITA AMENDMENT)\",\n            \"Investment Allowance\": \"COMPUTATION OF INVESTMENT ALLOWANCE\",\n            \"Balancing Allowance\": \"COMPUTATION OF BALANCING ALLOWANCE/CHARGE\"\n          }[title]\n        ]}\n      />\n      {children}\n    </>\n  );\n};\n\nexport default ViewMode;\n","import axios from \"axios\";\n\nexport const balancingAdjustmentAdding = async ({\n  year,\n  assetId,\n  cost,\n  salesProceed,\n  yearBought,\n  companyId\n}) => {\n  try {\n    var formData = new FormData();\n    formData.append(\"Year\", year);\n    formData.append(\"AssetId\", assetId);\n    formData.append(\"Cost\", cost);\n    formData.append(\"SalesProceed\", salesProceed);\n    formData.append(\"YearBought\", yearBought);\n    formData.append(\"CompanyId\", companyId);\n    return await axios.post(\"/api/BalancingAdjustment\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const balancingAdjustmentViewData = async ({ companyId, year }) => {\n  try {\n    const { data } = await axios.get(\n      `/api/BalancingAdjustment?companyId=${companyId}&year=${year}`\n    );\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\n\nconst Loader = () => {\n  return (\n    <div className=\"p-d-flex p-flex-column p-jc-center p-ai-center\" style={{ width: \"100%\" }}>\n      <i className=\"pi pi-spin pi-spinner\" style={{ fontSize: 24 }}></i>\n    </div>\n  );\n};\n\nexport default Loader;\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport { balancingAdjustmentViewData } from \"../../apis/BalancingAdjustment\";\nimport utils from \"../../utils\";\nimport Loader from \"../common/Loader\";\n\nconst BalancingAdjustmentView = ({ year }) => {\n  const isMounted = React.useRef(false);\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState();\n  const [error, setError] = React.useState();\n  const [balancingAdjustmentData, setBalancingAdjustmentData] = React.useState([]);\n\n  React.useEffect(() => {\n    isMounted.current = true;\n    const fetchBalancingAdjustmentViewData = async () => {\n      try {\n        setError(null);\n        setLoading(true);\n        const data = await balancingAdjustmentViewData({ companyId, year });\n        if (isMounted.current) {\n          setBalancingAdjustmentData(() => {\n            const tableData = [];\n            data.values.balancingAdjustments.forEach((balancingAdjustment, index) => {\n              const assetNameRow = {};\n              const emptyRow = {};\n\n              assetNameRow.category = <strong>{balancingAdjustment.assetName}</strong>;\n\n              tableData.push(assetNameRow);\n\n              balancingAdjustment.assetYear.forEach((assetYear, index) => {\n                const costRow = {};\n                const initialAllowanceRow = {};\n                const annualAllowanceRow = {};\n                const residueRow = {};\n                const salesProceedRow = {};\n                const balanceRow = {};\n\n                costRow.category = `Cost up to ${assetYear.yearBought} YOA`;\n                costRow.credit = utils.currencyFormatter(assetYear.cost);\n                costRow.cost = utils.currencyFormatter(assetYear.cost);\n\n                initialAllowanceRow.category = \"Initial Allowance\";\n                initialAllowanceRow.credit = utils.currencyFormatter(assetYear.initialAllowance);\n\n                annualAllowanceRow.category = `Annual allowances up to ${year - 1}`;\n                annualAllowanceRow.credit = utils.currencyFormatter(assetYear.annualAllowance);\n\n                residueRow.category = `Residue at 31.12.${year - 1}`;\n                residueRow.credit = utils.currencyFormatter(assetYear.residue);\n                residueRow.twdv = utils.currencyFormatter(assetYear.residue);\n\n                salesProceedRow.category = \"Sales Proceeds\";\n                salesProceedRow.credit = utils.currencyFormatter(assetYear.salesProceed);\n                salesProceedRow.salesProceed = utils.currencyFormatter(assetYear.salesProceed);\n\n                if (assetYear.balancingCharge > 0) {\n                  balanceRow.category = \"Balancing Charge\";\n                  balanceRow.credit = utils.currencyFormatter(assetYear.balancingCharge);\n                  balanceRow.balancingCharge = utils.currencyFormatter(assetYear.balancingCharge);\n                } else {\n                  balanceRow.category = \"Balancing Allowance\";\n                  balanceRow.credit = utils.currencyFormatter(assetYear.balancingAllowance);\n                  balanceRow.balancingCharge = utils.currencyFormatter(\n                    assetYear.balancingAllowance\n                  );\n                }\n\n                tableData.push(costRow);\n                tableData.push(initialAllowanceRow);\n                tableData.push(annualAllowanceRow);\n                tableData.push(residueRow);\n                tableData.push(salesProceedRow);\n                tableData.push(balanceRow);\n                if (index < balancingAdjustment.assetYear.length - 1) tableData.push(emptyRow);\n              });\n\n              if (index < data.values.balancingAdjustments.length - 1) tableData.push(emptyRow);\n            });\n            return tableData;\n          });\n        }\n      } catch (error) {\n        if (isMounted.current) {\n          if (error.response) setError(error.response.data.errors[0]);\n          else setError(error.message);\n        }\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    fetchBalancingAdjustmentViewData();\n\n    return () => (isMounted.current = false);\n  }, [companyId, year]);\n\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\n\n  if (loading) return <Loader />;\n\n  if (balancingAdjustmentData.length === 0)\n    return (\n      <p style={{ color: \"#f00\" }}>Currently, no data for the selected year for this company</p>\n    );\n\n  return (\n    <DataTable\n      className=\"p-datatable-gridlines\"\n      value={balancingAdjustmentData}\n      style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      <Column field=\"credit\" header=\"\"></Column>\n      <Column field=\"balancingAllowance\" header=\"Balancing Allowance\"></Column>\n      <Column field=\"balancingCharge\" header=\"Balancing Charge\"></Column>\n      <Column field=\"cost\" header=\"Cost\"></Column>\n      <Column field=\"salesProceed\" header=\"Sales Proceed\"></Column>\n      <Column field=\"twdv\" header=\"TWDV\"></Column>\n    </DataTable>\n  );\n};\n\nexport default BalancingAdjustmentView;\n","import React from \"react\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport constants from \"../../constants\";\n\nconst ModuleHeader = ({\n  title,\n  mode,\n  setMode,\n  year,\n  setYear,\n  assetId,\n  setAssetId,\n  yearSelectItems,\n  assetClassSelectItems\n}) => {\n  const addingModules = [constants.modules.balancingAdjustment, constants.modules.capitalAllowance];\n  const modeSelectItems = [\n    {\n      label: addingModules.includes(title) ? \"Adding - Mode\" : \"Mapping - Mode\",\n      value: addingModules.includes(title) ? \"adding\" : \"mapping\"\n    },\n    { label: \"View - Mode\", value: \"view\" }\n  ];\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-flex-column\" style={{ width: \"100%\" }}>\n      <div className=\"p-d-flex p-ai-center p-jc-between\" style={{ padding: \"0px 20px\" }}>\n        <p style={{ fontSize: 18, fontWeight: 600 }}>\n          {title}\n          {\n            {\n              adding: \" - Adding\",\n              mapping: \" - Mapping\",\n              view: \" - View\"\n            }[mode]\n          }\n        </p>\n        <div>\n          {mode === \"view\" ? (\n            title !== constants.modules.capitalAllowance ? (\n              <Dropdown\n                style={{ width: 180, marginRight: 20 }}\n                placeholder=\"Select year\"\n                value={year}\n                options={yearSelectItems}\n                onChange={e => {\n                  setYear(e.value);\n                }}\n              />\n            ) : (\n              <>\n                {assetId && (\n                  <Dropdown\n                    style={{ width: 180, marginRight: 20 }}\n                    placeholder=\"Select asset\"\n                    value={assetId}\n                    options={assetClassSelectItems}\n                    onChange={e => {\n                      setAssetId(e.value);\n                    }}\n                  />\n                )}\n              </>\n            )\n          ) : null}\n          <Dropdown\n            style={{ width: 180 }}\n            value={mode}\n            disabled={constants.nonMappedModules.includes(title)}\n            options={modeSelectItems}\n            onChange={e => {\n              setMode(e.value);\n            }}\n          />\n        </div>\n      </div>\n      <div className=\"divider\"></div>\n    </div>\n  );\n};\n\nexport default ModuleHeader;\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport ModuleHeader from \"../common/ModuleHeader\";\nimport constants from \"../../constants\";\nimport utils from \"../../utils\";\n\nconst Main = ({\n  title,\n  mode,\n  setMode,\n  year,\n  setYear,\n  yearSelectItems,\n  assetId,\n  setAssetId,\n  assetClassSelectItems,\n  children\n}) => {\n  if (!constants.modes.includes(mode)) setMode(utils.defaultMode(title));\n\n  return (\n    <Card\n      header={\n        <ModuleHeader\n          title={title}\n          mode={mode}\n          setMode={setMode}\n          year={year}\n          setYear={setYear}\n          assetId={assetId}\n          setAssetId={setAssetId}\n          yearSelectItems={yearSelectItems}\n          assetClassSelectItems={assetClassSelectItems}\n        />\n      }\n      style={{ width: \"100%\", overflowX: \"auto\" }}>\n      {children}\n    </Card>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { balancingAdjustmentAdding } from \"../../apis/BalancingAdjustment\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport utils from \"../../utils\";\nimport constants from \"../../constants\";\n\nconst BalancingAdjustmentAdding = ({ yearSelectItems, assetClassSelectItems, toast }) => {\n  const { errors, handleSubmit, control } = useForm();\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState(false);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    const { year, assetId, cost, salesProceed, yearBought } = data;\n\n    setLoading(true);\n    try {\n      const response = await balancingAdjustmentAdding({\n        year,\n        assetId,\n        cost,\n        salesProceed,\n        yearBought,\n        companyId\n      });\n      if (response.status === 200) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"success\",\n            detail: response.data.responseDescription\n          })\n        );\n      }\n    } catch (error) {\n      if (error.response) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Error\",\n            detail:\n              \"An error occurred while calculating balancing adjustment, kindly contact your admin.\"\n          })\n        );\n        return;\n      }\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          summary: \"Network Error\",\n          detail: constants.networkErrorMessage\n        })\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <form className=\"p-d-flex p-flex-column p-jc-between\" onSubmit={handleSubmit(onSubmit)}>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 120 }}>Year</p>\n          <Controller\n            name=\"year\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <Dropdown\n                style={{ marginBottom: 5, width: 200 }}\n                value={props.value}\n                options={yearSelectItems}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.year && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 120 }}>Year is required</div>\n        )}\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 120 }}>Asset</p>\n          <Controller\n            name=\"assetId\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <Dropdown\n                style={{ marginBottom: 5, width: 200 }}\n                value={props.value}\n                options={assetClassSelectItems}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.assetId && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 120 }}>Asset is required</div>\n        )}\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 120 }}>Cost</p>\n          <Controller\n            name=\"cost\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ width: 200 }}\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.cost && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 120 }}>Cost is required</div>\n        )}\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 120 }}>Sales Proceed</p>\n          <Controller\n            name=\"salesProceed\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ width: 200 }}\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.salesProceed && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 120 }}>\n            Sales Proceed is required\n          </div>\n        )}\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 120 }}>Year Bought</p>\n          <Controller\n            name=\"yearBought\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <Dropdown\n                style={{ marginBottom: 5, width: 200 }}\n                value={props.value}\n                options={yearSelectItems}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.yearBought && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 120 }}>Year Bought is required</div>\n        )}\n      </div>\n      <div className=\"p-d-flex p-flex-column\" style={{ marginTop: 10 }}>\n        <Button\n          type=\"submit\"\n          label={!loading ? \"Submit\" : null}\n          icon={loading ? \"pi pi-spin pi-spinner\" : null}\n          style={{ width: 320 }}\n        />\n      </div>\n    </form>\n  );\n};\n\nexport default BalancingAdjustmentAdding;\n","import axios from \"axios\";\n\nexport const addCompany = async ({\n  companyName,\n  companyDescription,\n  cacNumber,\n  tinNumber,\n  openingYear,\n  closingYear\n}) => {\n  try {\n    return await axios.post(\"/api/Companies/add-company\", {\n      companyName,\n      companyDescription,\n      cacNumber,\n      tinNumber,\n      openingYear,\n      closingYear\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getCompanies = async (pageNumber = 1, pageSize = 1000) => {\n  try {\n    const { data } = await axios.get(\n      `/api/Companies/get-companies${\n        pageNumber && pageSize ? `?PageNumber=${pageNumber}&PageSIze=${pageSize}` : \"\"\n      }`\n    );\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import axios from \"axios\";\n\nexport const uploadTrialBalance = async ({ file, companyId, year }) => {\n  try {\n    var formData = new FormData();\n    formData.append(\"File\", file.item(0));\n    formData.append(\"CompanyId\", companyId);\n    formData.append(\"YearId\", year);\n    return await axios.post(\"/api/TrialBalance\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getTrialBalance = async ({ companyId, year }) => {\n  try {\n    const { data } = await axios.get(`/api/TrialBalance?companyId=${companyId}&yearId=${year}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import { createResource } from \"react-resource-router\";\nimport { getCompanies } from \"../../apis/Companies\";\nimport { getTrialBalance } from \"../../apis/TrialBalance\";\nimport { getModuleItems } from \"../../apis/Utilities\";\nimport utils from \"../../utils\";\n\nexport const companiesResource = createResource({\n  type: \"COMPANIES\",\n  getKey: () => \"companies\",\n  getData: () => getCompanies()\n});\n\nexport const fixedAssetModuleClassResource = createResource({\n  type: \"FIXED_ASSET_MODULE_CLASS\",\n  getKey: () => \"fixedAssetModuleClass\",\n  getData: () => getModuleItems({ moduleCode: \"fixedasset\" })\n});\n\nexport const profitandlossModuleClassResource = createResource({\n  type: \"PROFIT_AND_LOSS_MODULE_CLASS\",\n  getKey: () => \"profitandlossModuleClass\",\n  getData: () => getModuleItems({ moduleCode: \"profitandloss\" })\n});\n\nexport const trialBalanceResource = createResource({\n  type: \"TRIAL_BALANCE\",\n  getKey: () => \"trialBalance\",\n  getData: () =>\n    getTrialBalance({ companyId: sessionStorage.getItem(\"cid\"), year: utils.currentYear() })\n});\n","import React from \"react\";\nimport Layout from \"../layout\";\n\nconst PageLoader = ({ title }) => {\n  return (\n    <Layout title={title} loading={true}>\n      <div\n        className=\"p-d-flex p-flex-column p-jc-center p-ai-center\"\n        style={{ height: \"calc(100vh - 120px)\" }}>\n        <i className=\"pi pi-spin pi-spinner\" style={{ fontSize: 24 }}></i>\n        <p>Loading data...</p>\n      </div>\n    </Layout>\n  );\n};\n\nexport default PageLoader;\n","import { Button } from \"primereact/button\";\nimport React from \"react\";\nimport constants from \"../../constants\";\nimport Layout from \"../layout\";\n\nconst Error = ({ title, error, refresh }) => {\n  return (\n    <Layout title={title}>\n      <div\n        className=\"p-d-flex p-flex-column p-jc-center p-ai-center\"\n        style={{ height: \"calc(100vh - 120px)\" }}>\n        <Button\n          icon=\"pi pi-refresh pi-24\"\n          className=\"p-button-rounded p-button-text\"\n          onClick={refresh}\n        />\n        <div style={{ width: 400, textAlign: \"center\" }}>\n          {error.response ? (\n            error.response.data.errors.error.map(error => <p>{error}</p>)\n          ) : error.message === \"Network Error\" ? (\n            <p>{constants.networkErrorMessage}</p>\n          ) : (\n            <p>{error.message}</p>\n          )}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Error;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport constants from \"../constants\";\nimport BalancingAdjustmentView from \"../components/balancing_adjustment/BalancingAdjustmentView\";\nimport Main from \"../components/layout/Main\";\nimport utils from \"../utils\";\nimport { usePathParam, useResource } from \"react-resource-router\";\nimport { Toast } from \"primereact/toast\";\nimport BalancingAdjustmentAdding from \"../components/balancing_adjustment/BalancingAdjustmentAdding\";\nimport { fixedAssetModuleClassResource } from \"../routes/resources\";\nimport { useResources } from \"../store/ResourcesStore\";\nimport PageLoader from \"../components/common/PageLoader\";\nimport Error from \"../components/common/Error\";\n\nconst BalancingAdjustment = () => {\n  const title = constants.modules.balancingAdjustment;\n  const toast = React.useRef();\n  const { data: assetClass, error: assetClassError, refresh: assetClassRefresh } = useResource(\n    fixedAssetModuleClassResource\n  );\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [resources, { onFixedAssetModuleItems }] = useResources();\n  const [assetClassSelectItems, setAssetClassSelectItems] = React.useState([]);\n  const [year, setYear] = React.useState(utils.currentYear());\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  React.useEffect(() => {\n    if (assetClass) onFixedAssetModuleItems(assetClass);\n  }, [assetClass, onFixedAssetModuleItems]);\n\n  React.useEffect(() => {\n    if (resources.moduleItems) {\n      setAssetClassSelectItems(\n        resources.moduleItems.map(({ id: assetClassId, name }) => ({\n          label: name,\n          value: assetClassId\n        }))\n      );\n    }\n  }, [resources.moduleItems]);\n\n  if (assetClassError)\n    return <Error title={title} error={assetClassError} refresh={assetClassRefresh} />;\n\n  if (!resources.moduleItems) return <PageLoader title={title} />;\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        {\n          {\n            adding: (\n              <BalancingAdjustmentAdding\n                yearSelectItems={yearSelectItems}\n                assetClassSelectItems={assetClassSelectItems}\n                toast={toast.current}\n              />\n            ),\n            view: (\n              <ViewMode title={title} year={year}>\n                <BalancingAdjustmentView year={year} />\n              </ViewMode>\n            )\n          }[mode]\n        }\n      </Main>\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\n    </Layout>\n  );\n};\n\nexport default BalancingAdjustment;\n","import axios from \"axios\";\n\nexport const capitalAllowanceAdding = async ({\n  companyId,\n  taxYear,\n  assetId,\n  openingResidue,\n  addition,\n  disposal,\n  initial,\n  annual,\n  total,\n  closingResidue,\n  yearsToGo\n}) => {\n  try {\n    return await axios.post(\"/api/CapitalAllowance\", {\n      companyId,\n      taxYear,\n      assetId,\n      openingResidue,\n      addition,\n      disposal,\n      initial,\n      annual,\n      total,\n      closingResidue,\n      yearsToGo\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const capitalAllowanceViewData = async ({ companyId, assetId }) => {\n  try {\n    const { data } = await axios.get(`/api/CapitalAllowance/${companyId}/${assetId}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport Loader from \"../common/Loader\";\nimport { capitalAllowanceViewData } from \"../../apis/CapitalAllowance\";\nimport utils from \"../../utils\";\n\nconst CapitalAllowanceView = ({ assetId }) => {\n  const isMounted = React.useRef(false);\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState();\n  const [error, setError] = React.useState();\n  const [capitalAllowanceData, setCapitalAllowanceData] = React.useState([]);\n\n  React.useEffect(() => {\n    isMounted.current = true;\n    const fetchCapitalAllowanceViewData = async () => {\n      if (!assetId) return;\n\n      try {\n        setError(null);\n        setLoading(true);\n        const {\n          capitalAllowances,\n          openingResidualTotal,\n          additionTotal,\n          disposalTotal,\n          initialTotal,\n          annualTotal,\n          totalTotal,\n          closingResidueTotal\n        } = await capitalAllowanceViewData({ companyId, assetId });\n        if (isMounted.current)\n          setCapitalAllowanceData(() => {\n            const newState = capitalAllowances\n              .map(capitalAllowance => ({\n                ...capitalAllowance,\n                taxYear: <strong>{capitalAllowance.taxYear}</strong>,\n                openingResidue: utils.currencyFormatter(capitalAllowance.openingResidue),\n                addition: utils.currencyFormatter(capitalAllowance.addition),\n                disposal: utils.currencyFormatter(capitalAllowance.disposal),\n                initial: utils.currencyFormatter(capitalAllowance.initial),\n                annual: utils.currencyFormatter(capitalAllowance.annual),\n                total: utils.currencyFormatter(capitalAllowance.total),\n                closingResidue: utils.currencyFormatter(capitalAllowance.closingResidue)\n              }))\n              .concat([\n                {\n                  taxYear: \"\",\n                  openingResidue: \"\",\n                  addition: \"\",\n                  disposal: \"\",\n                  initial: \"\",\n                  annual: \"\",\n                  total: \"\",\n                  closingResidue: \"\"\n                },\n                {\n                  openingResidue: <strong>{utils.currencyFormatter(openingResidualTotal)}</strong>,\n                  addition: <strong>{utils.currencyFormatter(additionTotal)}</strong>,\n                  disposal: <strong>{utils.currencyFormatter(disposalTotal)}</strong>,\n                  initial: <strong>{utils.currencyFormatter(initialTotal)}</strong>,\n                  annual: <strong>{utils.currencyFormatter(annualTotal)}</strong>,\n                  total: <strong>{utils.currencyFormatter(totalTotal)}</strong>,\n                  closingResidue: <strong>{utils.currencyFormatter(closingResidueTotal)}</strong>\n                }\n              ]);\n\n            return newState;\n          });\n      } catch (error) {\n        if (isMounted.current) {\n          if (error.response) setError(error.response.data.errors[0]);\n          else setError(error.message);\n        }\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    fetchCapitalAllowanceViewData();\n\n    return () => (isMounted.current = false);\n  }, [companyId, assetId]);\n\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\n\n  if (loading) return <Loader />;\n\n  if (capitalAllowanceData.length === 0)\n    return (\n      <p style={{ color: \"#f00\" }}>Currently, no data for the selected year for this company</p>\n    );\n\n  return (\n    <DataTable\n      className=\"p-datatable-gridlines\"\n      value={capitalAllowanceData}\n      style={{ marginTop: 40, width: 1200 }}\n      scrollable>\n      <Column field=\"taxYear\" header=\"Tax Year\" headerStyle={{ width: \"6em\" }}></Column>\n      <Column\n        field=\"openingResidue\"\n        header=\"Opening Residue\"\n        headerStyle={{ width: \"10em\" }}></Column>\n      <Column field=\"addition\" header=\"Addition\" headerStyle={{ width: \"10em\" }}></Column>\n      <Column field=\"disposal\" header=\"Disposal\" headerStyle={{ width: \"10em\" }}></Column>\n      <Column field=\"initial\" header=\"Initial\" headerStyle={{ width: \"10em\" }}></Column>\n      <Column field=\"annual\" header=\"Annual\" headerStyle={{ width: \"10em\" }}></Column>\n      <Column field=\"total\" header=\"Total\" headerStyle={{ width: \"10em\" }}></Column>\n      <Column\n        field=\"closingResidue\"\n        header=\"Closing Residue\"\n        headerStyle={{ width: \"10em\" }}></Column>\n      <Column field=\"yearsToGo\" header=\"Yr to go\" headerStyle={{ width: \"6em\" }}></Column>\n    </DataTable>\n  );\n};\n\nexport default CapitalAllowanceView;\n","import React from \"react\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport utils from \"../../utils\";\nimport constants from \"../../constants\";\nimport { capitalAllowanceAdding } from \"../../apis/CapitalAllowance\";\n\nconst CapitalAllowanceAdding = ({ yearSelectItems, assetClassSelectItems, toast }) => {\n  const { errors, handleSubmit, control } = useForm();\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState(false);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    const {\n      taxYear,\n      assetId,\n      openingResidue,\n      addition,\n      disposal,\n      initial,\n      annual,\n      total,\n      closingResidue,\n      yearsToGo\n    } = data;\n\n    setLoading(true);\n    try {\n      const response = await capitalAllowanceAdding({\n        companyId,\n        taxYear,\n        assetId,\n        openingResidue,\n        addition,\n        disposal,\n        initial,\n        annual,\n        total,\n        closingResidue,\n        yearsToGo\n      });\n      if (response.status === 200) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"success\",\n            detail: response.data\n          })\n        );\n      }\n    } catch (error) {\n      if (error.response) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Error\",\n            detail:\n              \"An error occurred while calculating capital allowance, kindly contact your admin.\"\n          })\n        );\n        return;\n      }\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          summary: \"Network Error\",\n          detail: constants.networkErrorMessage\n        })\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <form className=\"p-d-flex p-flex-column p-jc-between\" onSubmit={handleSubmit(onSubmit)}>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Tax Year</p>\n          <Controller\n            name=\"taxYear\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <Dropdown\n                style={{ marginBottom: 5, width: 200 }}\n                value={props.value}\n                options={yearSelectItems}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.taxYear && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Tax Year is required</div>\n        )}\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Asset</p>\n          <Controller\n            name=\"assetId\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <Dropdown\n                style={{ marginBottom: 5, width: 200 }}\n                value={props.value}\n                options={assetClassSelectItems}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.assetId && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Asset is required</div>\n        )}\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Opening Residue</p>\n          <Controller\n            name=\"openingResidue\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ width: 200 }}\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.openingResidue && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>\n            Opening Residue is required\n          </div>\n        )}\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Addition</p>\n          <Controller\n            name=\"addition\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ width: 200 }}\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.addition && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Addition is required</div>\n        )}\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Disposal</p>\n          <Controller\n            name=\"disposal\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ width: 200 }}\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.disposal && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Disposal is required</div>\n        )}\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Initial</p>\n          <Controller\n            name=\"initial\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ width: 200 }}\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.initial && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Initial is required</div>\n        )}\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Annual</p>\n          <Controller\n            name=\"annual\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ width: 200 }}\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.annual && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Annual is required</div>\n        )}\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Total</p>\n          <Controller\n            name=\"total\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ width: 200 }}\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.total && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Total is required</div>\n        )}\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Closing Residue</p>\n          <Controller\n            name=\"closingResidue\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ width: 200 }}\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.closingResidue && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>\n            Closing Residue is required\n          </div>\n        )}\n      </div>\n      <div style={{ marginBottom: 10 }}>\n        <div className=\"p-d-flex p-ai-center\">\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Years To Go</p>\n          <Controller\n            name=\"yearsToGo\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ width: 200 }}\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n        </div>\n        {errors.yearsToGo && (\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Years To Go is required</div>\n        )}\n      </div>\n      <div className=\"p-d-flex p-flex-column\" style={{ marginTop: 10 }}>\n        <Button\n          type=\"submit\"\n          label={!loading ? \"Submit\" : null}\n          icon={loading ? \"pi pi-spin pi-spinner\" : null}\n          style={{ width: 350 }}\n        />\n      </div>\n    </form>\n  );\n};\n\nexport default CapitalAllowanceAdding;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport constants from \"../constants\";\nimport CapitalAllowanceView from \"../components/capital_allowance/CapitalAllowanceView\";\nimport Main from \"../components/layout/Main\";\nimport utils from \"../utils\";\nimport CapitalAllowanceAdding from \"../components/capital_allowance/CapitalAllowanceAdding\";\nimport { Toast } from \"primereact/toast\";\nimport { fixedAssetModuleClassResource } from \"../routes/resources\";\nimport { useResources } from \"../store/ResourcesStore\";\nimport { usePathParam, useResource } from \"react-resource-router\";\nimport PageLoader from \"../components/common/PageLoader\";\nimport Error from \"../components/common/Error\";\n\nconst CapitalAllowance = () => {\n  const title = constants.modules.capitalAllowance;\n  const toast = React.useRef();\n  const { data: assetClass, error: assetClassError, refresh: assetClassRefresh } = useResource(\n    fixedAssetModuleClassResource\n  );\n  const [resources, { onFixedAssetModuleItems }] = useResources();\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const [assetId, setAssetId] = React.useState();\n  const [assetClassSelectItems, setAssetClassSelectItems] = React.useState([]);\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  React.useEffect(() => {\n    if (assetClass) onFixedAssetModuleItems(assetClass);\n  }, [assetClass, onFixedAssetModuleItems]);\n\n  React.useEffect(() => {\n    if (resources.moduleItems) {\n      setAssetClassSelectItems(\n        resources.moduleItems.map(({ id: assetClassId, name }) => ({\n          label: name,\n          value: assetClassId\n        }))\n      );\n      setAssetId(resources.moduleItems[0].id);\n    }\n  }, [resources.moduleItems]);\n\n  if (assetClassError)\n    return <Error title={title} error={assetClassError} refresh={assetClassRefresh} />;\n\n  if (!resources.moduleItems) return <PageLoader title={title} />;\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}\n        assetId={assetId}\n        setAssetId={setAssetId}\n        assetClassSelectItems={assetClassSelectItems}>\n        {\n          {\n            adding: (\n              <CapitalAllowanceAdding\n                yearSelectItems={yearSelectItems}\n                assetClassSelectItems={assetClassSelectItems}\n                toast={toast.current}\n              />\n            ),\n            view: (\n              <ViewMode title={title} year={year}>\n                <CapitalAllowanceView assetId={assetId} />\n              </ViewMode>\n            )\n          }[mode]\n        }\n      </Main>\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\n    </Layout>\n  );\n};\n\nexport default CapitalAllowance;\n","import React from \"react\";\nimport { Dialog } from \"primereact/dialog\";\nimport { InputText } from \"primereact/inputtext\";\nimport { Button } from \"primereact/button\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { addCompany } from \"../../apis/Companies\";\nimport constants from \"../../constants\";\nimport utils from \"../../utils\";\n\nconst AddCompanyForm = ({ showAddCompany, setShowAddCompany, toast, refresh }) => {\n  const { errors, handleSubmit, control } = useForm();\n  const [loading, setLoading] = React.useState(false);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    setLoading(true);\n    const {\n      companyName,\n      cacNumber,\n      tinNumber,\n      companyDescription,\n      openingYear,\n      closingYear\n    } = data;\n    try {\n      const response = await addCompany({\n        companyName,\n        cacNumber,\n        tinNumber,\n        companyDescription,\n        openingYear,\n        closingYear\n      });\n      if (response.status === 201) {\n        toast.show(\n          utils.toastCallback({ severity: \"success\", detail: \"Company added successfully\" })\n        );\n        setTimeout(() => {\n          setLoading(false);\n          setShowAddCompany(false);\n          refresh();\n        }, 2000);\n      }\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const {\n          data: { errors }\n        } = error.response;\n        // display main error as toast notification\n        if (!errors?.error?.companyError && !errors?.error?.CompanyDescription) {\n          errors.map(err =>\n            toast.show(utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: err }))\n          );\n          return;\n        }\n        // display all errors as toast notification\n        errors?.error?.companyError &&\n          errors.error.companyError.map(err =>\n            toast.show(utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: err }))\n          );\n        errors?.error?.CompanyDescription &&\n          errors.error.CompanyDescription.map(err =>\n            toast.show(utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: err }))\n          );\n      } else {\n        // network errors\n        toast.show(\n          utils.toastCallback({\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  return (\n    <Dialog\n      header=\"Add Company\"\n      visible={showAddCompany}\n      style={{ width: 400 }}\n      focusOnShow={false}\n      onHide={() => setShowAddCompany(false)}>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15 }}>\n          <label htmlFor=\"companyNameInput\" style={{ marginBottom: 10 }}>\n            Company Name\n          </label>\n          <Controller\n            name=\"companyName\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ marginBottom: 5, width: \"100%\" }}\n                id=\"companyNameInput\"\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n          {errors.companyName && (\n            <span style={{ fontSize: 12, color: \"red\" }}>Company Name is required</span>\n          )}\n        </div>\n        <div className=\"p-d-flex\">\n          <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15, marginRight: 10 }}>\n            <label htmlFor=\"cacNumberInput\" style={{ marginBottom: 10 }}>\n              Cac Number\n            </label>\n            <Controller\n              name=\"cacNumber\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  id=\"cacNumberInput\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.cacNumber && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Cac Number is required</span>\n            )}\n          </div>\n          <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15, marginLeft: 10 }}>\n            <label htmlFor=\"tinNumberInput\" style={{ marginBottom: 10 }}>\n              Tin Number\n            </label>\n            <Controller\n              name=\"tinNumber\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  id=\"tinNumberInput\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.tinNumber && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Tin Number is required</span>\n            )}\n          </div>\n        </div>\n        <div className=\"p-d-flex\">\n          <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15, marginRight: 10 }}>\n            <label htmlFor=\"openingYearInput\" style={{ marginBottom: 10 }}>\n              Opening Year\n            </label>\n            <Controller\n              name=\"openingYear\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  id=\"openingYearInput\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.openingYear && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Opening Year is required</span>\n            )}\n          </div>\n          <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15, marginLeft: 10 }}>\n            <label htmlFor=\"closingYearInput\" style={{ marginBottom: 10 }}>\n              Closing Year\n            </label>\n            <Controller\n              name=\"closingYear\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  id=\"closingYearInput\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.closingYear && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Closing Year is required</span>\n            )}\n          </div>\n        </div>\n        <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15 }}>\n          <label htmlFor=\"companyDescriptionInput\" style={{ marginBottom: 10 }}>\n            Address\n          </label>\n          <Controller\n            name=\"companyDescription\"\n            control={control}\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={props => (\n              <InputText\n                style={{ marginBottom: 5, width: \"100%\" }}\n                id=\"companyDescriptionInput\"\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n              />\n            )}\n          />\n          {errors.companyDescription && (\n            <span style={{ fontSize: 12, color: \"red\" }}>Address is required</span>\n          )}\n        </div>\n        <Button\n          label={!loading ? \"Add Company\" : null}\n          icon={loading ? \"pi pi-spin pi-spinner\" : null}\n          type=\"submit\"\n          style={{ width: \"100%\", marginTop: 10 }}\n        />\n      </form>\n    </Dialog>\n  );\n};\n\nexport default AddCompanyForm;\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport utils from \"../../utils\";\nimport { uploadTrialBalance } from \"../../apis/TrialBalance\";\nimport constants from \"../../constants\";\n\nconst FileUploader = ({ company: { companyId }, toast, setRefreshTrialBalanceTable }) => {\n  const [file, setFile] = React.useState();\n  const [year, setYear] = React.useState();\n  const [yearSelectItems] = React.useState(utils.getYears());\n  const [loading, setLoading] = React.useState(false);\n\n  const onUpload = async () => {\n    if (loading) return;\n\n    if (!file && !year) {\n      toast.show(\n        utils.toastCallback({ severity: \"error\", detail: \"Add TB File and Select TB Year\" })\n      );\n      return;\n    } else if (!file) {\n      toast.show(utils.toastCallback({ severity: \"error\", detail: \"Add TB File\" }));\n      return;\n    } else if (!year) {\n      toast.show(utils.toastCallback({ severity: \"error\", detail: \"Select TB Year\" }));\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const response = await uploadTrialBalance({ file, companyId, year });\n      if (response.status === 200) {\n        setYear(null);\n        setFile(null);\n        setRefreshTrialBalanceTable(true);\n        toast.show(utils.toastCallback({ severity: \"success\", detail: response.data }));\n      }\n    } catch (error) {\n      if (error.response) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: \"An error occurred, kindly contact your admin\"\n          })\n        );\n      } else {\n        // network errors\n        toast.show(\n          utils.toastCallback({\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Card\n      header={\n        <div className=\"p-d-flex p-jc-center p-flex-column\" style={{ width: \"100%\" }}>\n          <div className=\"p-d-flex p-ai-center p-jc-between\" style={{ padding: \"0px 20px\" }}>\n            <p style={{ fontSize: 18, fontWeight: 600 }}>Upload File</p>\n            <div>\n              <Dropdown\n                style={{ marginRight: 20, width: 110 }}\n                value={year}\n                options={yearSelectItems}\n                onChange={e => {\n                  setYear(e.value);\n                }}\n                placeholder=\"TB Year\"\n              />\n              <Button\n                style={{ width: 110 }}\n                label={!loading ? \"Upload\" : null}\n                icon={loading ? \"pi pi-spin pi-spinner\" : \"pi pi-upload\"}\n                onClick={onUpload}\n              />\n            </div>\n          </div>\n          <div className=\"divider\"></div>\n        </div>\n      }\n      style={{ width: \"100%\", marginBottom: 20 }}>\n      <div className=\"p-d-flex\">\n        <div\n          className=\"p-d-flex p-ai-center p-jc-center\"\n          style={{ background: \"#f5f6f8\", width: \"100%\", height: 100, position: \"relative\" }}>\n          <p className=\"accent-color\" style={{ fontSize: 20 }}>\n            {file && file.item(0).name\n              ? `\"${file.item(0).name}\" ready for upload`\n              : \"Click or Drag and drop Trial Balance file here to upload.\"}\n          </p>\n          <input\n            type=\"file\"\n            accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\n            style={{\n              position: \"absolute\",\n              width: \"100%\",\n              height: \"100%\",\n              opacity: 0\n            }}\n            onChange={e => setFile(e.target.files)}\n          />\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default FileUploader;\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { Card } from \"primereact/card\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport utils from \"../../utils\";\nimport { getTrialBalance } from \"../../apis/TrialBalance\";\n\nconst TrialBalanceTable = ({\n  company: { companyId },\n  refreshTrialBalanceTable,\n  setRefreshTrialBalanceTable\n}) => {\n  const isMounted = React.useRef(false);\n  const [year, setYear] = React.useState(utils.currentYear());\n  const [yearSelectItems] = React.useState(utils.getYears());\n  const [tbData, setTbData] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    isMounted.current = true;\n    const fetchTrialBalance = async () => {\n      setLoading(true);\n      try {\n        const data = await getTrialBalance({ companyId, year });\n        if (isMounted.current) {\n          setTbData(\n            data\n              ? data.map(d => {\n                  if (d.accountId === \"\" && d.item === \"\" && d.debit === 0 && d.credit === 0) {\n                    return { ...d, debit: \"\", credit: \"\" };\n                  } else {\n                    return {\n                      ...d,\n                      debitAmt: utils.currencyFormatter(d.debit),\n                      creditAmt: utils.currencyFormatter(d.credit)\n                    };\n                  }\n                })\n              : []\n          );\n        }\n      } catch (error) {\n        console.log(error);\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    if (refreshTrialBalanceTable) {\n      fetchTrialBalance();\n      if (isMounted.current) setRefreshTrialBalanceTable(false);\n    }\n\n    return () => (isMounted.current = false);\n  }, [companyId, year, refreshTrialBalanceTable, setRefreshTrialBalanceTable]);\n\n  return (\n    <Card style={{ width: \"100%\" }}>\n      <DataTable\n        className=\"p-datatable-gridlines\"\n        value={tbData}\n        paginator={!loading && tbData.length !== 0}\n        rows={10}\n        rowsPerPageOptions={[10, 20, 50, 100]}\n        header={\n          <div className=\"p-d-flex p-ai-center p-jc-between\">\n            <p style={{ fontSize: 18, fontWeight: 600 }}>Trial Balance</p>\n            <Dropdown\n              style={{ width: 110 }}\n              value={year}\n              options={yearSelectItems}\n              onChange={e => {\n                setYear(e.value);\n                setRefreshTrialBalanceTable(true);\n              }}\n              placeholder=\"TB Year\"\n            />\n          </div>\n        }\n        footer={\n          loading || tbData.length === 0 ? (\n            <>\n              <div className=\"p-d-flex p-ai-center p-jc-center\">\n                {loading && <i className=\"pi pi-spin pi-spinner\" style={{ fontSize: \"2em\" }}></i>}\n                {!loading && tbData.length === 0 && <p>No Trial Balance data for selected year</p>}\n              </div>\n            </>\n          ) : null\n        }>\n        <Column field=\"accountId\" header=\"Account ID\"></Column>\n        <Column field=\"item\" header=\"Account Description\"></Column>\n        <Column field=\"debitAmt\" header=\"Debit Amt\"></Column>\n        <Column field=\"creditAmt\" header=\"Credit Amt\"></Column>\n      </DataTable>\n    </Card>\n  );\n};\n\nexport default TrialBalanceTable;\n","import React from \"react\";\nimport { Dialog } from \"primereact/dialog\";\nimport { Button } from \"primereact/button\";\nimport { Dropdown } from \"primereact/dropdown\";\n\nconst CompanyPicker = ({\n  setShowAddCompany,\n  showCompanyPicker,\n  setShowCompanyPicker,\n  company,\n  onSelectCompany,\n  companySelectItems,\n  setRefreshTrialBalanceTable\n}) => {\n  React.useEffect(() => setRefreshTrialBalanceTable(true), [setRefreshTrialBalanceTable]);\n\n  return (\n    <Dialog\n      header=\"Company\"\n      footer={\n        <div>\n          <Button\n            label=\"Add Company\"\n            onClick={() => {\n              setShowAddCompany(true);\n              setShowCompanyPicker(false);\n            }}\n            className=\"p-button-outlined\"\n          />\n          <Button\n            label=\"Proceed\"\n            disabled={!company.companyId}\n            onClick={() => company.companyId && setShowCompanyPicker(false)}\n          />\n        </div>\n      }\n      visible={showCompanyPicker}\n      style={{ width: 500 }}\n      blockScroll\n      focusOnShow={false}\n      closeOnEscape={false}\n      closable={false}\n      onHide={() => /* TODO: Fix here later */ setShowCompanyPicker(false)}>\n      <div className=\"p-d-flex p-flex-column\" style={{ height: 300 }}>\n        <label htmlFor=\"companyNameInput\" style={{ margin: \"0px 0px 10px 0px\" }}></label>\n        <Dropdown\n          value={company}\n          options={companySelectItems}\n          optionLabel=\"name\"\n          autoFocus\n          filter\n          filterBy=\"name\"\n          onChange={e => {\n            onSelectCompany(e.value);\n            sessionStorage.setItem(\"cid\", e.value.companyId);\n          }}\n          placeholder=\"Select a Company\"\n        />\n        {companySelectItems && companySelectItems.length === 0 && (\n          <div className=\"p-d-flex p-ai-center\" style={{ fontSize: 14, marginTop: 15 }}>\n            <i\n              className=\"pi pi-exclamation-triangle\"\n              style={{ marginRight: 10, color: \"#FBC02D\", fontSize: 20 }}></i>\n            <span>There are currently no companies, click add company button.</span>\n          </div>\n        )}\n      </div>\n    </Dialog>\n  );\n};\n\nexport default CompanyPicker;\n","import React from \"react\";\nimport AddCompanyForm from \"../components/dashboard/AddCompanyForm\";\nimport FileUploader from \"../components/dashboard/FileUploader\";\nimport Layout from \"../components/layout/index\";\nimport TrialBalanceTable from \"../components/dashboard/TrialBalanceTable\";\nimport CompanyPicker from \"../components/dashboard/CompanyPicker\";\nimport { useResource } from \"react-resource-router\";\nimport { companiesResource } from \"../routes/resources\";\nimport PageLoader from \"../components/common/PageLoader\";\nimport constants from \"../constants\";\nimport Error from \"../components/common/Error\";\nimport { useCompany } from \"../store/CompanyStore\";\nimport { Toast } from \"primereact/toast\";\nimport { useResources } from \"../store/ResourcesStore\";\n\nconst Dashboard = () => {\n  const title = constants.modules.dashboard;\n  const toast = React.useRef();\n  const { data: companies, error, refresh } = useResource(companiesResource);\n  const [showCompanyPicker, setShowCompanyPicker] = React.useState(true);\n  const [showAddCompany, setShowAddCompany] = React.useState(false);\n  const [companySelectItems, setCompanySelectItems] = React.useState(null);\n  const [refreshTrialBalanceTable, setRefreshTrialBalanceTable] = React.useState(true);\n  const [company, { onSelectCompany }] = useCompany();\n  const [resources, { onCompanies }] = useResources();\n\n  React.useEffect(() => {\n    if (!showAddCompany) {\n      setShowCompanyPicker(true);\n    }\n  }, [showAddCompany]);\n\n  React.useEffect(() => {\n    if (companies) onCompanies(companies);\n  }, [companies, onCompanies]);\n\n  React.useEffect(() => {\n    if (resources.companies) {\n      setCompanySelectItems(\n        resources.companies.map(\n          ({ id: companyId, companyName, companyDescription, cacNumber, tinNumber, isActive }) =>\n            isActive && {\n              name: companyName,\n              value: { companyId, companyName, companyDescription, cacNumber, tinNumber }\n            }\n        )\n      );\n    }\n  }, [resources.companies]);\n\n  if (error) return <Error title={title} error={error} refresh={refresh} />;\n\n  if (!resources.companies) return <PageLoader title={title} />;\n\n  return (\n    <Layout title={title}>\n      <FileUploader\n        company={company}\n        toast={toast.current}\n        setRefreshTrialBalanceTable={setRefreshTrialBalanceTable}\n      />\n      {company.companyId && (\n        <TrialBalanceTable\n          company={company}\n          refreshTrialBalanceTable={refreshTrialBalanceTable}\n          setRefreshTrialBalanceTable={setRefreshTrialBalanceTable}\n        />\n      )}\n      <AddCompanyForm\n        showAddCompany={showAddCompany}\n        setShowAddCompany={setShowAddCompany}\n        toast={toast.current}\n        refresh={refresh}\n      />\n      {company.companyId === null && (\n        <CompanyPicker\n          setShowAddCompany={setShowAddCompany}\n          showCompanyPicker={showCompanyPicker}\n          setShowCompanyPicker={setShowCompanyPicker}\n          company={company}\n          onSelectCompany={onSelectCompany}\n          companySelectItems={companySelectItems}\n          setRefreshTrialBalanceTable={setRefreshTrialBalanceTable}\n        />\n      )}\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\n    </Layout>\n  );\n};\n\nexport default Dashboard;\n","import React from \"react\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { Button } from \"primereact/button\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\n\nconst MappingMode = ({ year, setYear, yearSelectItems }) => {\n  const [item, setItem] = React.useState();\n  const [selectedAccounts, setSelectedAccounts] = React.useState();\n  const [allAccount] = React.useState([\n    {\n      accountDescription: \"Petty Cash\",\n      debitAmount: \"52,154.07\",\n      creditAmount: \"0.00\"\n    },\n    {\n      accountDescription: \"Inventory\",\n      debitAmount: \"20,000.00\",\n      creditAmount: \"0.00\"\n    },\n    {\n      accountDescription: \"Plant & Machinery\",\n      debitAmount: \"3,966,900.64\",\n      creditAmount: \"0.00\"\n    },\n    {\n      accountDescription: \"Furniture & Fittings\",\n      debitAmount: \"12,252,961.97\",\n      creditAmount: \"0.00\"\n    },\n    {\n      accountDescription: \"Branch Cash Movement\",\n      debitAmount: \"0.00\",\n      creditAmount: \"349.03\"\n    }\n  ]);\n  const itemSelectItems = [\n    { label: \"Revenue\", value: \"Revenue\" },\n    { label: \"Other Income\", value: \"Other Income\" }\n  ];\n\n  return (\n    <>\n      <form className=\"p-d-flex p-jc-between\">\n        <Dropdown\n          style={{ width: 250 }}\n          value={item}\n          options={itemSelectItems}\n          onChange={e => {\n            setItem(e.value);\n          }}\n          placeholder=\"Select an Item\"\n        />\n        <Dropdown\n          style={{ width: 250 }}\n          value={year}\n          options={yearSelectItems}\n          onChange={e => {\n            setYear(e.value);\n          }}\n          placeholder=\"Select Year\"\n        />\n        <Button type=\"submit\" label=\"Submit\" style={{ width: 250 }} />\n      </form>\n      <DataTable\n        className=\"p-datatable-gridlines\"\n        value={allAccount}\n        selection={selectedAccounts}\n        onSelectionChange={e => {\n          setSelectedAccounts(e.value);\n        }}\n        style={{ marginTop: 50 }}>\n        <Column selectionMode=\"multiple\" style={{ width: \"3em\" }} />\n        <Column field=\"accountDescription\" header=\"Account Description\"></Column>\n        <Column field=\"debitAmount\" header=\"Debit Amount\"></Column>\n        <Column field=\"creditAmount\" header=\"Credit Amount\"></Column>\n        <Column field=\"mappedCode\" header=\"Mapped To\"></Column>\n      </DataTable>\n    </>\n  );\n};\n\nexport default MappingMode;\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\n\nconst DeferredTaxView = () => {\n  const [deferredTaxData] = React.useState([\n    {\n      category: \"Net Book Value of Fixed Assets as at 31.12.19\",\n      debit: \"\",\n      credit: \"10,633,000.00\"\n    },\n    {\n      category: \"Less:\",\n      debit: \"\",\n      credit: \"\"\n    },\n    {\n      category: \"Tax Written Down Value as at 31.12.19\",\n      debit: \"(2,932,845,440.00)\",\n      credit: \"\"\n    },\n    {\n      category: \"Unabsorbed Capital Allowance\",\n      debit: \"(561,061,694.00)\",\n      credit: \"\"\n    },\n    {\n      category: \"Impairment on Receivables\",\n      debit: \"44,723,000.00\",\n      credit: \"(3,449,184,134.00)\"\n    }\n  ]);\n\n  return (\n    <DataTable className=\"p-datatable-gridlines\" value={deferredTaxData} style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      <Column field=\"debit\" header=\"\"></Column>\n      <Column field=\"credit\" header=\"\"></Column>\n    </DataTable>\n  );\n};\n\nexport default DeferredTaxView;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport MappingMode from \"../components/common/MappingMode\";\nimport DeferredTaxView from \"../components/deferred_tax/DeferredTaxView\";\nimport constants from \"../constants\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport Main from \"../components/layout/Main\";\nimport utils from \"../utils\";\nimport { usePathParam } from \"react-resource-router\";\n\nconst DeferredTax = () => {\n  const title = constants.modules.deferredTax;\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        {\n          {\n            mapping: (\n              <MappingMode year={year} setYear={setYear} yearSelectItems={yearSelectItems} />\n            ),\n            view: (\n              <ViewMode title={title} year={year}>\n                <DeferredTaxView />\n              </ViewMode>\n            )\n          }[mode]\n        }\n      </Main>\n    </Layout>\n  );\n};\n\nexport default DeferredTax;\n","import axios from \"axios\";\n\nexport const fixedAssetMapping = async ({\n  companyId,\n  yearId,\n  mappedCode,\n  assetId,\n  triBalanceId,\n  isCost,\n  openingCost,\n  transferCost,\n  transferDepreciation,\n  isTransferCostRemoved,\n  isTransferDepreciationRemoved,\n  costAddition,\n  costDisposal,\n  openingDepreciation,\n  depreciationAddition,\n  depreciationDisposal\n}) => {\n  try {\n    return await axios.post(\"/api/FixedAsset\", {\n      companyId,\n      yearId,\n      mappedCode,\n      assetId,\n      triBalanceId,\n      isCost,\n      openingCost,\n      transferCost,\n      transferDepreciation,\n      isTransferCostRemoved,\n      isTransferDepreciationRemoved,\n      costAddition,\n      costDisposal,\n      openingDepreciation,\n      depreciationAddition,\n      depreciationDisposal\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const fixedAssetViewData = async ({ companyId, year }) => {\n  try {\n    const { data } = await axios.get(`/api/FixedAsset/${companyId}/${year}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const fixedAssetUnmapping = async ({ id }) => {\n  try {\n    return await axios.put(`/api/FixedAsset/fixed-asset/${id}`);\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { Button } from \"primereact/button\";\nimport { fixedAssetUnmapping } from \"../../apis/FixedAsset\";\nimport constants from \"../../constants\";\nimport utils from \"../../utils\";\nimport { Checkbox } from \"primereact/checkbox\";\n\nconst TrialBalanceMappingTable = ({\n  title,\n  tbData,\n  selectedAccounts,\n  setSelectedAccounts,\n  trialBalanceRefresh,\n  toast\n}) => {\n  const [debitRowChecks, setDebitRowChecks] = React.useState([]);\n  const [creditRowChecks, setCreditRowChecks] = React.useState([]);\n\n  return (\n    <DataTable\n      className=\"p-datatable-gridlines\"\n      value={tbData}\n      paginator={tbData.length !== 0}\n      rows={10}\n      rowsPerPageOptions={[10, 20, 50, 100]}\n      selection={selectedAccounts}\n      onSelectionChange={e => {\n        if (e.value.length > 0) {\n          !tbData.find(d => d.id === e.value[e.value.length - 1].id).mappedTo\n            ? setSelectedAccounts(e.value)\n            : toast.show(\n                utils.toastCallback({\n                  severity: \"error\",\n                  detail: \"This item has been mapped\"\n                })\n              );\n        } else {\n          setSelectedAccounts(e.value);\n        }\n      }}\n      style={{ marginTop: 50 }}\n      footer={\n        tbData.length === 0 && (\n          <>\n            <div className=\"p-d-flex p-ai-center p-jc-center\">\n              <p>No Trial Balance data, upload a Trial Balance file</p>\n            </div>\n          </>\n        )\n      }>\n      {title === constants.modules.profit_loss && (\n        <Column\n          field=\"isDebitChecked\"\n          header=\"Debit\"\n          style={{ width: \"5em\", textAlign: \"center\" }}\n          body={rowData => {\n            return (\n              <Checkbox\n                onChange={e => {\n                  setDebitRowChecks(state => {\n                    if (e.checked) return state.concat([rowData.id]);\n                    else return state.filter(id => id !== rowData.id);\n                  });\n                  if (rowData.mappedTo) {\n                    toast.show(\n                      utils.toastCallback({\n                        severity: \"error\",\n                        detail: \"This item has been mapped\"\n                      })\n                    );\n                  } else {\n                    if (e.checked) {\n                      let selectedAccountIndex;\n                      const selectedAccount = selectedAccounts.find((selectedAccount, index) => {\n                        selectedAccountIndex = index;\n                        return selectedAccount.trialBalanceId === rowData.id;\n                      });\n                      if (selectedAccount) {\n                        setSelectedAccounts(state => {\n                          state[selectedAccountIndex] = {\n                            ...state[selectedAccountIndex],\n                            trialBalanceId: rowData.id,\n                            isDebit: true,\n                            isCredit: true,\n                            isBoth: true\n                          };\n                          return state;\n                        });\n                      } else {\n                        setSelectedAccounts([\n                          ...selectedAccounts,\n                          {\n                            trialBalanceId: rowData.id,\n                            isDebit: true,\n                            isCredit: false,\n                            isBoth: false\n                          }\n                        ]);\n                      }\n                    } else {\n                      let selectedAccountIndex;\n                      const selectedAccount = selectedAccounts.find((selectedAccount, index) => {\n                        selectedAccountIndex = index;\n                        return selectedAccount.trialBalanceId === rowData.id;\n                      });\n                      if (selectedAccount?.isCredit) {\n                        setSelectedAccounts(state => {\n                          state[selectedAccountIndex] = {\n                            ...state[selectedAccountIndex],\n                            trialBalanceId: rowData.id,\n                            isDebit: false,\n                            isCredit: true,\n                            isBoth: false\n                          };\n                          return state;\n                        });\n                      } else {\n                        setSelectedAccounts(\n                          selectedAccounts.filter(\n                            selectedAccount => selectedAccount.trialBalanceId !== rowData.id\n                          )\n                        );\n                      }\n                    }\n                  }\n                }}\n                checked={debitRowChecks.includes(rowData.id)}></Checkbox>\n            );\n          }}\n        />\n      )}\n      {title === constants.modules.profit_loss && (\n        <Column\n          field=\"isCreditChecked\"\n          header=\"Credit\"\n          style={{ width: \"5em\", textAlign: \"center\" }}\n          body={rowData => {\n            return (\n              <Checkbox\n                onChange={e => {\n                  setCreditRowChecks(state => {\n                    if (e.checked) return state.concat([rowData.id]);\n                    else return state.filter(id => id !== rowData.id);\n                  });\n                  if (rowData.mappedTo) {\n                    toast.show(\n                      utils.toastCallback({\n                        severity: \"error\",\n                        detail: \"This item has been mapped\"\n                      })\n                    );\n                  } else {\n                    if (e.checked) {\n                      let selectedAccountIndex;\n                      const selectedAccount = selectedAccounts.find((selectedAccount, index) => {\n                        selectedAccountIndex = index;\n                        return selectedAccount.trialBalanceId === rowData.id;\n                      });\n                      if (selectedAccount) {\n                        setSelectedAccounts(state => {\n                          state[selectedAccountIndex] = {\n                            ...state[selectedAccountIndex],\n                            trialBalanceId: rowData.id,\n                            isDebit: true,\n                            isCredit: true,\n                            isBoth: true\n                          };\n                          return state;\n                        });\n                      } else {\n                        setSelectedAccounts([\n                          ...selectedAccounts,\n                          {\n                            trialBalanceId: rowData.id,\n                            isDebit: false,\n                            isCredit: true,\n                            isBoth: false\n                          }\n                        ]);\n                      }\n                    } else {\n                      let selectedAccountIndex;\n                      const selectedAccount = selectedAccounts.find((selectedAccount, index) => {\n                        selectedAccountIndex = index;\n                        return selectedAccount.trialBalanceId === rowData.id;\n                      });\n                      if (selectedAccount?.isDebit) {\n                        setSelectedAccounts(state => {\n                          state[selectedAccountIndex] = {\n                            ...state[selectedAccountIndex],\n                            trialBalanceId: rowData.id,\n                            isDebit: true,\n                            isCredit: false,\n                            isBoth: false\n                          };\n                          return state;\n                        });\n                      } else {\n                        setSelectedAccounts(\n                          selectedAccounts.filter(\n                            selectedAccount => selectedAccount.trialBalanceId !== rowData.id\n                          )\n                        );\n                      }\n                    }\n                  }\n                }}\n                checked={creditRowChecks.includes(rowData.id)}></Checkbox>\n            );\n          }}\n        />\n      )}\n      {title !== constants.modules.profit_loss && (\n        <Column selectionMode=\"multiple\" style={{ width: \"3.5em\", textAlign: \"center\" }} />\n      )}\n      <Column field=\"accountId\" header=\"Account ID\"></Column>\n      <Column field=\"item\" header=\"Account Description\"></Column>\n      <Column field=\"debitAmt\" header=\"Debit Amt\"></Column>\n      <Column field=\"creditAmt\" header=\"Credit Amt\"></Column>\n      {tbData && tbData.some(d => d.mappedTo) && (\n        <Column field=\"mappedTo\" header=\"Mapped To\"></Column>\n      )}\n      {tbData && tbData.some(d => d.mappedTo) && (\n        <Column\n          field=\"unmap\"\n          header=\"Unmap\"\n          body={rowData =>\n            rowData.mappedTo && (\n              <Button\n                className=\"p-button-danger p-button-text\"\n                label=\"Unmap\"\n                onClick={async () => {\n                  try {\n                    const response = await fixedAssetUnmapping({ id: rowData.id });\n                    if (response.status === 200) {\n                      trialBalanceRefresh();\n                      toast.show(\n                        utils.toastCallback({\n                          severity: \"success\",\n                          detail: response.data\n                        })\n                      );\n                    }\n                  } catch (error) {\n                    if (error.message === \"Network Error\") {\n                      return toast.show(\n                        utils.toastCallback({\n                          severity: \"success\",\n                          detail: constants.networkErrorMessage\n                        })\n                      );\n                    }\n                    trialBalanceRefresh();\n                  }\n                }}\n              />\n            )\n          }></Column>\n      )}\n    </DataTable>\n  );\n};\n\nexport default TrialBalanceMappingTable;\n","import React from \"react\";\nimport { Dropdown } from \"primereact/dropdown\";\n\nconst DropdownController = ({\n  Controller,\n  control,\n  errors,\n  controllerName,\n  label,\n  width,\n  required,\n  otherRules,\n  dropdownOptions,\n  placeholder,\n  onChangeCallback,\n  errorMessage = \"\",\n  defaultValue = \"\"\n}) => {\n  return (\n    <div className=\"p-d-flex p-flex-column\">\n      {label && <p style={{ marginBottom: 5, marginTop: 0 }}>{label}</p>}\n      <Controller\n        name={controllerName}\n        control={control}\n        rules={{ required, ...otherRules }}\n        defaultValue={defaultValue}\n        render={props => (\n          <Dropdown\n            style={{ marginBottom: 5, width: width || 200 }}\n            value={props.value}\n            options={dropdownOptions}\n            placeholder={placeholder}\n            onChange={e => {\n              props.onChange(e.target.value);\n              if (onChangeCallback) onChangeCallback(e.target.value);\n            }}\n          />\n        )}\n      />\n      {errors[controllerName] && <span style={{ fontSize: 12, color: \"red\" }}>{errorMessage}</span>}\n    </div>\n  );\n};\n\nexport default DropdownController;\n","import React from \"react\";\nimport { InputText } from \"primereact/inputtext\";\n\nconst InputController = ({\n  Controller,\n  control,\n  errors,\n  controllerName,\n  label,\n  width,\n  required,\n  disabled,\n  otherRules,\n  placeholder,\n  value,\n  onChangeCallback,\n  errorMessage = \"\",\n  defaultValue = \"\"\n}) => {\n  return (\n    <div className=\"p-d-flex p-flex-column\">\n      {label && <p style={{ marginBottom: 5, marginTop: 0 }}>{label}</p>}\n      <Controller\n        name={controllerName}\n        control={control}\n        rules={{ required, ...otherRules }}\n        defaultValue={defaultValue}\n        render={props => (\n          <InputText\n            disabled={disabled}\n            style={{ marginBottom: 5, width: width || 200 }}\n            value={value || props.value}\n            placeholder={placeholder}\n            onChange={e => {\n              props.onChange(e.target.value);\n              if (onChangeCallback) onChangeCallback(e.target.value);\n            }}\n          />\n        )}\n      />\n      {errors[controllerName] && <span style={{ fontSize: 12, color: \"red\" }}>{errorMessage}</span>}\n    </div>\n  );\n};\n\nexport default InputController;\n","import React from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Checkbox } from \"primereact/checkbox\";\nimport utils from \"../../utils\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport constants from \"../../constants\";\nimport { fixedAssetMapping } from \"../../apis/FixedAsset\";\nimport TrialBalanceMappingTable from \"../common/TrialBalanceMappingTable\";\nimport DropdownController from \"../controllers/DropdownController\";\nimport InputController from \"../controllers/InputController\";\n\nconst FixedAssetMapping = ({\n  year,\n  setYear,\n  yearSelectItems,\n  assetClassSelectItems,\n  tbData,\n  trialBalanceRefresh,\n  toast\n}) => {\n  const cost = \"cost\";\n  const depreciation = \"depreciation\";\n  const { errors, handleSubmit, control } = useForm();\n  const [{ companyId }] = useCompany();\n  const [closingBalance, setClosingBalance] = React.useState();\n  const [loading, setLoading] = React.useState(false);\n  const [closingBalanceAmt, setClosingBalanceAmt] = React.useState(utils.currencyFormatter(0));\n  const [selectedAccounts, setSelectedAccounts] = React.useState([]);\n  const [selectedAssetType, setSelectedAssetType] = React.useState();\n  const [transferChecked, setTransferChecked] = React.useState();\n  const typeSelectItems = [\n    { label: \"Cost\", value: cost },\n    { label: \"Depreciation\", value: depreciation }\n  ];\n\n  React.useEffect(() => {\n    trialBalanceRefresh();\n  }, [trialBalanceRefresh]);\n\n  React.useEffect(() => {\n    if (selectedAccounts) {\n      const value = selectedAccounts.reduce(\n        (accumulator, current) => accumulator + current.debit,\n        0\n      );\n      setClosingBalance(value);\n      setClosingBalanceAmt(utils.currencyFormatter(value));\n    }\n  }, [selectedAccounts]);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    const { assetClass, assetType, year, openingBalance, addition, disposal, transfer } = data;\n\n    if (selectedAccounts.length === 0) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: \"Select at least one account from the trial balance table\"\n        })\n      );\n      return;\n    }\n\n    if (isNaN(openingBalance)) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: \"Opening balance is not a number\"\n        })\n      );\n      return;\n    } else if (isNaN(addition)) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: `${assetType === cost ? \"Addition\" : \"Charge per year\"} value is not a number`\n        })\n      );\n      return;\n    } else if (isNaN(disposal)) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: \"Disposal value is not a number\"\n        })\n      );\n      return;\n    } else if (isNaN(transfer)) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: \"Transfer value is not a number\"\n        })\n      );\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const response = await fixedAssetMapping({\n        companyId,\n        yearId: year,\n        mappedCode: \"fixedasset\",\n        assetId: assetClass,\n        triBalanceId: selectedAccounts.map(account => account.id),\n        isCost: assetType === cost ? true : false,\n        openingCost: assetType === cost ? Number(openingBalance) : 0,\n        transferCost: assetType === cost ? Number(transfer) : 0,\n        transferDepreciation: assetType !== cost ? Number(transfer) : 0,\n        isTransferCostRemoved: assetType === cost ? transferChecked : false,\n        isTransferDepreciationRemoved: assetType !== cost ? transferChecked : false,\n        costAddition: assetType === cost ? Number(addition) : 0,\n        costDisposal: assetType === cost ? Number(disposal) : 0,\n        costClosing: assetType === cost ? Number(closingBalance) : 0,\n        openingDepreciation: assetType !== cost ? Number(openingBalance) : 0,\n        depreciationAddition: assetType !== cost ? Number(addition) : 0,\n        depreciationDisposal: assetType !== cost ? Number(disposal) : 0,\n        depreciationClosing: assetType !== cost ? Number(closingBalance) : 0\n      });\n      if (response.status === 200) {\n        toast.show(\n          utils.toastCallback({ severity: \"success\", detail: \"Fixed asset mapped successfully\" })\n        );\n      }\n    } catch (error) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          summary: \"Network Error\",\n          detail: constants.networkErrorMessage\n        })\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <form className=\"p-d-flex p-flex-column p-jc-between\" onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"p-d-flex p-ai-start p-jc-between\" style={{ marginBottom: 20 }}>\n          <DropdownController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"assetClass\"\n            label=\"Fixed Asset Class\"\n            required\n            dropdownOptions={assetClassSelectItems}\n            errorMessage=\"Fixed Asset Class is required\"\n          />\n          <DropdownController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"assetType\"\n            label=\"Cost / Depreciation\"\n            required\n            dropdownOptions={typeSelectItems}\n            onChangeCallback={setSelectedAssetType}\n            errorMessage=\"Fixed Asset Type is required\"\n          />\n          <DropdownController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"year\"\n            label=\"Year\"\n            required\n            dropdownOptions={yearSelectItems}\n            onChangeCallback={setYear}\n            errorMessage=\"Year is required\"\n            defaultValue={year}\n          />\n          <InputController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"closingBalance\"\n            label=\"Closing Balance\"\n            disabled\n            placeholder=\"Closing Balance\"\n            defaultValue={closingBalanceAmt}\n          />\n        </div>\n        <div className=\"p-d-flex p-ai-start p-jc-between\">\n          <InputController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"openingBalance\"\n            label=\"Opening Balance\"\n            required\n            errorMessage=\"Opening Balance is required\"\n          />\n          <InputController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"addition\"\n            label={selectedAssetType === \"depreciation\" ? \"Charge per year\" : \"Addition\"}\n            required\n            errorMessage=\"Addition is required\"\n          />\n          <InputController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"disposal\"\n            label=\"Disposal\"\n            required\n            errorMessage=\"Disposal is required\"\n          />\n          <InputController\n            Controller={Controller}\n            control={control}\n            errors={errors}\n            controllerName=\"transfer\"\n            label=\"Transfer\"\n            required\n            errorMessage=\"Transfer is required\"\n          />\n        </div>\n        <div className=\"p-d-flex p-flex-column\" style={{ marginTop: 20 }}>\n          <div className=\"p-field-checkbox\">\n            <Checkbox\n              inputId=\"transferOut\"\n              checked={transferChecked}\n              onChange={e => setTransferChecked(e.checked)}\n            />\n            <label htmlFor=\"transferOut\">Transfer Out</label>\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Submit\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: 200 }}\n          />\n        </div>\n      </form>\n      <TrialBalanceMappingTable\n        tbData={tbData}\n        trialBalanceRefresh={trialBalanceRefresh}\n        toast={toast}\n        selectedAccounts={selectedAccounts}\n        setSelectedAccounts={setSelectedAccounts}\n      />\n    </>\n  );\n};\n\nexport default FixedAssetMapping;\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { fixedAssetViewData } from \"../../apis/FixedAsset\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport utils from \"../../utils\";\nimport Loader from \"../common/Loader\";\n\nconst FixedAssetView = ({ year }) => {\n  const isMounted = React.useRef(false);\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState();\n  const [error, setError] = React.useState();\n  const [fixedAssetApiData, setFixedAssetApiData] = React.useState();\n  const [fixedAssetData, setFixedAssetData] = React.useState([\n    {\n      category: <strong>Cost</strong>\n    },\n    {\n      category: \"Opening Balance\",\n      key: \"openingCost\"\n    },\n    {\n      category: \"Additions\",\n      key: \"costAddition\"\n    },\n    {\n      category: \"Disposal\",\n      key: \"costDisposal\"\n    },\n    {\n      category: \"Transfer\",\n      key: \"transferCost\"\n    },\n    {\n      category: <strong>As at 31/12/{year - 1}</strong>,\n      key: \"costClosing\"\n    },\n    {\n      category: null\n    },\n    {\n      category: <strong>Depreciation</strong>\n    },\n    {\n      category: \"Opening Balance\",\n      key: \"openingDepreciation\"\n    },\n    {\n      category: \"Charged for the year\",\n      key: \"depreciationAddition\"\n    },\n    {\n      category: \"Disposal\",\n      key: \"depreciationDisposal\"\n    },\n    {\n      category: \"Transfer\",\n      key: \"transferDepreciation\"\n    },\n    {\n      category: <strong>As at 31/12/{year - 1}</strong>,\n      key: \"depreciationClosing\"\n    },\n    {\n      category: null\n    },\n    {\n      category: <strong>Net Book Value</strong>\n    },\n    {\n      category: <strong>As at 31/12/{year - 1}</strong>,\n      key: \"netValue\"\n    }\n  ]);\n\n  React.useEffect(() => {\n    isMounted.current = true;\n    const fetchFixedAssetViewData = async () => {\n      try {\n        setError(null);\n        setLoading(true);\n        const data = await fixedAssetViewData({ companyId, year });\n        if (isMounted.current) {\n          setFixedAssetApiData(data.fixedAssetData);\n          setFixedAssetData(state => {\n            const newState = Array.from(state);\n            data.fixedAssetData.forEach((d, index) => {\n              newState.forEach(s => {\n                switch (s.key) {\n                  case \"openingCost\":\n                    s[d.fixedAssetName] = d.openingCost;\n                    s.total = data.total.openingCostTotal;\n                    break;\n                  case \"costAddition\":\n                    s[d.fixedAssetName] = d.costAddition;\n                    s.total = data.total.additionCostTotal;\n                    break;\n                  case \"costDisposal\":\n                    s[d.fixedAssetName] = d.costDisposal;\n                    s.total = data.total.disposalCostTotal;\n                    break;\n                  case \"transferCost\":\n                    s[d.fixedAssetName] = d.transferCost;\n                    s.total = data.total.transferCostTotal;\n                    break;\n                  case \"costClosing\":\n                    s[d.fixedAssetName] = <strong>{d.costClosing}</strong>;\n                    s.total = <strong>{data.total.closingCostTotal}</strong>;\n                    break;\n                  case \"openingDepreciation\":\n                    s[d.fixedAssetName] = d.openingDepreciation;\n                    s.total = data.total.openingDepreciationTotal;\n                    break;\n                  case \"depreciationAddition\":\n                    s[d.fixedAssetName] = d.depreciationAddition;\n                    s.total = data.total.additionDepreciationTotal;\n                    break;\n                  case \"depreciationDisposal\":\n                    s[d.fixedAssetName] = d.depreciationDisposal;\n                    s.total = data.total.disposalDepreciationTotal;\n                    break;\n                  case \"transferDepreciation\":\n                    s[d.fixedAssetName] = d.transferDepreciation;\n                    s.total = data.total.transferDepreciationTotal;\n                    break;\n                  case \"depreciationClosing\":\n                    s[d.fixedAssetName] = <strong>{d.depreciationClosing}</strong>;\n                    s.total = <strong>{data.total.closingDepreciationTotal}</strong>;\n                    break;\n                  case \"netValue\":\n                    s[d.fixedAssetName] = <strong>{data.netBookValue[index].value}</strong>;\n                    s.total = (\n                      <strong>\n                        {utils.currencyFormatter(\n                          data.netBookValue.reduce(\n                            (acc, cur) => acc + Number(cur.value.slice(1).replace(/,/g, \"\")),\n                            0\n                          )\n                        )}\n                      </strong>\n                    );\n                    break;\n                  default:\n                    break;\n                }\n              });\n            });\n            return newState;\n          });\n        }\n      } catch (error) {\n        if (isMounted.current) {\n          if (error.response) setError(error.response.data.errors[0]);\n          else setError(error.message);\n        }\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    fetchFixedAssetViewData();\n\n    return () => (isMounted.current = false);\n  }, [companyId, year]);\n\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\n\n  if (loading) return <Loader />;\n\n  return (\n    <DataTable className=\"p-datatable-gridlines\" value={fixedAssetData} style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      {fixedAssetApiData &&\n        fixedAssetApiData.map(d => (\n          <Column key={d.fixedAssetName} field={d.fixedAssetName} header={`${d.fixedAssetName}`} />\n        ))}\n      <Column field=\"total\" header=\"Total\"></Column>\n    </DataTable>\n  );\n};\n\nexport default FixedAssetView;\n","import React from \"react\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport Layout from \"../components/layout\";\nimport Main from \"../components/layout/Main\";\nimport constants from \"../constants\";\nimport utils from \"../utils\";\nimport { usePathParam, useResource } from \"react-resource-router\";\nimport FixedAssetMapping from \"../components/fixed_asset/FixedAssetMapping\";\nimport { fixedAssetModuleClassResource, trialBalanceResource } from \"../routes/resources\";\nimport PageLoader from \"../components/common/PageLoader\";\nimport Error from \"../components/common/Error\";\nimport { Toast } from \"primereact/toast\";\nimport { useResources } from \"../store/ResourcesStore\";\nimport FixedAssetView from \"../components/fixed_asset/FixedAssetView\";\n\nconst FixedAsset = () => {\n  const title = constants.modules.fixedAsset;\n  const toast = React.useRef();\n  const { data: assetClass, error: assetClassError, refresh: assetClassRefresh } = useResource(\n    fixedAssetModuleClassResource\n  );\n  const {\n    data: trialBalance,\n    error: trialBalanceError,\n    refresh: trialBalanceRefresh\n  } = useResource(trialBalanceResource);\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const [tbData, setTbData] = React.useState([]);\n  const [assetClassSelectItems, setAssetClassSelectItems] = React.useState([]);\n  const [resources, { onTrialBalance, onFixedAssetModuleItems }] = useResources();\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  React.useEffect(() => {\n    if (assetClass) onFixedAssetModuleItems(assetClass);\n  }, [assetClass, onFixedAssetModuleItems]);\n\n  React.useEffect(() => {\n    if (resources.fixedAssetModuleItems) {\n      setAssetClassSelectItems(\n        resources.fixedAssetModuleItems.map(({ id: assetClassId, name }) => ({\n          label: name,\n          value: assetClassId\n        }))\n      );\n    }\n  }, [resources.fixedAssetModuleItems]);\n\n  React.useEffect(() => {\n    if (trialBalance) onTrialBalance(trialBalance);\n  }, [onTrialBalance, trialBalance]);\n\n  React.useEffect(() => {\n    utils.onTbData(resources, setTbData);\n  }, [resources]);\n\n  if (assetClassError)\n    return <Error title={title} error={assetClassError} refresh={assetClassRefresh} />;\n\n  if (trialBalanceError)\n    return <Error title={title} error={trialBalanceError} refresh={trialBalanceRefresh} />;\n\n  if (!resources.fixedAssetModuleItems || !resources.trialBalance)\n    return <PageLoader title={title} />;\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        {\n          {\n            mapping: (\n              <FixedAssetMapping\n                year={year}\n                setYear={setYear}\n                yearSelectItems={yearSelectItems}\n                assetClassSelectItems={assetClassSelectItems}\n                tbData={tbData}\n                trialBalanceRefresh={trialBalanceRefresh}\n                toast={toast.current}\n              />\n            ),\n            view: (\n              <ViewMode title={title} year={year}>\n                <FixedAssetView year={year} />\n              </ViewMode>\n            )\n          }[mode]\n        }\n      </Main>\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\n    </Layout>\n  );\n};\n\nexport default FixedAsset;\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { Toast } from \"primereact/toast\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { forgotPassword } from \"../apis/Authentication\";\nimport constants from \"../constants\";\nimport { useAuth } from \"../store/AuthStore\";\nimport { Link, Redirect, useRouterActions } from \"react-resource-router\";\nimport utils from \"../utils\";\n\nconst ForgotPassword = () => {\n  const { errors, handleSubmit, control } = useForm();\n  const [{ isAuthenticated }] = useAuth();\n  const { push } = useRouterActions();\n  const [loading, setLoading] = React.useState(false);\n  const toast = React.useRef();\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    setLoading(true);\n    const { email } = data;\n    try {\n      const message = await forgotPassword({ email });\n      push({ pathname: constants.routes.reset_password, state: message });\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const {\n          data: { message }\n        } = error.response;\n        // display error as toast notification\n        toast.current.show(\n          utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: message })\n        );\n      } else {\n        // network errors\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  if (isAuthenticated) {\n    const path = sessionStorage.getItem(\"path\") || constants.routes.dashboard;\n    sessionStorage.removeItem(\"path\");\n    return <Redirect to={path} />;\n  }\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-ai-center\" style={{ height: \"100vh\" }}>\n      <Card\n        header={\n          <>\n            <h2 className=\"p-text-center accent-color\">Tax Computation</h2>\n            <div className=\"divider\"></div>\n          </>\n        }\n        style={{ width: 320 }}>\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"email\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  placeholder=\"Email\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.email && <span style={{ fontSize: 12, color: \"red\" }}>Email is required</span>}\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Forgot Password\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: \"100%\" }}\n          />\n        </form>\n        <Link href={constants.routes.login} className=\"auth-link\">\n          <p style={{ marginBottom: 0, marginTop: 20, fontSize: 14 }}>Back to login</p>\n        </Link>\n      </Card>\n      <Toast ref={el => (toast.current = el)} />\n    </div>\n  );\n};\n\nexport default ForgotPassword;\n","import React from \"react\";\nimport { Redirect } from \"react-resource-router\";\n\nconst Home = () => {\n  return <Redirect to=\"/login\" />;\n};\n\nexport default Home;\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\n\nconst IncomeTaxView = () => {\n  const [incomeTaxData] = React.useState([\n    {\n      category: \"Profit Before Tax\",\n      debit: \"\",\n      credit: \"448,255,000.00\"\n    },\n    {\n      category: <strong>Add:Disallowable Expenses</strong>,\n      debit: \"\",\n      credit: \"\"\n    },\n    {\n      category: \"Depreciation\",\n      debit: \"4,565,000.00\",\n      credit: \"\"\n    },\n    {\n      category: \"Foreign exchange loss\",\n      debit: \"923,000.00\",\n      credit: \"\"\n    },\n    {\n      category: \"Loss allowance on trade receivable\",\n      debit: \"44,723,000.00\",\n      credit: \"67,928,000.00\"\n    }\n  ]);\n\n  return (\n    <DataTable className=\"p-datatable-gridlines\" value={incomeTaxData} style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      <Column field=\"debit\" header=\"\"></Column>\n      <Column field=\"credit\" header=\"\"></Column>\n    </DataTable>\n  );\n};\n\nexport default IncomeTaxView;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport IncomeTaxView from \"../components/income_tax/IncomeTaxView\";\nimport MappingMode from \"../components/common/MappingMode\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport utils from \"../utils\";\nimport Main from \"../components/layout/Main\";\nimport { usePathParam } from \"react-resource-router\";\nimport constants from \"../constants\";\n\nconst IncomeTax = () => {\n  const title = constants.modules.incomeTax;\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        {\n          {\n            mapping: (\n              <MappingMode year={year} setYear={setYear} yearSelectItems={yearSelectItems} />\n            ),\n            view: (\n              <ViewMode title={title} year={year}>\n                <IncomeTaxView />\n              </ViewMode>\n            )\n          }[mode]\n        }\n      </Main>\n    </Layout>\n  );\n};\n\nexport default IncomeTax;\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\n\nconst InvestmentAllowanceView = () => {\n  const [investmentAllowanceData] = React.useState([\n    {\n      category: \"Computers & Office Equipment\",\n      credit: \"26,714,000.00\"\n    },\n    {\n      category: \"Investment Allowance @ 10%\",\n      credit: \"2,671,400.00\"\n    }\n  ]);\n\n  return (\n    <DataTable\n      className=\"p-datatable-gridlines\"\n      value={investmentAllowanceData}\n      style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"Additions to:\"></Column>\n      <Column field=\"credit\" header=\"\"></Column>\n    </DataTable>\n  );\n};\n\nexport default InvestmentAllowanceView;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport InvestmentAllowanceView from \"../components/investment_allowance/InvestmentAllowanceView\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport constants from \"../constants\";\nimport Main from \"../components/layout/Main\";\nimport utils from \"../utils\";\nimport { usePathParam } from \"react-resource-router\";\n\nconst InvestmentAllowance = () => {\n  const title = constants.modules.investmentAllowance;\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        <ViewMode title={title} year={year}>\n          <InvestmentAllowanceView />\n        </ViewMode>\n      </Main>\n    </Layout>\n  );\n};\n\nexport default InvestmentAllowance;\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\n\nconst ITLevyView = () => {\n  const [itLevyData] = React.useState([\n    {\n      category: \"Profit Before Taxation\",\n      credit: \"502,563,000.00\"\n    },\n    {\n      category: \"I.T. Levy @ 1% Thereon\",\n      credit: \"5,025,630.00\"\n    }\n  ]);\n\n  return (\n    <DataTable className=\"p-datatable-gridlines\" value={itLevyData} style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      <Column field=\"credit\" header=\"\"></Column>\n    </DataTable>\n  );\n};\n\nexport default ITLevyView;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport ITLevyView from \"../components/it_levy/ITLevyView\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport constants from \"../constants\";\nimport utils from \"../utils\";\nimport Main from \"../components/layout/Main\";\nimport { usePathParam } from \"react-resource-router\";\n\nconst ITLevy = () => {\n  const title = constants.modules.itLevy;\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        <ViewMode title={title} year={year}>\n          <ITLevyView />\n        </ViewMode>\n      </Main>\n    </Layout>\n  );\n};\n\nexport default ITLevy;\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { Toast } from \"primereact/toast\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { login } from \"../apis/Authentication\";\nimport constants from \"../constants\";\nimport { useAuth } from \"../store/AuthStore\";\nimport { Link, Redirect, useRouter, useRouterActions } from \"react-resource-router\";\nimport PasswordController from \"../components/controllers/PasswordController\";\nimport utils from \"../utils\";\n\nconst Login = () => {\n  const [routerState] = useRouter();\n  const { errors, handleSubmit, control } = useForm();\n  const [{ isAuthenticated }, { onLoginSuccess }] = useAuth();\n  const { push } = useRouterActions();\n  const [loading, setLoading] = React.useState(false);\n  const toast = React.useRef();\n\n  React.useEffect(() => {\n    if (routerState.location.state)\n      toast.current.show(\n        utils.toastCallback({ severity: \"success\", detail: routerState.location.state })\n      );\n  }, [routerState]);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    setLoading(true);\n    const { email, password } = data;\n    try {\n      const {\n        token,\n        user: { id, firstName, lastName }\n      } = await login({ email, password });\n      // store user details in global state\n      onLoginSuccess({ id, token, email, firstName, lastName });\n      push(constants.routes.dashboard);\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const {\n          data: { errors }\n        } = error.response;\n        // display all errors as toast notification\n        errors.map(err =>\n          toast.current.show(\n            utils.toastCallback({ severity: \"error\", summary: \"Login Error\", detail: err })\n          )\n        );\n      } else {\n        // network errors\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  if (isAuthenticated) {\n    const path = sessionStorage.getItem(\"path\") || constants.routes.dashboard;\n    sessionStorage.removeItem(\"path\");\n    return <Redirect to={path} />;\n  }\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-ai-center\" style={{ height: \"100vh\" }}>\n      <Card\n        header={\n          <>\n            <h2 className=\"p-text-center accent-color\">Tax Computation</h2>\n            <div className=\"divider\"></div>\n          </>\n        }\n        style={{ width: 320 }}>\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"email\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  placeholder=\"Email\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.email && <span style={{ fontSize: 12, color: \"red\" }}>Email is required</span>}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"password\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <PasswordController\n                  placeholder=\"Password\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.password && (\n              <span style={{ fontSize: 12, color: \"red\" }}>Password is required</span>\n            )}\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Login\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: \"100%\" }}\n          />\n        </form>\n        <Link href={constants.routes.forgot_password} className=\"auth-link\">\n          <p style={{ marginBottom: 0, marginTop: 20, fontSize: 14 }}>Forgot Password</p>\n        </Link>\n      </Card>\n      <Toast ref={el => (toast.current = el)} />\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\n\nconst MinimumTaxView = () => {\n  const [minimumTaxData] = React.useState([\n    {\n      category: \"0.5% OF TURNOVER\",\n      credit: \"620,800,000.00\"\n    },\n    {\n      category: \"Dividend Income\",\n      credit: \"\"\n    },\n    {\n      category: <strong>Minimum Tax Payable</strong>,\n      credit: \"3,104,000.00\"\n    }\n  ]);\n\n  return (\n    <DataTable className=\"p-datatable-gridlines\" value={minimumTaxData} style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      <Column field=\"credit\" header=\"\"></Column>\n    </DataTable>\n  );\n};\n\nexport default MinimumTaxView;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport MinimumTaxView from \"../components/minimum_tax/MinimumTaxView\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport constants from \"../constants\";\nimport utils from \"../utils\";\nimport Main from \"../components/layout/Main\";\nimport { usePathParam } from \"react-resource-router\";\n\nconst MinimumTax = () => {\n  const title = constants.modules.minimumTax;\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        <ViewMode title={title} year={year}>\n          <MinimumTaxView />\n        </ViewMode>\n      </Main>\n    </Layout>\n  );\n};\n\nexport default MinimumTax;\n","import { Card } from \"primereact/card\";\nimport React from \"react\";\nimport Layout from \"../components/layout\";\n\nconst NotFound = () => {\n  return (\n    <Layout title=\"\">\n      <Card style={{ width: \"100%\" }}>\n        <h1 style={{ margin: 0 }}>404 - Not Found</h1>\n        <p>Sorry the page you are looking for doesn't exist.</p>\n      </Card>\n    </Layout>\n  );\n};\n\nexport default NotFound;\n","import axios from \"axios\";\n\nexport const profitAndLossMapping = async ({\n  profitAndLossId,\n  trialBalanceList,\n  companyId,\n  yearId,\n  mappedCode\n}) => {\n  try {\n    return await axios.post(\"/api/ProfitAndLoss\", {\n      profitAndLossId,\n      trialBalanceList,\n      companyId,\n      yearId,\n      mappedCode\n    });\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const profitAndLossViewData = async ({ companyId, year }) => {\n  try {\n    const { data } = await axios.get(`/api/ProfitAndLoss/${companyId}/${year}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport Loader from \"../common/Loader\";\nimport { profitAndLossViewData } from \"../../apis/ProfitAndLoss\";\n\nconst ProfitAndLossView = ({ year }) => {\n  const isMounted = React.useRef(false);\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState();\n  const [error, setError] = React.useState();\n  const [profitAndLossApiData, setProfitAndLossApiData] = React.useState([]);\n\n  React.useEffect(() => {\n    isMounted.current = true;\n    const fetchProfitAndLossViewData = async () => {\n      try {\n        setError(null);\n        setLoading(true);\n        const data = await profitAndLossViewData({ companyId, year });\n        if (isMounted.current) {\n          setProfitAndLossApiData(data);\n        }\n      } catch (error) {\n        if (isMounted.current) {\n          if (error.response) setError(error.response.data.errors[0]);\n          else setError(error.message);\n        }\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    fetchProfitAndLossViewData();\n\n    return () => (isMounted.current = false);\n  }, [companyId, year]);\n\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\n\n  if (loading) return <Loader />;\n\n  return (\n    <DataTable\n      className=\"p-datatable-gridlines\"\n      value={profitAndLossApiData}\n      style={{ marginTop: 40 }}>\n      <Column field=\"category\" header=\"\"></Column>\n      <Column field=\"total\" header=\"Total\"></Column>\n    </DataTable>\n  );\n};\n\nexport default ProfitAndLossView;\n","import React from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport DropdownController from \"../controllers/DropdownController\";\nimport TrialBalanceMappingTable from \"../common/TrialBalanceMappingTable\";\nimport constants from \"../../constants\";\nimport { useCompany } from \"../../store/CompanyStore\";\nimport utils from \"../../utils\";\nimport { profitAndLossMapping } from \"../../apis/ProfitAndLoss\";\n\nconst ProfitAndLossMapping = ({\n  year,\n  setYear,\n  yearSelectItems,\n  assetClassSelectItems,\n  tbData,\n  trialBalanceRefresh,\n  toast\n}) => {\n  const { errors, handleSubmit, control } = useForm();\n  const [{ companyId }] = useCompany();\n  const [loading, setLoading] = React.useState(false);\n  const [selectedAccounts, setSelectedAccounts] = React.useState([]);\n\n  const onSubmit = async data => {\n    if (loading) return;\n    const { profitAndLossId, yearId } = data;\n\n    if (selectedAccounts.length === 0) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          detail: \"Select at least one account from the trial balance table\"\n        })\n      );\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const response = await profitAndLossMapping({\n        profitAndLossId,\n        trialBalanceList: selectedAccounts,\n        companyId,\n        yearId,\n        mappedCode: \"profitandloss\"\n      });\n      if (response.status === 200) {\n        toast.show(\n          utils.toastCallback({\n            severity: \"success\",\n            detail: \"Profit and Loss mapped successfully\"\n          })\n        );\n      }\n    } catch (error) {\n      toast.show(\n        utils.toastCallback({\n          severity: \"error\",\n          summary: \"Network Error\",\n          detail: constants.networkErrorMessage\n        })\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <form className=\"p-d-flex p-jc-between\" onSubmit={handleSubmit(onSubmit)}>\n        <DropdownController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"profitAndLossId\"\n          label=\"Profit and Loss Item\"\n          placeholder=\"Select Item\"\n          width={250}\n          required\n          dropdownOptions={assetClassSelectItems}\n          errorMessage=\"Profit and Loss Item is required\"\n        />\n        <DropdownController\n          Controller={Controller}\n          control={control}\n          errors={errors}\n          controllerName=\"yearId\"\n          label=\"Year\"\n          width={250}\n          required\n          dropdownOptions={yearSelectItems}\n          onChangeCallback={setYear}\n          errorMessage=\"Year is required\"\n          defaultValue={year}\n        />\n        <div>\n          <p style={{ color: \"transparent\", marginTop: 0, marginBottom: 5 }}>Submit</p>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Submit\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: 250 }}\n          />\n        </div>\n      </form>\n      <TrialBalanceMappingTable\n        title={constants.modules.profit_loss}\n        tbData={tbData}\n        trialBalanceRefresh={trialBalanceRefresh}\n        toast={toast}\n        selectedAccounts={selectedAccounts}\n        setSelectedAccounts={setSelectedAccounts}\n      />\n    </>\n  );\n};\n\nexport default ProfitAndLossMapping;\n","import React from \"react\";\nimport Layout from \"../components/layout\";\nimport ProfitAndLossView from \"../components/profit_loss/ProfitAndLossView\";\nimport ViewMode from \"../components/common/ViewMode\";\nimport utils from \"../utils\";\nimport Main from \"../components/layout/Main\";\nimport { usePathParam, useResource } from \"react-resource-router\";\nimport constants from \"../constants\";\nimport { profitandlossModuleClassResource, trialBalanceResource } from \"../routes/resources\";\nimport { useResources } from \"../store/ResourcesStore\";\nimport PageLoader from \"../components/common/PageLoader\";\nimport Error from \"../components/common/Error\";\nimport { Toast } from \"primereact/toast\";\nimport ProfitAndLossMapping from \"../components/profit_loss/ProfitAndLossMapping\";\n\nconst ProfitAndLoss = () => {\n  const title = constants.modules.profit_loss;\n  const toast = React.useRef();\n  const { data: assetClass, error: assetClassError, refresh: assetClassRefresh } = useResource(\n    profitandlossModuleClassResource\n  );\n  const {\n    data: trialBalance,\n    error: trialBalanceError,\n    refresh: trialBalanceRefresh\n  } = useResource(trialBalanceResource);\n  const [tbData, setTbData] = React.useState([]);\n  const [mode, setMode] = usePathParam(\"mode\");\n  const [year, setYear] = React.useState(utils.currentYear());\n  const [assetClassSelectItems, setAssetClassSelectItems] = React.useState([]);\n  const [resources, { onTrialBalance, onProfitAndLossModuleItems }] = useResources();\n  const yearSelectItems = utils.getYears(year => ({\n    label: year.toString(),\n    value: year.toString()\n  }));\n\n  React.useEffect(() => {\n    if (assetClass) onProfitAndLossModuleItems(assetClass);\n  }, [assetClass, onProfitAndLossModuleItems]);\n\n  React.useEffect(() => {\n    if (resources.profitAndLossModuleItems) {\n      setAssetClassSelectItems(\n        resources.profitAndLossModuleItems.map(({ id: assetClassId, name }) => ({\n          label: name,\n          value: assetClassId\n        }))\n      );\n    }\n  }, [resources.profitAndLossModuleItems]);\n\n  React.useEffect(() => {\n    if (trialBalance) onTrialBalance(trialBalance);\n  }, [onTrialBalance, trialBalance]);\n\n  React.useEffect(() => {\n    utils.onTbData(resources, setTbData);\n  }, [resources]);\n\n  if (assetClassError)\n    return <Error title={title} error={assetClassError} refresh={assetClassRefresh} />;\n\n  if (trialBalanceError)\n    return <Error title={title} error={trialBalanceError} refresh={trialBalanceRefresh} />;\n\n  if (!resources.profitAndLossModuleItems || !resources.trialBalance)\n    return <PageLoader title={title} />;\n\n  return (\n    <Layout title={title}>\n      <Main\n        title={title}\n        mode={mode}\n        setMode={setMode}\n        year={year}\n        setYear={setYear}\n        yearSelectItems={yearSelectItems}>\n        {\n          {\n            mapping: (\n              <ProfitAndLossMapping\n                year={year}\n                setYear={setYear}\n                yearSelectItems={yearSelectItems}\n                assetClassSelectItems={assetClassSelectItems}\n                tbData={tbData}\n                trialBalanceRefresh={trialBalanceRefresh}\n                toast={toast.current}\n              />\n            ),\n            view: (\n              <ViewMode title={title} year={year}>\n                <ProfitAndLossView year={year} />\n              </ViewMode>\n            )\n          }[mode]\n        }\n      </Main>\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\n    </Layout>\n  );\n};\n\nexport default ProfitAndLoss;\n","import React from \"react\";\nimport { Card } from \"primereact/card\";\nimport { Button } from \"primereact/button\";\nimport { InputText } from \"primereact/inputtext\";\nimport { Toast } from \"primereact/toast\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { resetPassword } from \"../apis/Authentication\";\nimport constants from \"../constants\";\nimport { useAuth } from \"../store/AuthStore\";\nimport { Link, Redirect, useRouter, useRouterActions } from \"react-resource-router\";\nimport PasswordController from \"../components/controllers/PasswordController\";\nimport utils from \"../utils\";\n\nconst ResetPassword = () => {\n  const [routerState] = useRouter();\n  const { errors, handleSubmit, control } = useForm();\n  const [{ isAuthenticated }] = useAuth();\n  const { push } = useRouterActions();\n  const [loading, setLoading] = React.useState(false);\n  const toast = React.useRef();\n\n  React.useEffect(() => {\n    if (routerState.location.state)\n      toast.current.show(\n        utils.toastCallback({ severity: \"success\", detail: routerState.location.state })\n      );\n  }, [routerState]);\n\n  const onSubmit = async data => {\n    if (loading) return;\n\n    setLoading(true);\n    const { token, newPassword } = data;\n    try {\n      const { message } = await resetPassword({ token, newPassword });\n      push({ pathname: constants.routes.login, state: message });\n    } catch (error) {\n      setLoading(false);\n      if (error.response) {\n        const {\n          data: { message }\n        } = error.response;\n        // display error as toast notification\n        toast.current.show(\n          utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: message })\n        );\n      } else {\n        // network errors\n        toast.current.show(\n          utils.toastCallback({\n            severity: \"error\",\n            summary: \"Network Error\",\n            detail: constants.networkErrorMessage\n          })\n        );\n      }\n    }\n  };\n\n  if (isAuthenticated) {\n    const path = sessionStorage.getItem(\"path\") || constants.routes.dashboard;\n    sessionStorage.removeItem(\"path\");\n    return <Redirect to={path} />;\n  }\n\n  return (\n    <div className=\"p-d-flex p-jc-center p-ai-center\" style={{ height: \"100vh\" }}>\n      <Card\n        header={\n          <>\n            <h2 className=\"p-text-center accent-color\">Tax Computation</h2>\n            <div className=\"divider\"></div>\n          </>\n        }\n        style={{ width: 320 }}>\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"token\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <InputText\n                  style={{ marginBottom: 5, width: \"100%\" }}\n                  placeholder=\"Token\"\n                  maxLength={4}\n                  keyfilter=\"pint\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.token && <span style={{ fontSize: 12, color: \"red\" }}>Token is required</span>}\n          </div>\n          <div style={{ marginBottom: 15 }}>\n            <Controller\n              name=\"newPassword\"\n              control={control}\n              rules={{ required: true }}\n              defaultValue=\"\"\n              render={props => (\n                <PasswordController\n                  placeholder=\"New Password\"\n                  value={props.value}\n                  onChange={e => props.onChange(e.target.value)}\n                />\n              )}\n            />\n            {errors.newPassword && (\n              <span style={{ fontSize: 12, color: \"red\" }}>New Password is required</span>\n            )}\n          </div>\n          <Button\n            type=\"submit\"\n            label={!loading ? \"Reset Password\" : null}\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\n            style={{ width: \"100%\" }}\n          />\n        </form>\n        <Link href={constants.routes.login} className=\"auth-link\">\n          <p style={{ marginBottom: 0, marginTop: 20, fontSize: 14 }}>Back to login</p>\n        </Link>\n      </Card>\n      <Toast ref={el => (toast.current = el)} />\n    </div>\n  );\n};\n\nexport default ResetPassword;\n","import React from \"react\";\nimport { useRouter } from \"react-resource-router\";\nimport constants from \"./constants\";\nimport { useAuth } from \"./store/AuthStore\";\n\nexport default Component => props => {\n  const [{ isAuthenticated }] = useAuth();\n  const [routerState, { replace }] = useRouter();\n\n  React.useEffect(() => {\n    if (isAuthenticated !== null && !isAuthenticated)\n      replace({ pathname: constants.routes.login, state: routerState.location.state });\n  }, [isAuthenticated, replace, routerState]);\n\n  return <>{isAuthenticated && <Component {...props} />}</>;\n};\n","import constants from \"../constants\";\nimport BalancingAdjustment from \"../pages/BalancingAdjustment\";\nimport CapitalAllowance from \"../pages/CapitalAllowance\";\nimport Dashboard from \"../pages/Dashboard\";\nimport DeferredTax from \"../pages/DeferredTax\";\nimport FixedAsset from \"../pages/FixedAsset\";\nimport ForgotPassword from \"../pages/ForgotPassword\";\nimport Home from \"../pages/Home\";\nimport IncomeTax from \"../pages/IncomeTax\";\nimport InvestmentAllowance from \"../pages/InvestmentAllowance\";\nimport ITLevy from \"../pages/ITLevy\";\nimport Login from \"../pages/Login\";\nimport MinimumTax from \"../pages/MinimumTax\";\nimport NotFound from \"../pages/NotFound\";\nimport ProfitAndLoss from \"../pages/ProfitAndLoss\";\nimport ResetPassword from \"../pages/ResetPassword\";\nimport RouteGuard from \"../RouteGuard\";\nimport {\n  companiesResource,\n  fixedAssetModuleClassResource,\n  profitandlossModuleClassResource,\n  trialBalanceResource\n} from \"./resources\";\n\nconst modePathParam = \"/:mode\";\n\nexport const routes = [\n  {\n    path: constants.routes.home,\n    name: \"HOME\",\n    exact: true,\n    component: Home\n  },\n  {\n    path: constants.routes.login,\n    name: \"LOGIN\",\n    exact: true,\n    component: Login\n  },\n  {\n    path: constants.routes.forgot_password,\n    name: \"FORGOT_PASSWORD\",\n    exact: true,\n    component: ForgotPassword\n  },\n  {\n    path: constants.routes.reset_password,\n    name: \"RESET_PASSWORD\",\n    exact: true,\n    component: ResetPassword\n  },\n  {\n    path: constants.routes.dashboard,\n    name: \"DASHBOARD\",\n    exact: true,\n    component: RouteGuard(Dashboard),\n    resources: [companiesResource]\n  },\n  {\n    path: `${constants.routes.fixed_asset}${modePathParam}`,\n    name: \"FIXED_ASSET\",\n    exact: true,\n    component: RouteGuard(FixedAsset),\n    resources: [fixedAssetModuleClassResource, trialBalanceResource]\n  },\n  {\n    path: `${constants.routes.profit_loss}${modePathParam}`,\n    name: \"PROFIT_LOSS\",\n    exact: true,\n    component: RouteGuard(ProfitAndLoss),\n    resources: [profitandlossModuleClassResource, trialBalanceResource]\n  },\n  {\n    path: `${constants.routes.income_tax}${modePathParam}`,\n    name: \"INCOME_TAX\",\n    exact: true,\n    component: RouteGuard(IncomeTax)\n    //resources: [aboutResource],\n  },\n  {\n    path: `${constants.routes.deferred_tax}${modePathParam}`,\n    name: \"DEFERRED_TAX\",\n    exact: true,\n    component: RouteGuard(DeferredTax)\n    //resources: [aboutResource],\n  },\n  {\n    path: `${constants.routes.minimum_tax}${modePathParam}`,\n    name: \"MINIMUM_TAX\",\n    exact: true,\n    component: RouteGuard(MinimumTax)\n    //resources: [aboutResource],\n  },\n  {\n    path: `${constants.routes.it_levy}${modePathParam}`,\n    name: \"IT_LEVY\",\n    exact: true,\n    component: RouteGuard(ITLevy)\n    //resources: [aboutResource],\n  },\n  {\n    path: `${constants.routes.capital_allowance}${modePathParam}`,\n    name: \"CAPITAL_ALLOWANCE\",\n    exact: true,\n    component: RouteGuard(CapitalAllowance),\n    resources: [fixedAssetModuleClassResource]\n  },\n  {\n    path: `${constants.routes.investment_allowance}${modePathParam}`,\n    name: \"INVESTMENT_ALLOWANCE\",\n    exact: true,\n    component: RouteGuard(InvestmentAllowance)\n    //resources: [aboutResource],\n  },\n  {\n    path: `${constants.routes.balancing_adjustment}${modePathParam}`,\n    name: \"BALANCING_ADJUSTMENT\",\n    exact: true,\n    component: RouteGuard(BalancingAdjustment),\n    resources: [fixedAssetModuleClassResource]\n  },\n  {\n    path: \"*\",\n    name: \"NOT_FOUND\",\n    component: NotFound\n  }\n];\n","import React from \"react\";\nimport \"primereact/resources/themes/saga-blue/theme.css\";\nimport \"primereact/resources/primereact.min.css\";\nimport \"primeicons/primeicons.css\";\nimport \"primeflex/primeflex.css\";\nimport { Router, RouteComponent, createBrowserHistory } from \"react-resource-router\";\nimport { routes } from \"./routes\";\nimport { useAuth } from \"./store/AuthStore\";\nimport utils from \"./utils\";\nimport { useCompany } from \"./store/CompanyStore\";\nimport axiosConfig from \"./configs/axios.config\";\n\nconst history = createBrowserHistory();\n\nfunction App() {\n  const [auth, { initAuth }] = useAuth();\n  const [company, { initCompany }] = useCompany();\n\n  window.onbeforeunload = () => {\n    utils.saveState(auth, \"auth\");\n    utils.saveState(company, \"company\");\n    sessionStorage.setItem(\"path\", history.location.pathname);\n    sessionStorage.setItem(\"token\", auth.token);\n  };\n\n  window.onload = () => {\n    initAuth(utils.loadState(\"auth\"));\n    initCompany(utils.loadState(\"company\"));\n    sessionStorage.removeItem(\"token\");\n  };\n\n  // axios config\n  axiosConfig(auth.token);\n\n  return (\n    <Router history={history} routes={routes}>\n      <RouteComponent />\n    </Router>\n  );\n}\n\nexport default App;\n","import axios from \"axios\";\n// import { login } from 'routes';\n// import { refreshTokenAuth, signOut } from 'store/actions/auth';\n// import store from 'store/store';\n\nexport default function (authToken) {\n  // set axios base url\n  axios.defaults.baseURL = window.configs.baseURL;\n  // Request interceptor for API calls\n  axios.interceptors.request.use(\n    config => {\n      const token = authToken || sessionStorage.getItem(\"token\");\n\n      if (token) {\n        config.headers[\"Authorization\"] = `Bearer ${token}`;\n      }\n\n      return config;\n    },\n    error => {\n      Promise.reject(error);\n    }\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"fontsource-poppins\";\nimport \"./styles/index.css\";\nimport App from \"./App\";\nimport { defaults } from \"react-sweet-state\";\n\n// redux devtools\ndefaults.devtools = true;\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}