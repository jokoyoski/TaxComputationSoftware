(this["webpackJsonptaxcomputation-spa"]=this["webpackJsonptaxcomputation-spa"]||[]).push([[0],{144:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=(a(78),a(79),a(1)),i=(a(80),a(81),a(82),a(83),a(4)),s={startYear:1980,toastLifeTime:6e3,modes:["mapping","view"],modules:{dashboard:"Dashboard",fixedAsset:"Fixed Asset",profit_loss:"Profit & Loss",incomeTax:"Income Tax",deferredTax:"Deferred Tax",minimumTax:"Minimum Tax",itLevy:"I.T Levy",capitalAllowance:"Capital Allowance",investmentAllowance:"Investment Allowance",balancingAdjustment:"Balancing Adjustment"},routes:{home:"/",login:"/login",dashboard:"/dashboard",fixed_asset:"/fixed_asset",profit_loss:"/profit_loss",income_tax:"/income_tax",deferred_tax:"/deferred_tax",minimum_tax:"/minimum_tax",it_levy:"/it_levy",capital_allowance:"/capital_allowance",investment_allowance:"/investment_allowance",balancing_adjustment:"/balancing_adjustment"},nonMappedModules:["Minimum Tax","Capital Allowance","Investment Allowance","I.T Levy"],mappingCode:{fixedasset:"fixedasset",profitandloss:"profitandloss",balancingadjustment:"balancingadjustment",deferredtax:"deferredtax",incometax:"incometax"},networkErrorMessage:"Unable to reach server, check your network or contact your admin"},u=function(e){var t=e.title;return r.a.createElement("div",{className:"p-d-flex p-jc-center p-flex-column",style:{background:"#fff",width:"100%",height:66,paddingLeft:20,borderLeft:"2px solid #f5f6f8",position:"fixed",zIndex:1}},r.a.createElement("p",{style:{marginTop:5,marginBottom:0,fontSize:18,fontWeight:600}},t))},m=a(6),d=Object(m.d)({initialState:{isAuthenticated:null,userId:null,token:"",email:"",firstName:"",lastName:""},actions:{initAuth:function(e){return function(t){var a=t.setState,n=t.getState;a(e),null===n().isAuthenticated&&a({isAuthenticated:!1})}},onLoginSuccess:function(e){var t=e.id,a=e.token,n=e.email,r=e.firstName,c=e.lastName;return function(e){return(0,e.setState)({isAuthenticated:!0,userId:t,token:a,email:n,firstName:r,lastName:c})}},onLogout:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){var a=e.setState;t.forEach((function(e){return e instanceof Function?e():null})),a({isAuthenticated:!1,userId:null,token:"",email:"",firstName:"",lastName:""})}}},name:"auth"}),p=Object(m.c)(d),f=Object(m.d)({initialState:{companyId:null,companyName:"",companyDescription:"",cacNumber:"",tinNumber:""},actions:{initCompany:function(e){return function(t){return(0,t.setState)(e)}},onSelectCompany:function(e){var t=e.companyId,a=e.companyName,n=e.companyDescription,r=e.cacNumber,c=e.tinNumber;return function(e){return(0,e.setState)({companyId:t,companyName:a,companyDescription:n,cacNumber:r,tinNumber:c})}},resetCompany:function(){return function(e){return(0,e.setState)({companyId:null,companyName:"",companyDescription:"",cacNumber:"",tinNumber:""})}}},name:"company"}),g=Object(m.c)(f),y=function(){return(new Date).getFullYear()},b=function(){for(var e=[],t=(new Date).getFullYear();t>=s.startYear;t--)e.push(t);return e},h=function(e){return s.nonMappedModules.includes(e)?"view":"mapping"},E=function(e,t){try{var a=JSON.stringify(e);sessionStorage.setItem(t,a)}catch(n){console.log(n)}},v=function(e){try{var t=sessionStorage.getItem(e);if(null===t)return;return sessionStorage.removeItem(e),JSON.parse(t)}catch(a){return}},w=function(e){return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e)},C=function(e){var t=e.selectedTitle,a=p(),n=Object(o.a)(a,2)[1].onLogout,c=g(),l=Object(o.a)(c,2)[1].resetCompany,u=[{title:"Dashboard",href:s.routes.dashboard},{title:s.modules.fixedAsset,href:"".concat(s.routes.fixed_asset,"/").concat(h(s.modules.fixedAsset))},{title:s.modules.profit_loss,href:"".concat(s.routes.profit_loss,"/").concat(h(s.modules.profit_loss))},{title:s.modules.incomeTax,href:"".concat(s.routes.income_tax,"/").concat(h(s.modules.incomeTax))},{title:s.modules.deferredTax,href:"".concat(s.routes.deferred_tax,"/").concat(h(s.modules.deferredTax))},{title:s.modules.minimumTax,href:"".concat(s.routes.minimum_tax,"/").concat(h(s.modules.minimumTax))},{title:s.modules.itLevy,href:"".concat(s.routes.it_levy,"/").concat(h(s.modules.itLevy))},{title:s.modules.capitalAllowance,href:"".concat(s.routes.capital_allowance,"/").concat(h(s.modules.capitalAllowance))},{title:s.modules.investmentAllowance,href:"".concat(s.routes.investment_allowance,"/").concat(h(s.modules.investmentAllowance))},{title:s.modules.balancingAdjustment,href:"".concat(s.routes.balancing_adjustment,"/").concat(h(s.modules.balancingAdjustment))}];return r.a.createElement("div",{className:"p-d-flex",style:{position:"fixed",zIndex:1}},r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{width:256,height:"100vh",background:"#fff"}},r.a.createElement("h2",{className:"accent-color",style:{margin:"5px 0",padding:"10px 20px"}},"Tax Computation"),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{style:{padding:"10px 20px"}},r.a.createElement("div",{style:{marginTop:10,background:"#f5f6f8",padding:10}},r.a.createElement("h4",{style:{marginTop:5,marginBottom:0}},"John.Doe"),r.a.createElement("p",{style:{fontSize:12,margin:0}},"Role: super admin"))),u.map((function(e,a){return r.a.createElement(i.a,{key:a,href:e.href,className:"sidebar-link",style:{padding:"5px 20px"}},r.a.createElement("p",{className:t.toLowerCase()===e.title.toLowerCase()?"accent-color":"",style:{marginTop:5,marginBottom:0}},e.title))})),r.a.createElement("div",{className:"divider",style:{margin:"10px 0px"}}),r.a.createElement("div",{style:{padding:"0px 20px"}},r.a.createElement("p",{style:{margin:0,cursor:"pointer"},onClick:function(){n(l)}},"Logout"))))},x=function(e){var t=e.title,a=e.children;return r.a.createElement("div",{className:"p-d-flex"},r.a.createElement(C,{selectedTitle:t}),r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{width:"100%",marginLeft:256}},r.a.createElement(u,{title:t}),r.a.createElement("div",{style:{padding:20,marginTop:66}},a)))},N=a(13),S=a(17),A=a(10),T=a(2),O=function(e){var t=e.year,a=e.setYear,n=e.yearSelectItems,c=r.a.useState(),l=Object(o.a)(c,2),i=l[0],s=l[1],u=r.a.useState(),m=Object(o.a)(u,2),d=m[0],p=m[1],f=r.a.useState([{accountDescription:"Petty Cash",debitAmount:"\u20a652,154.07",creditAmount:"\u20a60.00"},{accountDescription:"Inventory",debitAmount:"\u20a620,000.00",creditAmount:"\u20a60.00"},{accountDescription:"Plant & Machinery",debitAmount:"\u20a63,966,900.64",creditAmount:"\u20a60.00"},{accountDescription:"Furniture & Fittings",debitAmount:"\u20a612,252,961.97",creditAmount:"\u20a60.00"},{accountDescription:"Branch Cash Movement",debitAmount:"\u20a60.00",creditAmount:"\u20a6349.03"}]),g=Object(o.a)(f,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"p-d-flex p-jc-between"},r.a.createElement(N.Dropdown,{style:{width:250},value:i,options:[{label:"Revenue",value:"Revenue"},{label:"Other Income",value:"Other Income"}],onChange:function(e){s(e.value)},placeholder:"Select an Item"}),r.a.createElement(N.Dropdown,{style:{width:250},value:t,options:n,onChange:function(e){a(e.value)},placeholder:"Select Year"}),r.a.createElement(S.Button,{type:"submit",label:"Submit",style:{width:250}})),r.a.createElement(A.DataTable,{value:g,className:"p-datatable-gridlines",selection:d,onSelectionChange:function(e){p(e.value)},style:{marginTop:50}},r.a.createElement(T.Column,{selectionMode:"multiple",style:{width:"3em"}}),r.a.createElement(T.Column,{field:"accountDescription",header:"Account Description"}),r.a.createElement(T.Column,{field:"debitAmount",header:"Debit Amount"}),r.a.createElement(T.Column,{field:"creditAmount",header:"Credit Amount"}),r.a.createElement(T.Column,{field:"mappedCode",header:"Mapped To"})))},I=function(e){var t=e.headers;return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement("p",{key:t,className:"view-description"},e)})))},j=function(e){var t=e.title,a=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{headers:["ACCESS PENSION FUND CUSTODIAN LIMITED","2020 INCOME TAX COMPUTATIONS","AUDITED ACCOUNTS FOR THE YEAR ENDED 31 DECEMBER, 2019",{"Fixed Asset":"ANALYSIS OF FIXED ASSET MOVEMENT","Profit & Loss":"SUMMARY OF PROFIT & LOSS ACCOUNTS","Income Tax":"INCOME TAX COMPUTATION","Deferred Tax":"DEFERRED TAX COMPUTATION","Minimum Tax":"MINIMUM TAX COMPUTATION","I.T Levy":"I.T. LEVY COMPUTATION (BASED ON THE 2007 CITA AMENDMENT)","Investment Allowance":"COMPUTATION OF INVESTMENT ALLOWANCE","Balancing Allowance":"COMPUTATION OF BALANCING ALLOWANCE/CHARGE"}[t]]}),a)},D=function(){var e=r.a.useState([{category:r.a.createElement("strong",null,"Motor Vehicles"),credit:"",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"",twdv:""},{category:"Cost up to 2018 YOA",credit:"\u20a614,694,750.00",balancingAllowance:"",balancingCharge:"",cost:"\u20a614,694,750.00",salesProceed:"",twdv:""},{category:"Initial Allowance",credit:"\u20a67,347,375.00",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"",twdv:""},{category:"Annual allowances up to 2019",credit:"\u20a63,673,688.00",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"",twdv:""},{category:"Residue at 31.12.2019",credit:"\u20a63,673,688.00",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"",twdv:"\u20a63,673,688.00"},{category:"Sales Proceeds",credit:"\u20a65,510,531.00",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"\u20a65,510,531.00",twdv:""},{category:"Balancing charge",credit:"\u20a61,836,844.00",balancingAllowance:"",balancingCharge:"\u20a61,836,844.00",cost:"",salesProceed:"",twdv:""}]),t=Object(o.a)(e,1)[0];return r.a.createElement(A.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(T.Column,{field:"category",header:""}),r.a.createElement(T.Column,{field:"credit",header:"\u20a6"}),r.a.createElement(T.Column,{field:"balancingAllowance",header:"Balancing Allowance (\u20a6)"}),r.a.createElement(T.Column,{field:"balancingCharge",header:"Balancing Charge (\u20a6)"}),r.a.createElement(T.Column,{field:"cost",header:"Cost (\u20a6)"}),r.a.createElement(T.Column,{field:"salesProceed",header:"Sales Proceed (\u20a6)"}),r.a.createElement(T.Column,{field:"twdv",header:"TWDV"}))},B=a(27),k=function(e){var t=e.title,a=e.mode,n=e.setMode,c=e.year,l=e.setYear,o=e.yearSelectItems;return r.a.createElement("div",{className:"p-d-flex p-jc-center p-flex-column",style:{width:"100%"}},r.a.createElement("div",{className:"p-d-flex p-ai-center p-jc-between",style:{padding:"0px 20px"}},r.a.createElement("p",{style:{fontSize:18,fontWeight:600}},t," - ",{mapping:"Mapping",view:"View"}[a]),r.a.createElement("div",null,"view"===a&&r.a.createElement(N.Dropdown,{style:{width:180,marginRight:20},placeholder:"Select year",value:c,options:o,onChange:function(e){l(e.value)}}),r.a.createElement(N.Dropdown,{style:{width:180},value:a,disabled:s.nonMappedModules.includes(t),options:[{label:"Mapping - Mode",value:"mapping"},{label:"View - Mode",value:"view"}],onChange:function(e){n(e.value)}}))),r.a.createElement("div",{className:"divider"}))},M=function(e){var t=e.title,a=e.mode,n=e.setMode,c=e.year,l=e.setYear,o=e.yearSelectItems,i=e.children;return s.modes.includes(a)||n(h(t)),r.a.createElement(B.Card,{header:r.a.createElement(k,{title:t,mode:a,setMode:n,year:c,setYear:l,yearSelectItems:o}),style:{width:"100%"}},i)},L=function(){var e=s.modules.balancingAdjustment,t=Object(i.g)("mode"),a=Object(o.a)(t,2),n=a[0],c=a[1],l=r.a.useState(y()),u=Object(o.a)(l,2),m=u[0],d=u[1],p=b((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(x,{title:e},r.a.createElement(M,{title:e,mode:n,setMode:c,year:m,setYear:d,yearSelectItems:p},{mapping:r.a.createElement(O,{year:m,setYear:d,yearSelectItems:p}),view:r.a.createElement(j,{title:e},r.a.createElement(D,null))}[n]))},_=function(){var e=r.a.useState([{category:r.a.createElement("strong",null,"Motor Vehicles"),credit:"",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"",twdv:""},{category:"Cost up to 2018 YOA",credit:"\u20a614,694,750.00",balancingAllowance:"",balancingCharge:"",cost:"\u20a614,694,750.00",salesProceed:"",twdv:""},{category:"Initial Allowance",credit:"\u20a67,347,375.00",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"",twdv:""},{category:"Annual allowances up to 2019",credit:"\u20a63,673,688.00",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"",twdv:""},{category:"Residue at 31.12.2019",credit:"\u20a63,673,688.00",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"",twdv:"\u20a63,673,688.00"},{category:"Sales Proceeds",credit:"\u20a65,510,531.00",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"\u20a65,510,531.00",twdv:""},{category:"Balancing charge",credit:"\u20a61,836,844.00",balancingAllowance:"",balancingCharge:"\u20a61,836,844.00",cost:"",salesProceed:"",twdv:""}]),t=Object(o.a)(e,1)[0];return r.a.createElement(A.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(T.Column,{field:"category",header:""}),r.a.createElement(T.Column,{field:"credit",header:"\u20a6"}),r.a.createElement(T.Column,{field:"balancingAllowance",header:"Balancing Allowance (\u20a6)"}),r.a.createElement(T.Column,{field:"balancingCharge",header:"Balancing Charge (\u20a6)"}),r.a.createElement(T.Column,{field:"cost",header:"Cost (\u20a6)"}),r.a.createElement(T.Column,{field:"salesProceed",header:"Sales Proceed (\u20a6)"}),r.a.createElement(T.Column,{field:"twdv",header:"TWDV"}))},F=function(){var e=s.modules.capitalAllowance,t=Object(i.g)("mode"),a=Object(o.a)(t,2),n=a[0],c=a[1],l=r.a.useState(y()),u=Object(o.a)(l,2),m=u[0],d=u[1],p=b((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(x,{title:e},r.a.createElement(M,{title:e,mode:n,setMode:c,year:m,setYear:d,yearSelectItems:p},r.a.createElement(j,{title:e},r.a.createElement(_,null))))},P=a(3),Y=a.n(P),R=a(8),V=a(44),q=a(23),z=a(11),U=a(18),W=a.n(U),X=function(){var e=Object(R.a)(Y.a.mark((function e(t){var a,n,r,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.companyName,n=t.companyDescription,r=t.cacNumber,c=t.tinNumber,e.prev=1,e.next=4,W.a.post("/api/Companies/add-company",{companyName:a,companyDescription:n,cacNumber:r,tinNumber:c});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(R.a)(Y.a.mark((function e(){var t,a,n,r,c=arguments;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,a=c.length>1&&void 0!==c[1]?c[1]:100,e.prev=2,e.next=5,W.a.get("/api/Companies/get-companies".concat(t&&a?"?PageNumber=".concat(t,"&PageSIze=").concat(a):""));case 5:return n=e.sent,r=n.data,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),G=function(e){var t=e.showAddCompany,a=e.setShowAddCompany,n=e.toast,c=e.toastCallback,l=e.refresh,i=Object(z.b)(),u=i.errors,m=i.handleSubmit,d=i.control,p=r.a.useState(!1),f=Object(o.a)(p,2),g=f[0],y=f[1],b=function(){var e=Object(R.a)(Y.a.mark((function e(t){var r,o,i,u,m,d,p;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=2;break}return e.abrupt("return");case 2:return y(!0),r=t.companyName,o=t.cacNumber,i=t.tinNumber,u=t.companyDescription,e.prev=4,e.next=7,X({companyName:r,cacNumber:o,tinNumber:i,companyDescription:u});case 7:201===e.sent.status&&(n.show(c({severity:"success",detail:"Company added successfully"})),setTimeout((function(){y(!1),a(!1),l()}),2e3)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),y(!1),e.t0.response?(m=e.t0.response.data.errors,d=m.error,p=m.CompanyDescription,d&&d.map((function(e){return n.show(c({severity:"error",summary:"Error",detail:e}))})),p&&p.map((function(e){return n.show(c({severity:"error",summary:"Error",detail:e}))}))):n.show(c({summary:"Network Error",detail:s.networkErrorMessage}));case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(V.Dialog,{header:"Add Company",visible:t,style:{width:400},focusOnShow:!1,onHide:function(){return a(!1)}},r.a.createElement("form",{onSubmit:m(b)},r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{marginBottom:15}},r.a.createElement("label",{htmlFor:"companyNameInput",style:{marginBottom:10}},"Company Name"),r.a.createElement(z.a,{name:"companyName",control:d,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(q.InputText,{style:{marginBottom:5,width:"100%"},id:"companyNameInput",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),u.companyName&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Company Name is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{marginBottom:15}},r.a.createElement("label",{htmlFor:"cacNumberInput",style:{marginBottom:10}},"Cac Number"),r.a.createElement(z.a,{name:"cacNumber",control:d,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(q.InputText,{style:{marginBottom:5,width:"100%"},id:"cacNumberInput",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),u.cacNumber&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Cac Number is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{marginBottom:15}},r.a.createElement("label",{htmlFor:"tinNumberInput",style:{marginBottom:10}},"Tin Number"),r.a.createElement(z.a,{name:"tinNumber",control:d,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(q.InputText,{style:{marginBottom:5,width:"100%"},id:"tinNumberInput",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),u.tinNumber&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Tin Number is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{marginBottom:15}},r.a.createElement("label",{htmlFor:"companyDescriptionInput",style:{marginBottom:10}},"Address"),r.a.createElement(z.a,{name:"companyDescription",control:d,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(q.InputText,{style:{marginBottom:5,width:"100%"},id:"companyDescriptionInput",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),u.companyDescription&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Address is required")),r.a.createElement(S.Button,{label:g?null:"Add Company",icon:g?"pi pi-spin pi-spinner":null,type:"submit",style:{width:"100%",marginTop:10}})))},J=function(){var e=Object(R.a)(Y.a.mark((function e(t){var a,n,r,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.file,n=t.companyId,r=t.year,e.prev=1,(c=new FormData).append("File",a.item(0)),c.append("CompanyId",n),c.append("YearId",r),e.next=8,W.a.post("/api/TrialBalance",c,{headers:{"Content-Type":"multipart/form-data"}});case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(R.a)(Y.a.mark((function e(t){var a,n,r,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.companyId,n=t.year,e.prev=1,e.next=4,W.a.get("/api/TrialBalance?companyId=".concat(a,"&yearId=").concat(n));case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(e){var t=e.company.companyId,a=e.toast,n=e.toastCallback,c=r.a.useState(),l=Object(o.a)(c,2),i=l[0],u=l[1],m=r.a.useState(),d=Object(o.a)(m,2),p=d[0],f=d[1],g=r.a.useState(b()),y=Object(o.a)(g,1)[0],h=r.a.useState(!1),E=Object(o.a)(h,2),v=E[0],w=E[1],C=function(){var e=Object(R.a)(Y.a.mark((function e(){var r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:if(i||p){e.next=7;break}return a.show(n({severity:"error",detail:"Add TB File and Select TB Year"})),e.abrupt("return");case 7:if(i){e.next=12;break}return a.show(n({severity:"error",detail:"Add TB File"})),e.abrupt("return");case 12:if(p){e.next=15;break}return a.show(n({severity:"error",detail:"Select TB Year"})),e.abrupt("return");case 15:return w(!0),e.prev=16,e.next=19,J({file:i,companyId:t,year:p});case 19:200===(r=e.sent).status&&(f(null),u(null),a.show(n({severity:"success",detail:r.data}))),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(16),e.t0.response?a.show(n({severity:"error",summary:"Error",detail:"An error occurred, kindly contact your admin"})):a.show(n({summary:"Network Error",detail:s.networkErrorMessage}));case 26:return e.prev=26,w(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[16,23,26,29]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(B.Card,{header:r.a.createElement("div",{className:"p-d-flex p-jc-center p-flex-column",style:{width:"100%"}},r.a.createElement("div",{className:"p-d-flex p-ai-center p-jc-between",style:{padding:"0px 20px"}},r.a.createElement("p",{style:{fontSize:18,fontWeight:600}},"Upload File"),r.a.createElement("div",null,r.a.createElement(N.Dropdown,{style:{marginRight:20,width:110},value:p,options:y,onChange:function(e){f(e.value)},placeholder:"TB Year"}),r.a.createElement(S.Button,{style:{width:110},label:v?null:"Upload",icon:v?"pi pi-spin pi-spinner":"pi pi-upload",onClick:C}))),r.a.createElement("div",{className:"divider"})),style:{width:"100%",marginBottom:20}},r.a.createElement("div",{className:"p-d-flex"},r.a.createElement("div",{className:"p-d-flex p-ai-center p-jc-center",style:{background:"#f5f6f8",width:"100%",height:100,position:"relative"}},r.a.createElement("p",{className:"accent-color",style:{fontSize:20}},i&&i.item(0).name?'"'.concat(i.item(0).name,'" ready for upload'):"Click or Drag and drop Trial Balance file here to upload."),r.a.createElement("input",{type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",style:{position:"absolute",width:"100%",height:"100%",opacity:0},onChange:function(e){return u(e.target.files)}}))))},Q=a(32),$=function(e){var t=e.company.companyId,a=r.a.useState(y()),n=Object(o.a)(a,2),c=n[0],l=n[1],i=r.a.useState(b()),s=Object(o.a)(i,1)[0],u=r.a.useState([]),m=Object(o.a)(u,2),d=m[0],p=m[1],f=r.a.useState(!1),g=Object(o.a)(f,2),h=g[0],E=g[1];return r.a.useEffect((function(){(function(){var e=Object(R.a)(Y.a.mark((function e(){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,K({companyId:t,year:c});case 4:a=e.sent,p(a?a.map((function(e){return""===e.accountId&&""===e.item&&0===e.debit&&0===e.credit?Object(Q.a)(Object(Q.a)({},e),{},{debit:"",credit:""}):Object(Q.a)(Object(Q.a)({},e),{},{debitAmt:w(e.debit),creditAmt:w(e.credit)})})):[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.prev=11,E(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}})()()}),[t,c]),r.a.createElement(B.Card,{style:{width:"100%"}},r.a.createElement(A.DataTable,{value:d,className:"p-datatable-gridlines",header:r.a.createElement("div",{className:"p-d-flex p-ai-center p-jc-between"},r.a.createElement("p",{style:{fontSize:18,fontWeight:600}},"Trial Balance"),r.a.createElement(N.Dropdown,{style:{width:110},value:c,options:s,onChange:function(e){l(e.value)},placeholder:"TB Year"})),footer:h||0===d.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-d-flex p-ai-center p-jc-center"},h&&r.a.createElement("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"2em"}}),!h&&0===d.length&&r.a.createElement("p",null,"No Trial Balance data for selected year"))):null},r.a.createElement(T.Column,{field:"accountId",header:"Account ID"}),r.a.createElement(T.Column,{field:"item",header:"Account Description"}),r.a.createElement(T.Column,{field:"debitAmt",header:"Debit Amt"}),r.a.createElement(T.Column,{field:"creditAmt",header:"Credit Amt"})))},ee=function(e){var t=e.setShowAddCompany,a=e.showCompanyPicker,n=e.setShowCompanyPicker,c=e.company,l=e.onSelectCompany,o=e.companySelectItems;return r.a.createElement(V.Dialog,{header:"Company",footer:r.a.createElement("div",null,r.a.createElement(S.Button,{label:"Add Company",onClick:function(){t(!0),n(!1)},className:"p-button-outlined"}),r.a.createElement(S.Button,{label:"Proceed",disabled:!c.companyId,onClick:function(){return c.companyId&&n(!1)}})),visible:a,style:{width:500},blockScroll:!0,focusOnShow:!1,closeOnEscape:!1,closable:!1,onHide:function(){return n(!1)}},r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{height:300}},r.a.createElement("label",{htmlFor:"companyNameInput",style:{margin:"0px 0px 10px 0px"}}),r.a.createElement(N.Dropdown,{value:c,options:o,optionLabel:"name",autoFocus:!0,filter:!0,filterBy:"name",onChange:function(e){l(e.value),sessionStorage.setItem("cid",e.value.companyId)},placeholder:"Select a Company"}),o&&0===o.length&&r.a.createElement("div",{className:"p-d-flex p-ai-center",style:{fontSize:14,marginTop:15}},r.a.createElement("i",{className:"pi pi-exclamation-triangle",style:{marginRight:10,color:"#FBC02D",fontSize:20}}),r.a.createElement("span",null,"There are currently no companies, click add company button."))))},te=function(){var e=Object(R.a)(Y.a.mark((function e(){var t,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/api/Utilities/asset-class");case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ae=Object(i.f)({type:"COMPANIES",getKey:function(){return"companies"},getData:function(){return H()}}),ne=Object(i.f)({type:"ASSET_CLASS",maxAge:3e5,getKey:function(){return"assetClass"},getData:function(){return te()}}),re=Object(i.f)({type:"TRIAL_BALANCE",maxAge:3e5,getKey:function(){return"trialBalance"},getData:function(){return K({companyId:sessionStorage.getItem("cid"),year:y()})}}),ce=function(e){var t=e.title;return r.a.createElement(x,{title:t},r.a.createElement("div",{className:"p-d-flex p-flex-column p-jc-center p-ai-center",style:{height:"calc(100vh - 120px)"}},r.a.createElement("i",{className:"pi pi-spin pi-spinner",style:{fontSize:24}}),r.a.createElement("p",null,"Loading data...")))},le=function(e){var t=e.title,a=e.error,n=e.refresh;return r.a.createElement(x,{title:t},r.a.createElement("div",{className:"p-d-flex p-flex-column p-jc-center p-ai-center",style:{height:"calc(100vh - 120px)"}},r.a.createElement(S.Button,{icon:"pi pi-refresh pi-24",className:"p-button-rounded p-button-text",onClick:n}),r.a.createElement("div",{style:{width:400,textAlign:"center"}},a.response?a.response.data.errors.error.map((function(e){return r.a.createElement("p",null,e)})):"Network Error"===a.message?r.a.createElement("p",null,s.networkErrorMessage):r.a.createElement("p",null,a.message))))},oe=a(38),ie=function(){var e=s.modules.dashboard,t=r.a.useRef(),a=Object(i.h)(ae),n=a.data,c=a.loading,l=a.error,u=a.refresh,m=r.a.useState(!0),d=Object(o.a)(m,2),p=d[0],f=d[1],y=r.a.useState(!1),b=Object(o.a)(y,2),h=b[0],E=b[1],v=r.a.useState(null),w=Object(o.a)(v,2),C=w[0],N=w[1],S=g(),A=Object(o.a)(S,2),T=A[0],O=A[1].onSelectCompany,I=r.a.useCallback((function(e){return{severity:e.severity,summary:e.summary,detail:e.detail,life:s.toastLifeTime,closable:!1}}),[]);return r.a.useEffect((function(){h||f(!0)}),[h]),r.a.useEffect((function(){n&&N(n.map((function(e){var t=e.id,a=e.companyName,n=e.companyDescription,r=e.cacNumber,c=e.tinNumber;return e.isActive&&{name:a,value:{companyId:t,companyName:a,companyDescription:n,cacNumber:r,tinNumber:c}}})))}),[n]),c?r.a.createElement(ce,{title:e}):l?r.a.createElement(le,{title:e,error:l,refresh:u}):r.a.createElement(x,{title:e},r.a.createElement(Z,{company:T,toast:t.current,toastCallback:I}),T.companyId&&r.a.createElement($,{company:T}),r.a.createElement(G,{showAddCompany:h,setShowAddCompany:E,toast:t.current,toastCallback:I,refresh:u}),null===T.companyId&&r.a.createElement(ee,{setShowAddCompany:E,showCompanyPicker:p,setShowCompanyPicker:f,company:T,onSelectCompany:O,companySelectItems:C}),r.a.createElement(oe.Toast,{baseZIndex:1e3,ref:function(e){return t.current=e}}))},se=function(){var e=r.a.useState([{category:"Net Book Value of Fixed Assets as at 31.12.19",debit:"",credit:"\u20a610,633,000.00"},{category:"Less:",debit:"",credit:""},{category:"Tax Written Down Value as at 31.12.19",debit:"(\u20a62,932,845,440.00)",credit:""},{category:"Unabsorbed Capital Allowance",debit:"(\u20a6561,061,694.00)",credit:""},{category:"Impairment on Receivables",debit:"\u20a644,723,000.00",credit:"(\u20a63,449,184,134.00)"}]),t=Object(o.a)(e,1)[0];return r.a.createElement(A.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(T.Column,{field:"category",header:""}),r.a.createElement(T.Column,{field:"debit",header:"\u20a6"}),r.a.createElement(T.Column,{field:"credit",header:"\u20a6"}))},ue=function(){var e=s.modules.deferredTax,t=Object(i.g)("mode"),a=Object(o.a)(t,2),n=a[0],c=a[1],l=r.a.useState(y()),u=Object(o.a)(l,2),m=u[0],d=u[1],p=b((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(x,{title:e},r.a.createElement(M,{title:e,mode:n,setMode:c,year:m,setYear:d,yearSelectItems:p},{mapping:r.a.createElement(O,{year:m,setYear:d,yearSelectItems:p}),view:r.a.createElement(j,{title:e},r.a.createElement(se,null))}[n]))},me=function(){var e=Object(R.a)(Y.a.mark((function e(t){var a,n,r,c,l,o,i,s,u,m,d,p,f,g;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.companyId,n=t.yearId,r=t.mappedCode,c=t.assetId,l=t.triBalanceId,o=t.isCost,i=t.openingCost,s=t.costAddition,u=t.costDisposal,m=t.costClosing,d=t.openingDepreciation,p=t.depreciationAddition,f=t.depreciationDisposal,g=t.depreciationClosing,e.prev=1,e.next=4,W.a.post("/api/FixedAsset",{companyId:a,yearId:n,mappedCode:r,assetId:c,triBalanceId:l,isCost:o,openingCost:i,costAddition:s,costDisposal:u,costClosing:m,openingDepreciation:d,depreciationAddition:p,depreciationDisposal:f,depreciationClosing:g});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),de=function(e){var t=e.year,a=e.setYear,n=e.yearSelectItems,c=e.assetClassSelectItems,l=e.tbData,i=e.toast,u=e.toastCallback,m=Object(z.b)(),d=m.errors,p=m.handleSubmit,f=m.control,y=g(),b=Object(o.a)(y,1)[0].companyId,h=r.a.useState(),E=Object(o.a)(h,2),v=E[0],C=E[1],x=r.a.useState(!1),O=Object(o.a)(x,2),I=O[0],j=O[1],D=r.a.useState(w(0)),B=Object(o.a)(D,2),k=B[0],M=B[1],L=r.a.useState([]),_=Object(o.a)(L,2),F=_[0],P=_[1],V=[{label:"Cost",value:"cost"},{label:"Depreciation",value:"depreciation"}];r.a.useEffect((function(){if(F){var e=F.reduce((function(e,t){return e+t.debit}),0);C(e),M(w(e))}}),[F]);var U=function(){var e=Object(R.a)(Y.a.mark((function e(t){var a,n,r,c,l,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=2;break}return e.abrupt("return");case 2:if(a=t.assetClass,n=t.assetType,r=t.year,c=t.openingBalance,l=t.addition,o=t.disposal,0!==F.length){e.next=6;break}return i.show(u({severity:"error",detail:"Select at least one account from the trial balance table"})),e.abrupt("return");case 6:if(!isNaN(c)){e.next=11;break}return i.show(u({severity:"error",detail:"Opening balance is not a number"})),e.abrupt("return");case 11:if(!isNaN(l)){e.next=16;break}return i.show(u({severity:"error",detail:"Addition is not a number"})),e.abrupt("return");case 16:if(!isNaN(o)){e.next=19;break}return i.show(u({severity:"error",detail:"Disposal is not a number"})),e.abrupt("return");case 19:return j(!0),e.prev=20,e.next=23,me({companyId:b,yearId:r,mappedCode:"fixedasset",assetId:a,triBalanceId:F.map((function(e){return e.id})),isCost:"cost"===n,openingCost:"cost"===n?Number(c):0,costAddition:"cost"===n?Number(l):0,costDisposal:"cost"===n?Number(o):0,costClosing:"cost"===n?Number(v):0,openingDepreciation:"cost"!==n?Number(c):0,depreciationAddition:"cost"!==n?Number(l):0,depreciationDisposal:"cost"!==n?Number(o):0,depreciationClosing:"cost"!==n?Number(v):0});case 23:200===e.sent.status&&i.show(u({severity:"success",detail:"Fixed asset mapped successfully"})),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(20),i.show(u({severity:"error",summary:"Network Error",detail:s.networkErrorMessage}));case 30:return e.prev=30,j(!1),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[20,27,30,33]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"p-d-flex p-flex-column p-jc-between",onSubmit:p(U)},r.a.createElement("div",{className:"p-d-flex p-ai-start p-jc-between",style:{marginBottom:20}},r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Fixed Asset Class"),r.a.createElement(z.a,{name:"assetClass",control:f,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(N.Dropdown,{style:{marginBottom:5,width:200},value:e.value,options:c,onChange:function(t){return e.onChange(t.target.value)}})}}),d.assetClass&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Fixed Asset Class is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Fixed Asset Type"),r.a.createElement(z.a,{name:"assetType",control:f,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(N.Dropdown,{style:{marginBottom:5,width:200},value:e.value,options:V,onChange:function(t){return e.onChange(t.target.value)}})}}),d.assetType&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Fixed Asset Type is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Year"),r.a.createElement(z.a,{name:"year",control:f,rules:{required:!0},defaultValue:t,render:function(e){return r.a.createElement(N.Dropdown,{style:{marginBottom:5,width:200},value:t,options:n,onChange:function(e){return a(e.target.value)},placeholder:"Year"})}}),d.year&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Year is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Closing Balance"),r.a.createElement(z.a,{name:"closingBalance",control:f,defaultValue:k,render:function(e){return r.a.createElement(q.InputText,{disabled:!0,style:{width:200},placeholder:"Closing Balance",value:k})}}))),r.a.createElement("div",{className:"p-d-flex p-ai-start p-jc-between"},r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Opening Balance"),r.a.createElement(z.a,{name:"openingBalance",control:f,rules:{required:!0},defaultValue:"0",render:function(e){return r.a.createElement(q.InputText,{style:{width:200},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),d.openingBalance&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Opening Balance is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Addition"),r.a.createElement(z.a,{name:"addition",control:f,rules:{required:!0},defaultValue:"0",render:function(e){return r.a.createElement(q.InputText,{style:{width:200},value:e.value,onChange:function(t){var a;return e.onChange(null===(a=t.target)||void 0===a?void 0:a.value)}})}}),d.addition&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Addition is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Disposal"),r.a.createElement(z.a,{name:"disposal",control:f,rules:{required:!0},defaultValue:"0",render:function(e){return r.a.createElement(q.InputText,{style:{width:200},value:e.value,onChange:function(t){var a;return e.onChange(null===(a=t.target)||void 0===a?void 0:a.value)}})}}),d.disposal&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Disposal is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,color:"transparent"}},"Submit"),r.a.createElement(S.Button,{type:"submit",label:I?null:"Submit",icon:I?"pi pi-spin pi-spinner":null,style:{width:200}})))),r.a.createElement(A.DataTable,{value:l,className:"p-datatable-gridlines",selection:F,onSelectionChange:function(e){return P(e.value)},style:{marginTop:50}},r.a.createElement(T.Column,{selectionMode:"multiple",style:{width:"3em"}}),r.a.createElement(T.Column,{field:"accountId",header:"Account ID"}),r.a.createElement(T.Column,{field:"item",header:"Account Description"}),r.a.createElement(T.Column,{field:"debitAmt",header:"Debit Amt"}),r.a.createElement(T.Column,{field:"creditAmt",header:"Credit Amt"}),r.a.createElement(T.Column,{field:"mappedCode",header:"Mapped To"})))},pe=function(){var e=s.modules.fixedAsset,t=r.a.useRef(),a=Object(i.h)(ne),n=a.data,c=a.loading,l=a.error,u=a.refresh,m=Object(i.h)(re),d=m.data,p=m.loading,f=m.error,g=m.refresh,h=Object(i.g)("mode"),E=Object(o.a)(h,2),v=E[0],C=E[1],N=r.a.useState(y()),S=Object(o.a)(N,2),A=S[0],T=S[1],O=r.a.useState([]),I=Object(o.a)(O,2),D=I[0],B=I[1],k=r.a.useState([]),L=Object(o.a)(k,2),_=L[0],F=L[1],P=b((function(e){return{label:e.toString(),value:e.toString()}})),Y=r.a.useCallback((function(e){return{severity:e.severity,summary:e.summary,detail:e.detail,life:s.toastLifeTime,closable:!1}}),[]);return r.a.useEffect((function(){n&&F(n.map((function(e){var t=e.id;return{label:e.name,value:t}})))}),[n]),r.a.useEffect((function(){d&&B(d?d.filter((function(e){return!(""===e.accountId&&""===e.item&&0===e.debit&&0===e.credit)&&!e.item.toLowerCase().includes("total")})).map((function(e){return Object(Q.a)(Object(Q.a)({},e),{},{debitAmt:w(e.debit),creditAmt:w(e.credit)})})):[])}),[d]),c||p?r.a.createElement(ce,{title:e}):l?r.a.createElement(le,{title:e,error:l,refresh:u}):f?r.a.createElement(le,{title:e,error:f,refresh:g}):r.a.createElement(x,{title:e},r.a.createElement(M,{title:e,mode:v,setMode:C,year:A,setYear:T,yearSelectItems:P},{mapping:r.a.createElement(de,{year:A,setYear:T,yearSelectItems:P,assetClassSelectItems:_,tbData:D,toast:t.current,toastCallback:Y}),view:r.a.createElement(j,{title:e})}[v]),r.a.createElement(oe.Toast,{baseZIndex:1e3,ref:function(e){return t.current=e}}))},fe=function(){return r.a.createElement(i.b,{to:"/login"})},ge=function(){var e=r.a.useState([{category:"Profit Before Tax",debit:"",credit:"\u20a6448,255,000.00"},{category:r.a.createElement("strong",null,"Add:Disallowable Expenses"),debit:"",credit:""},{category:"Depreciation",debit:"\u20a64,565,000.00",credit:""},{category:"Foreign exchange loss",debit:"\u20a6923,000.00",credit:""},{category:"Loss allowance on trade receivable",debit:"\u20a644,723,000.00",credit:"\u20a667,928,000.00"}]),t=Object(o.a)(e,1)[0];return r.a.createElement(A.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(T.Column,{field:"category",header:""}),r.a.createElement(T.Column,{field:"debit",header:"\u20a6"}),r.a.createElement(T.Column,{field:"credit",header:"\u20a6"}))},ye=function(){var e=s.modules.incomeTax,t=Object(i.g)("mode"),a=Object(o.a)(t,2),n=a[0],c=a[1],l=r.a.useState(y()),u=Object(o.a)(l,2),m=u[0],d=u[1],p=b((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(x,{title:e},r.a.createElement(M,{title:e,mode:n,setMode:c,year:m,setYear:d,yearSelectItems:p},{mapping:r.a.createElement(O,{year:m,setYear:d,yearSelectItems:p}),view:r.a.createElement(j,{title:e},r.a.createElement(ge,null))}[n]))},be=function(){var e=r.a.useState([{category:"Computers & Office Equipment",credit:"\u20a626,714,000.00"},{category:"Investment Allowance @ 10%",credit:"\u20a62,671,400.00"}]),t=Object(o.a)(e,1)[0];return r.a.createElement(A.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(T.Column,{field:"category",header:"Additions to:"}),r.a.createElement(T.Column,{field:"credit",header:"\u20a6"}))},he=function(){var e=s.modules.investmentAllowance,t=Object(i.g)("mode"),a=Object(o.a)(t,2),n=a[0],c=a[1],l=r.a.useState(y()),u=Object(o.a)(l,2),m=u[0],d=u[1],p=b((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(x,{title:e},r.a.createElement(M,{title:e,mode:n,setMode:c,year:m,setYear:d,yearSelectItems:p},r.a.createElement(j,{title:e},r.a.createElement(be,null))))},Ee=function(){var e=r.a.useState([{category:"Profit Before Taxation",credit:"\u20a6502,563,000.00"},{category:"I.T. Levy @ 1% Thereon",credit:"\u20a65,025,630.00"}]),t=Object(o.a)(e,1)[0];return r.a.createElement(A.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(T.Column,{field:"category",header:""}),r.a.createElement(T.Column,{field:"credit",header:"\u20a6"}))},ve=function(){var e=s.modules.itLevy,t=Object(i.g)("mode"),a=Object(o.a)(t,2),n=a[0],c=a[1],l=r.a.useState(y()),u=Object(o.a)(l,2),m=u[0],d=u[1],p=b((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(x,{title:e},r.a.createElement(M,{title:e,mode:n,setMode:c,year:m,setYear:d,yearSelectItems:p},r.a.createElement(j,{title:e},r.a.createElement(Ee,null))))},we=function(){var e=Object(R.a)(Y.a.mark((function e(t){var a,n,r,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.prev=1,e.next=4,W.a.post("/api/Authentication/login",{email:a,password:n});case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(z.b)(),t=e.errors,a=e.handleSubmit,n=e.control,c=p(),l=Object(o.a)(c,2),u=l[0].isAuthenticated,m=l[1].onLoginSuccess,d=Object(i.i)().push,f=r.a.useState(!1),g=Object(o.a)(f,2),y=g[0],b=g[1],h=r.a.useRef(),E=r.a.useCallback((function(e){return{severity:"error",summary:e.summary,detail:e.detail,life:s.toastLifeTime,closable:!1}}),[]),v=function(){var e=Object(R.a)(Y.a.mark((function e(t){var a,n,r,c,l,o,i,u;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return");case 2:return b(!0),a=t.email,n=t.password,e.prev=4,e.next=7,we({email:a,password:n});case 7:r=e.sent,c=r.token,l=r.user,o=l.id,i=l.firstName,u=l.lastName,m({id:o,token:c,email:a,firstName:i,lastName:u}),d(s.routes.dashboard),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),b(!1),e.t0.response?e.t0.response.data.errors.error.map((function(e){return h.current.show(E({summary:"Login Error",detail:e}))})):h.current.show(E({summary:"Network Error",detail:s.networkErrorMessage}));case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}();if(u){var w=sessionStorage.getItem("path")||s.routes.dashboard;return sessionStorage.removeItem("path"),r.a.createElement(i.b,{to:w})}return r.a.createElement("div",{className:"p-d-flex p-jc-center p-ai-center",style:{height:"100vh"}},r.a.createElement(B.Card,{header:r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"p-text-center accent-color"},"Tax Computation"),r.a.createElement("div",{className:"divider"})),style:{width:320}},r.a.createElement("form",{className:"p-d-flex p-flex-column",onSubmit:a(v)},r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(z.a,{name:"email",control:n,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(q.InputText,{style:{marginBottom:5,width:"100%"},placeholder:"Email",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),t.email&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Email is required")),r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(z.a,{name:"password",control:n,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(q.InputText,{style:{marginBottom:5,width:"100%"},type:"password",placeholder:"Password",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),t.password&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Password is required")),r.a.createElement(S.Button,{type:"submit",label:y?null:"Login",icon:y?"pi pi-spin pi-spinner":null,style:{width:"100%"}}))),r.a.createElement(oe.Toast,{ref:function(e){return h.current=e}}))},xe=function(){var e=r.a.useState([{category:"0.5% OF TURNOVER",credit:"\u20a6620,800,000.00"},{category:"Dividend Income",credit:""},{category:r.a.createElement("strong",null,"Minimum Tax Payable"),credit:"\u20a63,104,000.00"}]),t=Object(o.a)(e,1)[0];return r.a.createElement(A.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(T.Column,{field:"category",header:""}),r.a.createElement(T.Column,{field:"credit",header:"\u20a6"}))},Ne=function(){var e=s.modules.minimumTax,t=Object(i.g)("mode"),a=Object(o.a)(t,2),n=a[0],c=a[1],l=r.a.useState(y()),u=Object(o.a)(l,2),m=u[0],d=u[1],p=b((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(x,{title:e},r.a.createElement(M,{title:e,mode:n,setMode:c,year:m,setYear:d,yearSelectItems:p},r.a.createElement(j,{title:e},r.a.createElement(xe,null))))},Se=function(){return r.a.createElement(x,{title:""},r.a.createElement(B.Card,{style:{width:"100%"}},r.a.createElement("h1",{style:{margin:0}},"404 - Not Found"),r.a.createElement("p",null,"Sorry the page you are looking for doesn't exist.")))},Ae=function(){var e=r.a.useState([{category:"Revenue",total:"\u20a6584,132,000.00"},{category:"Other income",total:"\u20a636,656,000.00"},{category:"Other operating gain/loss",total:"(\u20a618,640,000.00)"},{category:"Adminitrative expenses",total:"(\u20a6121,950,000.00)"},{category:"Profit/(Loss) before Tax",total:"\u20a6448,255,000.00"}]),t=Object(o.a)(e,1)[0];return r.a.createElement(A.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(T.Column,{field:"category",header:""}),r.a.createElement(T.Column,{field:"total",header:"Total"}))},Te=function(){var e=s.modules.profit_loss,t=Object(i.g)("mode"),a=Object(o.a)(t,2),n=a[0],c=a[1],l=r.a.useState(y()),u=Object(o.a)(l,2),m=u[0],d=u[1],p=b((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(x,{title:e},r.a.createElement(M,{title:e,mode:n,setMode:c,year:m,setYear:d,yearSelectItems:p},{mapping:r.a.createElement(O,{year:m,setYear:d,yearSelectItems:p}),view:r.a.createElement(j,{title:e},r.a.createElement(Ae,null))}[n]))},Oe=function(e){return function(t){var a=p(),n=Object(o.a)(a,1)[0].isAuthenticated,c=Object(i.i)().replace;return r.a.useEffect((function(){null===n||n||c(s.routes.login)}),[n,c]),r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(e,t))}},Ie=[{path:s.routes.home,name:"HOME",exact:!0,component:fe},{path:s.routes.login,name:"LOGIN",exact:!0,component:Ce},{path:s.routes.dashboard,name:"DASHBOARD",exact:!0,component:Oe(ie),resources:[ae]},{path:"".concat(s.routes.fixed_asset).concat("/:mode"),name:"FIXED_ASSET",exact:!0,component:Oe(pe),resources:[ne,re]},{path:"".concat(s.routes.profit_loss).concat("/:mode"),name:"PROFIT_LOSS",exact:!0,component:Oe(Te)},{path:"".concat(s.routes.income_tax).concat("/:mode"),name:"INCOME_TAX",exact:!0,component:Oe(ye)},{path:"".concat(s.routes.deferred_tax).concat("/:mode"),name:"DEFERRED_TAX",exact:!0,component:Oe(ue)},{path:"".concat(s.routes.minimum_tax).concat("/:mode"),name:"MINIMUM_TAX",exact:!0,component:Oe(Ne)},{path:"".concat(s.routes.it_levy).concat("/:mode"),name:"IT_LEVY",exact:!0,component:Oe(ve)},{path:"".concat(s.routes.capital_allowance).concat("/:mode"),name:"CAPITAL_ALLOWANCE",exact:!0,component:Oe(F)},{path:"".concat(s.routes.investment_allowance).concat("/:mode"),name:"INVESTMENT_ALLOWANCE",exact:!0,component:Oe(he)},{path:"".concat(s.routes.balancing_adjustment).concat("/:mode"),name:"BALANCING_ADJUSTMENT",exact:!0,component:Oe(L)},{path:"*",name:"NOT_FOUND",component:Se}],je=Object(i.e)();var De=function(){var e=p(),t=Object(o.a)(e,2),a=t[0],n=t[1].initAuth,c=g(),l=Object(o.a)(c,2),s=l[0],u=l[1].initCompany;return window.onbeforeunload=function(){E(a,"auth"),E(s,"company"),sessionStorage.setItem("path",je.location.pathname)},window.onload=function(){n(v("auth")),u(v("company"))},r.a.createElement(i.d,{history:je,routes:Ie},r.a.createElement(i.c,null))};m.g.devtools=!0,W.a.defaults.baseURL=window.configs.baseURL,l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(De,null)),document.getElementById("root"))},73:function(e,t,a){e.exports=a(144)},79:function(e,t,a){}},[[73,1,2]]]);
//# sourceMappingURL=main.4fd7ab8e.chunk.js.map