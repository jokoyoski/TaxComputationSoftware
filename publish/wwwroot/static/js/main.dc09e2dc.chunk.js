(this["webpackJsonptaxcomputation-spa"]=this["webpackJsonptaxcomputation-spa"]||[]).push([[0],{146:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),l=a.n(o),c=(a(79),a(80),a(1)),s=(a(81),a(82),a(83),a(84),a(6)),i={startYear:1980,toastLifeTime:6e3,modes:["adding","mapping","view"],modules:{dashboard:"Dashboard",fixedAsset:"Fixed Asset",profit_loss:"Profit & Loss",incomeTax:"Income Tax",deferredTax:"Deferred Tax",minimumTax:"Minimum Tax",itLevy:"I.T Levy",capitalAllowance:"Capital Allowance",investmentAllowance:"Investment Allowance",balancingAdjustment:"Balancing Adjustment"},routes:{home:"/",login:"/login",forgot_password:"/forgot_password",reset_password:"/reset_password",dashboard:"/dashboard",fixed_asset:"/fixed_asset",profit_loss:"/profit_loss",income_tax:"/income_tax",deferred_tax:"/deferred_tax",minimum_tax:"/minimum_tax",it_levy:"/it_levy",capital_allowance:"/capital_allowance",investment_allowance:"/investment_allowance",balancing_adjustment:"/balancing_adjustment"},nonMappedModules:["Minimum Tax","Investment Allowance","I.T Levy"],mappingCode:{fixedasset:"fixedasset",profitandloss:"profitandloss",balancingadjustment:"balancingadjustment",deferredtax:"deferredtax",incometax:"incometax"},networkErrorMessage:"Unable to reach server, check your network or contact your admin"},u=a(10),m=a(8),d=Object(m.d)({initialState:{companyId:null,companyName:"",companyDescription:"",cacNumber:"",tinNumber:""},actions:{initCompany:function(e){return function(t){return(0,t.setState)(e)}},onSelectCompany:function(e){var t=e.companyId,a=e.companyName,n=e.companyDescription,r=e.cacNumber,o=e.tinNumber;return function(e){return(0,e.setState)({companyId:t,companyName:a,companyDescription:n,cacNumber:r,tinNumber:o})}},resetCompany:function(){return function(e){return(0,e.setState)({companyId:null,companyName:"",companyDescription:"",cacNumber:"",tinNumber:""})}}},name:"company"}),p=Object(m.c)(d),f=a(2),g=a.n(f),h=a(3),y=a(16),v=a(17),E=a(4),b=a(7),w=function(e){var t=e.placeholder,a=e.autoComplete,n=e.value,o=e.onChange,l=r.a.useState(!1),s=Object(c.a)(l,2),i=s[0],u=s[1];return r.a.useEffect((function(){return u((function(e){return!!n&&e}))}),[n]),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%",paddingRight:33},type:i?"text":"password",autoComplete:a,placeholder:t,value:n,onChange:o}),n&&r.a.createElement("i",{className:i?"pi pi-eye-slash":"pi pi-eye",style:{position:"absolute",left:"auto",right:10,top:12.5},onClick:function(){return u(!i)}}))},x=a(12),C=a.n(x),N=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.prev=1,e.next=4,C.a.post("/api/Authentication/login",{email:a,password:n});case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,e.prev=1,e.next=4,C.a.post("/api/Authentication/forgot-password/".concat(a));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.token,n=t.newPassword,e.prev=1,e.next=4,C.a.post("/api/Authentication/reset-password",{token:a,newPassword:n,confirmPassword:n});case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentPassword,n=t.newPassword,e.prev=1,e.next=4,C.a.post("/api/Authentication/change-password",{currentPassword:a,newPassword:n,confirmPassword:n});case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),A=Object(m.d)({initialState:{isAuthenticated:null,userId:null,token:"",email:"",firstName:"",lastName:""},actions:{initAuth:function(e){return function(t){var a=t.setState,n=t.getState;a(e),null===n().isAuthenticated&&a({isAuthenticated:!1})}},onLoginSuccess:function(e){var t=e.id,a=e.token,n=e.email,r=e.firstName,o=e.lastName;return function(e){return(0,e.setState)({isAuthenticated:!0,userId:t,token:a,email:n,firstName:r,lastName:o})}},onLogout:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){var a=e.setState;t.forEach((function(e){return e instanceof Function?e():null})),a({isAuthenticated:!1,userId:null,token:"",email:"",firstName:"",lastName:""})}}},name:"auth"}),I=Object(m.c)(A),j=function(){return(new Date).getFullYear()},k=function(){for(var e=[],t=(new Date).getFullYear();t>=i.startYear;t--)e.push(t);return e},B=function(e){return i.nonMappedModules.includes(e)?"view":[i.modules.balancingAdjustment,i.modules.capitalAllowance].includes(e)?"adding":"mapping"},D=function(e,t){try{var a=JSON.stringify(e);sessionStorage.setItem(t,a)}catch(n){console.log(n)}},P=function(e){try{var t=sessionStorage.getItem(e);if(null===t)return;return sessionStorage.removeItem(e),JSON.parse(t)}catch(a){return}},R=function(e){return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e)},M=function(e){return{severity:e.severity,summary:e.summary,detail:e.detail,life:i.toastLifeTime,closable:!1}},q=function(e){var t=e.setShowChangePassword,a=Object(s.i)(),n=Object(c.a)(a,1)[0],o=Object(E.b)(),l=o.errors,m=o.handleSubmit,d=o.control,f=I(),b=Object(c.a)(f,2)[1].onLogout,x=p(),C=Object(c.a)(x,2)[1].resetCompany,N=r.a.useState(!1),S=Object(c.a)(N,2),T=S[0],A=S[1],j=r.a.useRef();r.a.useEffect((function(){n.location.state&&j.current.show(M({severity:"success",detail:n.location.state}))}),[n]);var k=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,r,o,l,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T){e.next=2;break}return e.abrupt("return");case 2:if(a=t.currentPassword,r=t.newPassword,a!==r){e.next=6;break}return j.current.show(M({severity:"error",detail:"Current Password and New Password cannot be the same"})),e.abrupt("return");case 6:return A(!0),e.prev=7,e.next=10,O({currentPassword:a,newPassword:r});case 10:o=e.sent,l=o.message,n.location.state=l,b(C),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),A(!1),e.t0.response?(c=e.t0.response.data,j.current.show(M({severity:"error",summary:"Error",detail:c.message||c.errors.NewPassword[0]}))):j.current.show(M({severity:"error",summary:"Network Error",detail:i.networkErrorMessage}));case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"p-d-flex p-jc-center p-ai-center overlay"},r.a.createElement(y.Card,{style:{width:320}},r.a.createElement("form",{className:"p-d-flex p-flex-column",onSubmit:m(k)},r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"currentPassword",control:d,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(w,{placeholder:"Current Password",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),l.currentPassword&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Current Password is required")),r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"newPassword",control:d,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(w,{placeholder:"New Password",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),l.newPassword&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"New Password is required")),r.a.createElement(u.Button,{type:"submit",label:T?null:"Change Password",icon:T?"pi pi-spin pi-spinner":null,style:{width:"100%"}})),!T&&r.a.createElement("p",{className:"back-to-app-link",onClick:function(){return t((function(e){return!e}))}},"Back to app")),r.a.createElement(v.Toast,{ref:function(e){return j.current=e}}))},L=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o,l,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,r=t.confirmPassword,o=t.phoneNumber,l=t.firstName,c=t.lastName,e.prev=1,e.next=4,C.a.post("/api/Users/add-user",{email:a,password:n,confirmPassword:r,phoneNumber:o,firstName:l,lastName:c});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=e.setShowCreateUser,a=Object(E.b)(),n=a.errors,o=a.handleSubmit,l=a.control,s=r.a.useState(!1),m=Object(c.a)(s,2),d=m[0],p=m[1],f=r.a.useRef(),x=function(){var e=Object(h.a)(g.a.mark((function e(a){var n,r,o,l,c,s,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return");case 2:return n=a.email,r=a.password,o=a.firstName,l=a.lastName,c=a.phoneNumber,s=r,p(!0),e.prev=5,e.next=8,L({email:n,password:r,confirmPassword:s,firstName:o,lastName:l,phoneNumber:c});case 8:201===e.sent.status&&(f.current.show(M({severity:"success",detail:"User created successfully"})),setTimeout((function(){return t(!1)}),2e3)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),p(!1),e.t0.response?(u=e.t0.response.data,f.current.show(M({severity:"error",summary:u[0].code,detail:u[0].description}))):f.current.show(M({severity:"error",summary:"Network Error",detail:i.networkErrorMessage}));case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"p-d-flex p-jc-center p-ai-center overlay"},r.a.createElement(y.Card,{style:{width:320}},r.a.createElement("form",{className:"p-d-flex p-flex-column",onSubmit:o(x)},r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"email",control:l,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%",paddingRight:33},placeholder:"Email",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),n.email&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Email is required")),r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"password",control:l,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(w,{placeholder:"Password",autoComplete:"new-password",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),n.password&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Password is required")),r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"firstName",control:l,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%",paddingRight:33},placeholder:"First Name",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),n.firstName&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"First Name is required")),r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"lastName",control:l,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%",paddingRight:33},placeholder:"Last Name",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),n.lastName&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Last Name is required")),r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"phoneNumber",control:l,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%",paddingRight:33},placeholder:"Phone Number",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),n.phoneNumber&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Phone Number is required")),r.a.createElement(u.Button,{type:"submit",label:d?null:"Create User",icon:d?"pi pi-spin pi-spinner":null,style:{width:"100%"}})),!d&&r.a.createElement("p",{className:"back-to-app-link",onClick:function(){return t((function(e){return!e}))}},"Back to app")),r.a.createElement(v.Toast,{ref:function(e){return f.current=e}}))},F=Object(m.d)({initialState:{companies:null,moduleItems:null,trialBalance:null},actions:{initResource:function(e){return function(t){return(0,t.setState)(e)}},onCompanies:function(e){return function(t){return(0,t.setState)({companies:e})}},onModuleItems:function(e){return function(t){return(0,t.setState)({moduleItems:e})}},onTrialBalance:function(e){return function(t){return(0,t.setState)({trialBalance:e})}},resetResources:function(){return function(e){return(0,e.setState)({companies:null,moduleItems:null,trialBalance:null})}}},name:"resources"}),V=Object(m.c)(F),z=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.moduleCode,e.prev=1,e.next=4,C.a.get("/api/Utilities/module-items/".concat(a));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.assetName,n=t.initial,r=t.annual,e.prev=1,e.next=4,C.a.post("/api/Utilities/asset-class",{assetName:a,initial:n,annual:r});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t=e.setShowCreateAsset,a=Object(E.b)(),n=a.errors,o=a.handleSubmit,l=a.control,s=r.a.useState(!1),m=Object(c.a)(s,2),d=m[0],p=m[1],f=r.a.useRef(),w=function(){var e=Object(h.a)(g.a.mark((function e(a){var n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return");case 2:return n=a.assetName,r=a.initial,o=a.annual,p(!0),e.prev=4,e.next=7,Y({assetName:n,initial:r||0,annual:o||0});case 7:200===e.sent.status&&(f.current.show(M({severity:"success",detail:"Asset created successfully"})),setTimeout((function(){return t(!1)}),2e3)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),p(!1),e.t0.response?e.t0.response.data.errors.error.forEach((function(e){f.current.show(M({severity:"error",detail:e}))})):f.current.show(M({severity:"error",summary:"Network Error",detail:i.networkErrorMessage}));case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"p-d-flex p-jc-center p-ai-center overlay"},r.a.createElement(y.Card,{style:{width:320}},r.a.createElement("form",{className:"p-d-flex p-flex-column",onSubmit:o(w)},r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"assetName",control:l,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%",paddingRight:33},placeholder:"Asset Name",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),n.assetName&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Asset Name is required")),r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"initial",control:l,rules:{pattern:/^\d*(\.\d+)?$/},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%",paddingRight:33},placeholder:"Initial",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),n.initial&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Initial must contain only numbers")),r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"annual",control:l,rules:{pattern:/^\d*(\.\d+)?$/},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%",paddingRight:33},placeholder:"Annual",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),n.annual&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Annual must contain only numbers")),r.a.createElement(u.Button,{type:"submit",label:d?null:"Create Asset",icon:d?"pi pi-spin pi-spinner":null,style:{width:"100%"}})),!d&&r.a.createElement("p",{className:"back-to-app-link",onClick:function(){return t((function(e){return!e}))}},"Back to app")),r.a.createElement(v.Toast,{ref:function(e){return f.current=e}}))},G=function(e){var t=e.title,a=e.loading,n=Object(s.j)().replace,o=r.a.useState(),l=Object(c.a)(o,2),m=l[0],d=l[1],f=r.a.useState(),g=Object(c.a)(f,2),h=g[0],y=g[1],v=r.a.useState(),E=Object(c.a)(v,2),b=E[0],w=E[1],x=r.a.useState(),C=Object(c.a)(x,2),N=C[0],S=C[1],T=p(),O=Object(c.a)(T,2),A=O[0].companyName,I=O[1].resetCompany,j=V(),k=Object(c.a)(j,2)[1].resetResources;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-d-flex p-jc-between p-ai-center drop-shadow",style:{background:"#fff",width:"calc(100% - 256px)",height:66,padding:"0px 20px",position:"fixed",borderLeft:"2px solid #f5f6f8",zIndex:1}},r.a.createElement("p",{style:{marginTop:5,marginBottom:0,fontSize:18,fontWeight:600}},t),!a&&r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginRight:10}},A),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(u.Button,{icon:"pi pi-cog pi-20",className:"p-button-text",onClick:function(){return d(!m)}}),m&&r.a.createElement("div",{className:"drop-shadow",style:{position:"absolute",right:0,width:170,padding:5,background:"#fff"}},r.a.createElement("p",{className:"settings-item",onClick:function(){w(!b),d(!1)}},"Create User"),r.a.createElement("p",{className:"settings-item",onClick:function(){S(!N),d(!1)}},"Create Asset"),r.a.createElement("p",{className:"settings-item",onClick:function(){d(!1),I(),k(),n(i.routes.home)}},"Switch Company"),r.a.createElement("p",{className:"settings-item",onClick:function(){y(!h),d(!1)}},"Change Password"))))),h&&r.a.createElement(q,{setShowChangePassword:y}),b&&r.a.createElement(_,{setShowCreateUser:w}),N&&r.a.createElement(U,{setShowCreateAsset:S}))},W=function(e){var t=e.selectedTitle,a=I(),n=Object(c.a)(a,2),o=n[0],l=o.firstName,u=o.lastName,m=o.email,d=n[1].onLogout,f=p(),g=Object(c.a)(f,2),h=g[0].companyId,y=g[1].resetCompany,v=[{title:"Dashboard",href:i.routes.dashboard},{title:i.modules.fixedAsset,href:"".concat(i.routes.fixed_asset,"/").concat(B(i.modules.fixedAsset))},{title:i.modules.profit_loss,href:"".concat(i.routes.profit_loss,"/").concat(B(i.modules.profit_loss))},{title:i.modules.incomeTax,href:"".concat(i.routes.income_tax,"/").concat(B(i.modules.incomeTax))},{title:i.modules.deferredTax,href:"".concat(i.routes.deferred_tax,"/").concat(B(i.modules.deferredTax))},{title:i.modules.minimumTax,href:"".concat(i.routes.minimum_tax,"/").concat(B(i.modules.minimumTax))},{title:i.modules.itLevy,href:"".concat(i.routes.it_levy,"/").concat(B(i.modules.itLevy))},{title:i.modules.capitalAllowance,href:"".concat(i.routes.capital_allowance,"/").concat(B(i.modules.capitalAllowance))},{title:i.modules.investmentAllowance,href:"".concat(i.routes.investment_allowance,"/").concat(B(i.modules.investmentAllowance))},{title:i.modules.balancingAdjustment,href:"".concat(i.routes.balancing_adjustment,"/").concat(B(i.modules.balancingAdjustment))}];return r.a.createElement("div",{className:"p-d-flex",style:{position:"fixed",zIndex:1}},r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{width:256,height:"100vh",background:"#fff"}},r.a.createElement("h2",{className:"accent-color",style:{margin:"5px 0",padding:"10px 20px"}},"Tax Computation"),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{style:{padding:"10px 20px"}},r.a.createElement("div",{style:{marginTop:10,background:"#f5f6f8",padding:10}},r.a.createElement("h4",{style:{marginTop:5,marginBottom:0}},l," ",u),r.a.createElement("p",{style:{fontSize:12,margin:0}},m))),v.map((function(e,a){return r.a.createElement(s.a,{key:a,href:h?e.href:null,className:"sidebar-link",style:{padding:"5px 20px"}},r.a.createElement("p",{className:t.toLowerCase()===e.title.toLowerCase()?"accent-color":"",style:{marginTop:5,marginBottom:0}},e.title))})),r.a.createElement("div",{className:"divider",style:{margin:"10px 0px"}}),r.a.createElement("div",{className:"sidebar-link",style:{padding:"0px 20px"}},r.a.createElement("p",{style:{margin:0,cursor:"pointer"},onClick:function(){d(y)}},"Logout"))))},X=function(e){var t=e.title,a=e.loading,n=e.children;return r.a.createElement("div",{className:"p-d-flex"},r.a.createElement(W,{selectedTitle:t}),r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{width:"100%",marginLeft:256}},r.a.createElement(G,{title:t,loading:a}),r.a.createElement("div",{style:{padding:20,marginTop:66}},n)))},H=function(e){var t=e.headers;return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement("p",{key:t,className:"view-description"},e)})))},J=function(e){var t=e.title,a=e.year,n=e.children,o=p(),l=Object(c.a)(o,1)[0].companyName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{headers:[l.toUpperCase(),"".concat(a," INCOME TAX COMPUTATIONS"),"AUDITED ACCOUNTS FOR THE YEAR ENDED 31 DECEMBER, ".concat(a-1),{"Fixed Asset":"ANALYSIS OF FIXED ASSET MOVEMENT","Profit & Loss":"SUMMARY OF PROFIT & LOSS ACCOUNTS","Income Tax":"INCOME TAX COMPUTATION","Deferred Tax":"DEFERRED TAX COMPUTATION","Minimum Tax":"MINIMUM TAX COMPUTATION","I.T Levy":"I.T. LEVY COMPUTATION (BASED ON THE 2007 CITA AMENDMENT)","Investment Allowance":"COMPUTATION OF INVESTMENT ALLOWANCE","Balancing Allowance":"COMPUTATION OF BALANCING ALLOWANCE/CHARGE"}[t]]}),n)},Z=a(14),K=a(5),$=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o,l,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.year,n=t.assetId,r=t.cost,o=t.salesProceed,l=t.yearBought,c=t.companyId,e.prev=1,(s=new FormData).append("Year",a),s.append("AssetId",n),s.append("Cost",r),s.append("SalesProceed",o),s.append("YearBought",l),s.append("CompanyId",c),e.next=11,C.a.post("/api/BalancingAdjustment",s,{headers:{"Content-Type":"multipart/form-data"}});case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.companyId,n=t.year,e.prev=1,e.next=4,C.a.get("/api/BalancingAdjustment?companyId=".concat(a,"&year=").concat(n));case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){return r.a.createElement("div",{className:"p-d-flex p-flex-column p-jc-center p-ai-center",style:{width:"100%"}},r.a.createElement("i",{className:"pi pi-spin pi-spinner",style:{fontSize:24}}))},te=function(e){var t=e.year,a=r.a.useRef(!1),n=p(),o=Object(c.a)(n,1)[0].companyId,l=r.a.useState(),s=Object(c.a)(l,2),i=s[0],u=s[1],m=r.a.useState(),d=Object(c.a)(m,2),f=d[0],y=d[1],v=r.a.useState([]),E=Object(c.a)(v,2),b=E[0],w=E[1];return r.a.useEffect((function(){return a.current=!0,function(){var e=Object(h.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(null),u(!0),e.next=5,Q({companyId:o,year:t});case 5:n=e.sent,a.current&&w((function(){var e=[];return n.values.balancingAdjustments.forEach((function(a,o){var l={},c={};l.category=r.a.createElement("strong",null,a.assetName),e.push(l),a.assetYear.forEach((function(n,r){var o={},l={},s={},i={},u={},m={};o.category="Cost up to ".concat(n.yearBought," YOA"),o.credit=R(n.cost),o.cost=R(n.cost),l.category="Initial Allowance",l.credit=R(n.initialAllowance),s.category="Annual allowances up to ".concat(t-1),s.credit=R(n.annualAllowance),i.category="Residue at 31.12.".concat(t-1),i.credit=R(n.residue),i.twdv=R(n.residue),u.category="Sales Proceeds",u.credit=R(n.salesProceed),u.salesProceed=R(n.salesProceed),n.balancingCharge>0?(m.category="Balancing Charge",m.credit=R(n.balancingCharge),m.balancingCharge=R(n.balancingCharge)):(m.category="Balancing Allowance",m.credit=R(n.balancingAllowance),m.balancingCharge=R(n.balancingAllowance)),e.push(o),e.push(l),e.push(s),e.push(i),e.push(u),e.push(m),r<a.assetYear.length-1&&e.push(c)})),o<n.values.balancingAdjustments.length-1&&e.push(c)})),e})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a.current&&(e.t0.response?y(e.t0.response.data.errors[0]):y(e.t0.message));case 12:return e.prev=12,a.current&&u(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}()(),function(){return a.current=!1}}),[o,t]),f?r.a.createElement("p",{style:{color:"#f00"}},f):i?r.a.createElement(ee,null):0===b.length?r.a.createElement("p",{style:{color:"#f00"}},"Currently, no data for the selected company"):r.a.createElement(Z.DataTable,{value:b,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(K.Column,{field:"category",header:""}),r.a.createElement(K.Column,{field:"credit",header:""}),r.a.createElement(K.Column,{field:"balancingAllowance",header:"Balancing Allowance"}),r.a.createElement(K.Column,{field:"balancingCharge",header:"Balancing Charge"}),r.a.createElement(K.Column,{field:"cost",header:"Cost"}),r.a.createElement(K.Column,{field:"salesProceed",header:"Sales Proceed"}),r.a.createElement(K.Column,{field:"twdv",header:"TWDV"}))},ae=a(15),ne=function(e){var t=e.title,a=e.mode,n=e.setMode,o=e.year,l=e.setYear,c=e.yearSelectItems,s=[i.modules.balancingAdjustment,i.modules.capitalAllowance],u=[{label:s.includes(t)?"Adding - Mode":"Mapping - Mode",value:s.includes(t)?"adding":"mapping"},{label:"View - Mode",value:"view"}];return r.a.createElement("div",{className:"p-d-flex p-jc-center p-flex-column",style:{width:"100%"}},r.a.createElement("div",{className:"p-d-flex p-ai-center p-jc-between",style:{padding:"0px 20px"}},r.a.createElement("p",{style:{fontSize:18,fontWeight:600}},t,{adding:" - Adding",mapping:" - Mapping",view:" - View"}[a]),r.a.createElement("div",null,"view"===a&&r.a.createElement(ae.Dropdown,{style:{width:180,marginRight:20},placeholder:"Select year",value:o,options:c,onChange:function(e){l(e.value)}}),r.a.createElement(ae.Dropdown,{style:{width:180},value:a,disabled:i.nonMappedModules.includes(t),options:u,onChange:function(e){n(e.value)}}))),r.a.createElement("div",{className:"divider"}))},re=function(e){var t=e.title,a=e.mode,n=e.setMode,o=e.year,l=e.setYear,c=e.yearSelectItems,s=e.children;return i.modes.includes(a)||n(B(t)),r.a.createElement(y.Card,{header:r.a.createElement(ne,{title:t,mode:a,setMode:n,year:o,setYear:l,yearSelectItems:c}),style:{width:"100%"}},s)},oe=function(e){var t=e.yearSelectItems,a=e.assetClassSelectItems,n=e.toast,o=Object(E.b)(),l=o.errors,s=o.handleSubmit,m=o.control,d=p(),f=Object(c.a)(d,1)[0].companyId,y=r.a.useState(!1),v=Object(c.a)(y,2),w=v[0],x=v[1],C=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,r,o,l,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:return a=t.year,r=t.assetId,o=t.cost,l=t.salesProceed,c=t.yearBought,x(!0),e.prev=4,e.next=7,$({year:a,assetId:r,cost:o,salesProceed:l,yearBought:c,companyId:f});case 7:200===(s=e.sent).status&&n.show(M({severity:"success",detail:s.data.responseDescription})),e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(4),!e.t0.response){e.next=16;break}return n.show(M({severity:"error",summary:"Error",detail:"An error occurred while calculating balancing adjustment, kindly contact your admin."})),e.abrupt("return");case 16:n.show(M({severity:"error",summary:"Network Error",detail:i.networkErrorMessage}));case 17:return e.prev=17,x(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,11,17,20]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"p-d-flex p-flex-column p-jc-between",onSubmit:s(C)},r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:120}},"Year"),r.a.createElement(E.a,{name:"year",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(ae.Dropdown,{style:{marginBottom:5,width:200},value:e.value,options:t,onChange:function(t){return e.onChange(t.target.value)}})}})),l.year&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:120}},"Year is required")),r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:120}},"Asset"),r.a.createElement(E.a,{name:"assetId",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(ae.Dropdown,{style:{marginBottom:5,width:200},value:e.value,options:a,onChange:function(t){return e.onChange(t.target.value)}})}})),l.assetId&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:120}},"Asset is required")),r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:120}},"Cost"),r.a.createElement(E.a,{name:"cost",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}})),l.cost&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:120}},"Cost is required")),r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:120}},"Sales Proceed"),r.a.createElement(E.a,{name:"salesProceed",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}})),l.salesProceed&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:120}},"Sales Proceed is required")),r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:120}},"Year Bought"),r.a.createElement(E.a,{name:"yearBought",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(ae.Dropdown,{style:{marginBottom:5,width:200},value:e.value,options:t,onChange:function(t){return e.onChange(t.target.value)}})}})),l.yearBought&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:120}},"Year Bought is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{marginTop:10}},r.a.createElement(u.Button,{type:"submit",label:w?null:"Submit",icon:w?"pi pi-spin pi-spinner":null,style:{width:320}})))},le=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.companyName,n=t.companyDescription,r=t.cacNumber,o=t.tinNumber,e.prev=1,e.next=4,C.a.post("/api/Companies/add-company",{companyName:a,companyDescription:n,cacNumber:r,tinNumber:o});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(h.a)(g.a.mark((function e(){var t,a,n,r,o=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:1,a=o.length>1&&void 0!==o[1]?o[1]:1e3,e.prev=2,e.next=5,C.a.get("/api/Companies/get-companies".concat(t&&a?"?PageNumber=".concat(t,"&PageSIze=").concat(a):""));case 5:return n=e.sent,r=n.data,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.file,n=t.companyId,r=t.year,e.prev=1,(o=new FormData).append("File",a.item(0)),o.append("CompanyId",n),o.append("YearId",r),e.next=8,C.a.post("/api/TrialBalance",o,{headers:{"Content-Type":"multipart/form-data"}});case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.companyId,n=t.year,e.prev=1,e.next=4,C.a.get("/api/TrialBalance?companyId=".concat(a,"&yearId=").concat(n));case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ue=Object(s.f)({type:"COMPANIES",getKey:function(){return"companies"},getData:function(){return ce()}}),me=Object(s.f)({type:"FIXED_ASSET_MODULE_CLASS",getKey:function(){return"fixedAssetModuleClass"},getData:function(){return z({moduleCode:"fixedasset"})}}),de=Object(s.f)({type:"TRIAL_BALANCE",getKey:function(){return"trialBalance"},getData:function(){return ie({companyId:sessionStorage.getItem("cid"),year:j()})}}),pe=function(e){var t=e.title;return r.a.createElement(X,{title:t,loading:!0},r.a.createElement("div",{className:"p-d-flex p-flex-column p-jc-center p-ai-center",style:{height:"calc(100vh - 120px)"}},r.a.createElement("i",{className:"pi pi-spin pi-spinner",style:{fontSize:24}}),r.a.createElement("p",null,"Loading data...")))},fe=function(e){var t=e.title,a=e.error,n=e.refresh;return r.a.createElement(X,{title:t},r.a.createElement("div",{className:"p-d-flex p-flex-column p-jc-center p-ai-center",style:{height:"calc(100vh - 120px)"}},r.a.createElement(u.Button,{icon:"pi pi-refresh pi-24",className:"p-button-rounded p-button-text",onClick:n}),r.a.createElement("div",{style:{width:400,textAlign:"center"}},a.response?a.response.data.errors.error.map((function(e){return r.a.createElement("p",null,e)})):"Network Error"===a.message?r.a.createElement("p",null,i.networkErrorMessage):r.a.createElement("p",null,a.message))))},ge=function(){var e=i.modules.balancingAdjustment,t=r.a.useRef(),a=Object(s.h)(me),n=a.data,o=a.error,l=a.refresh,u=Object(s.g)("mode"),m=Object(c.a)(u,2),d=m[0],p=m[1],f=V(),g=Object(c.a)(f,2),h=g[0],y=g[1].onModuleItems,E=r.a.useState([]),b=Object(c.a)(E,2),w=b[0],x=b[1],C=r.a.useState(j()),N=Object(c.a)(C,2),S=N[0],T=N[1],O=k((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.useEffect((function(){n&&y(n)}),[n,y]),r.a.useEffect((function(){h.moduleItems&&x(h.moduleItems.map((function(e){var t=e.id;return{label:e.name,value:t}})))}),[h.moduleItems]),o?r.a.createElement(fe,{title:e,error:o,refresh:l}):h.moduleItems?r.a.createElement(X,{title:e},r.a.createElement(re,{title:e,mode:d,setMode:p,year:S,setYear:T,yearSelectItems:O},{adding:r.a.createElement(oe,{yearSelectItems:O,assetClassSelectItems:w,toast:t.current}),view:r.a.createElement(J,{title:e,year:S},r.a.createElement(te,{year:S}))}[d]),r.a.createElement(v.Toast,{baseZIndex:1e3,ref:function(e){return t.current=e}})):r.a.createElement(pe,{title:e})},he=function(e){e.year;var t=r.a.useState([{category:r.a.createElement("strong",null,"Motor Vehicles"),credit:"",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"",twdv:""},{category:"Cost up to 2018 YOA",credit:"\u20a614,694,750.00",balancingAllowance:"",balancingCharge:"",cost:"\u20a614,694,750.00",salesProceed:"",twdv:""},{category:"Initial Allowance",credit:"\u20a67,347,375.00",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"",twdv:""},{category:"Annual allowances up to 2019",credit:"\u20a63,673,688.00",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"",twdv:""},{category:"Residue at 31.12.2019",credit:"\u20a63,673,688.00",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"",twdv:"\u20a63,673,688.00"},{category:"Sales Proceeds",credit:"\u20a65,510,531.00",balancingAllowance:"",balancingCharge:"",cost:"",salesProceed:"\u20a65,510,531.00",twdv:""},{category:"Balancing charge",credit:"\u20a61,836,844.00",balancingAllowance:"",balancingCharge:"\u20a61,836,844.00",cost:"",salesProceed:"",twdv:""}]),a=Object(c.a)(t,1)[0];return r.a.createElement(Z.DataTable,{value:a,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(K.Column,{field:"category",header:""}),r.a.createElement(K.Column,{field:"credit",header:"\u20a6"}),r.a.createElement(K.Column,{field:"balancingAllowance",header:"Balancing Allowance (\u20a6)"}),r.a.createElement(K.Column,{field:"balancingCharge",header:"Balancing Charge (\u20a6)"}),r.a.createElement(K.Column,{field:"cost",header:"Cost (\u20a6)"}),r.a.createElement(K.Column,{field:"salesProceed",header:"Sales Proceed (\u20a6)"}),r.a.createElement(K.Column,{field:"twdv",header:"TWDV"}))},ye=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o,l,c,s,i,u,m,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.companyId,n=t.taxYear,r=t.assetId,o=t.openingResidue,l=t.addition,c=t.disposal,s=t.initial,i=t.annual,u=t.total,m=t.closingResidue,d=t.yearsToGo,e.prev=1,e.next=4,C.a.post("/api/CapitalAllowance",{companyId:a,taxYear:n,assetId:r,openingResidue:o,addition:l,disposal:c,initial:s,annual:i,total:u,closingResidue:m,yearsToGo:d});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(e){var t=e.yearSelectItems,a=e.assetClassSelectItems,n=e.toast,o=Object(E.b)(),l=o.errors,s=o.handleSubmit,m=o.control,d=p(),f=Object(c.a)(d,1)[0].companyId,y=r.a.useState(!1),v=Object(c.a)(y,2),w=v[0],x=v[1],C=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,r,o,l,c,s,u,m,d,p,h;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:return a=t.taxYear,r=t.assetId,o=t.openingResidue,l=t.addition,c=t.disposal,s=t.initial,u=t.annual,m=t.total,d=t.closingResidue,p=t.yearsToGo,x(!0),e.prev=4,e.next=7,ye({companyId:f,taxYear:a,assetId:r,openingResidue:o,addition:l,disposal:c,initial:s,annual:u,total:m,closingResidue:d,yearsToGo:p});case 7:200===(h=e.sent).status&&n.show(M({severity:"success",detail:h.data})),e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(4),!e.t0.response){e.next=16;break}return n.show(M({severity:"error",summary:"Error",detail:"An error occurred while calculating capital allowance, kindly contact your admin."})),e.abrupt("return");case 16:n.show(M({severity:"error",summary:"Network Error",detail:i.networkErrorMessage}));case 17:return e.prev=17,x(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,11,17,20]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"p-d-flex p-flex-column p-jc-between",onSubmit:s(C)},r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:150}},"Tax Year"),r.a.createElement(E.a,{name:"taxYear",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(ae.Dropdown,{style:{marginBottom:5,width:200},value:e.value,options:t,onChange:function(t){return e.onChange(t.target.value)}})}})),l.taxYear&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:150}},"Tax Year is required")),r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:150}},"Asset"),r.a.createElement(E.a,{name:"assetId",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(ae.Dropdown,{style:{marginBottom:5,width:200},value:e.value,options:a,onChange:function(t){return e.onChange(t.target.value)}})}})),l.assetId&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:150}},"Asset is required")),r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:150}},"Opening Residue"),r.a.createElement(E.a,{name:"openingResidue",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}})),l.openingResidue&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:150}},"Opening Residue is required")),r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:150}},"Addition"),r.a.createElement(E.a,{name:"addition",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}})),l.addition&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:150}},"Addition is required")),r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:150}},"Disposal"),r.a.createElement(E.a,{name:"disposal",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}})),l.disposal&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:150}},"Disposal is required")),r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:150}},"Initial"),r.a.createElement(E.a,{name:"initial",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}})),l.initial&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:150}},"Initial is required")),r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:150}},"Annual"),r.a.createElement(E.a,{name:"annual",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}})),l.annual&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:150}},"Annual is required")),r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:150}},"Total"),r.a.createElement(E.a,{name:"total",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}})),l.total&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:150}},"Total is required")),r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:150}},"Closing Residue"),r.a.createElement(E.a,{name:"closingResidue",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}})),l.closingResidue&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:150}},"Closing Residue is required")),r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("div",{className:"p-d-flex p-ai-center"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0,width:150}},"Years To Go"),r.a.createElement(E.a,{name:"yearsToGo",control:m,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}})),l.yearsToGo&&r.a.createElement("div",{style:{fontSize:12,color:"red",marginLeft:150}},"Years To Go is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{marginTop:10}},r.a.createElement(u.Button,{type:"submit",label:w?null:"Submit",icon:w?"pi pi-spin pi-spinner":null,style:{width:350}})))},Ee=function(){var e=i.modules.capitalAllowance,t=r.a.useRef(),a=Object(s.h)(me),n=a.data,o=a.error,l=a.refresh,u=V(),m=Object(c.a)(u,2),d=m[0],p=m[1].onModuleItems,f=Object(s.g)("mode"),g=Object(c.a)(f,2),h=g[0],y=g[1],E=r.a.useState(j()),b=Object(c.a)(E,2),w=b[0],x=b[1],C=r.a.useState([]),N=Object(c.a)(C,2),S=N[0],T=N[1],O=k((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.useEffect((function(){n&&p(n)}),[n,p]),r.a.useEffect((function(){d.moduleItems&&T(d.moduleItems.map((function(e){var t=e.id;return{label:e.name,value:t}})))}),[d.moduleItems]),o?r.a.createElement(fe,{title:e,error:o,refresh:l}):d.moduleItems?r.a.createElement(X,{title:e},r.a.createElement(re,{title:e,mode:h,setMode:y,year:w,setYear:x,yearSelectItems:O},{adding:r.a.createElement(ve,{yearSelectItems:O,assetClassSelectItems:S,toast:t.current}),view:r.a.createElement(J,{title:e,year:w},r.a.createElement(he,{year:w}))}[h]),r.a.createElement(v.Toast,{baseZIndex:1e3,ref:function(e){return t.current=e}})):r.a.createElement(pe,{title:e})},be=a(45),we=function(e){var t=e.showAddCompany,a=e.setShowAddCompany,n=e.toast,o=e.refresh,l=Object(E.b)(),s=l.errors,m=l.handleSubmit,d=l.control,p=r.a.useState(!1),f=Object(c.a)(p,2),y=f[0],v=f[1],w=function(){var e=Object(h.a)(g.a.mark((function e(t){var r,l,c,s,u,m,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return");case 2:return v(!0),r=t.companyName,l=t.cacNumber,c=t.tinNumber,s=t.companyDescription,e.prev=4,e.next=7,le({companyName:r,cacNumber:l,tinNumber:c,companyDescription:s});case 7:201===e.sent.status&&(n.show(M({severity:"success",detail:"Company added successfully"})),setTimeout((function(){v(!1),a(!1),o()}),2e3)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),v(!1),e.t0.response?(u=e.t0.response.data.errors,m=u.error,d=u.CompanyDescription,m&&m.map((function(e){return n.show(M({severity:"error",summary:"Error",detail:e}))})),d&&d.map((function(e){return n.show(M({severity:"error",summary:"Error",detail:e}))}))):n.show(M({summary:"Network Error",detail:i.networkErrorMessage}));case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(be.Dialog,{header:"Add Company",visible:t,style:{width:400},focusOnShow:!1,onHide:function(){return a(!1)}},r.a.createElement("form",{onSubmit:m(w)},r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{marginBottom:15}},r.a.createElement("label",{htmlFor:"companyNameInput",style:{marginBottom:10}},"Company Name"),r.a.createElement(E.a,{name:"companyName",control:d,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%"},id:"companyNameInput",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),s.companyName&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Company Name is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{marginBottom:15}},r.a.createElement("label",{htmlFor:"cacNumberInput",style:{marginBottom:10}},"Cac Number"),r.a.createElement(E.a,{name:"cacNumber",control:d,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%"},id:"cacNumberInput",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),s.cacNumber&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Cac Number is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{marginBottom:15}},r.a.createElement("label",{htmlFor:"tinNumberInput",style:{marginBottom:10}},"Tin Number"),r.a.createElement(E.a,{name:"tinNumber",control:d,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%"},id:"tinNumberInput",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),s.tinNumber&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Tin Number is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{marginBottom:15}},r.a.createElement("label",{htmlFor:"companyDescriptionInput",style:{marginBottom:10}},"Address"),r.a.createElement(E.a,{name:"companyDescription",control:d,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%"},id:"companyDescriptionInput",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),s.companyDescription&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Address is required")),r.a.createElement(u.Button,{label:y?null:"Add Company",icon:y?"pi pi-spin pi-spinner":null,type:"submit",style:{width:"100%",marginTop:10}})))},xe=function(e){var t=e.company.companyId,a=e.toast,n=e.setRefreshTrialBalanceTable,o=r.a.useState(),l=Object(c.a)(o,2),s=l[0],m=l[1],d=r.a.useState(),p=Object(c.a)(d,2),f=p[0],v=p[1],E=r.a.useState(k()),b=Object(c.a)(E,1)[0],w=r.a.useState(!1),x=Object(c.a)(w,2),C=x[0],N=x[1],S=function(){var e=Object(h.a)(g.a.mark((function e(){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=2;break}return e.abrupt("return");case 2:if(s||f){e.next=7;break}return a.show(M({severity:"error",detail:"Add TB File and Select TB Year"})),e.abrupt("return");case 7:if(s){e.next=12;break}return a.show(M({severity:"error",detail:"Add TB File"})),e.abrupt("return");case 12:if(f){e.next=15;break}return a.show(M({severity:"error",detail:"Select TB Year"})),e.abrupt("return");case 15:return N(!0),e.prev=16,e.next=19,se({file:s,companyId:t,year:f});case 19:200===(r=e.sent).status&&(v(null),m(null),n(!0),a.show(M({severity:"success",detail:r.data}))),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(16),e.t0.response?a.show(M({severity:"error",summary:"Error",detail:"An error occurred, kindly contact your admin"})):a.show(M({summary:"Network Error",detail:i.networkErrorMessage}));case 26:return e.prev=26,N(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[16,23,26,29]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(y.Card,{header:r.a.createElement("div",{className:"p-d-flex p-jc-center p-flex-column",style:{width:"100%"}},r.a.createElement("div",{className:"p-d-flex p-ai-center p-jc-between",style:{padding:"0px 20px"}},r.a.createElement("p",{style:{fontSize:18,fontWeight:600}},"Upload File"),r.a.createElement("div",null,r.a.createElement(ae.Dropdown,{style:{marginRight:20,width:110},value:f,options:b,onChange:function(e){v(e.value)},placeholder:"TB Year"}),r.a.createElement(u.Button,{style:{width:110},label:C?null:"Upload",icon:C?"pi pi-spin pi-spinner":"pi pi-upload",onClick:S}))),r.a.createElement("div",{className:"divider"})),style:{width:"100%",marginBottom:20}},r.a.createElement("div",{className:"p-d-flex"},r.a.createElement("div",{className:"p-d-flex p-ai-center p-jc-center",style:{background:"#f5f6f8",width:"100%",height:100,position:"relative"}},r.a.createElement("p",{className:"accent-color",style:{fontSize:20}},s&&s.item(0).name?'"'.concat(s.item(0).name,'" ready for upload'):"Click or Drag and drop Trial Balance file here to upload."),r.a.createElement("input",{type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",style:{position:"absolute",width:"100%",height:"100%",opacity:0},onChange:function(e){return m(e.target.files)}}))))},Ce=a(33),Ne=function(e){var t=e.company.companyId,a=e.refreshTrialBalanceTable,n=e.setRefreshTrialBalanceTable,o=r.a.useRef(!1),l=r.a.useState(j()),s=Object(c.a)(l,2),i=s[0],u=s[1],m=r.a.useState(k()),d=Object(c.a)(m,1)[0],p=r.a.useState([]),f=Object(c.a)(p,2),v=f[0],E=f[1],b=r.a.useState(!1),w=Object(c.a)(b,2),x=w[0],C=w[1];return r.a.useEffect((function(){return o.current=!0,a&&(function(){var e=Object(h.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,ie({companyId:t,year:i});case 4:a=e.sent,o.current&&E(a?a.map((function(e){return""===e.accountId&&""===e.item&&0===e.debit&&0===e.credit?Object(Ce.a)(Object(Ce.a)({},e),{},{debit:"",credit:""}):Object(Ce.a)(Object(Ce.a)({},e),{},{debitAmt:R(e.debit),creditAmt:R(e.credit)})})):[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.prev=11,o.current&&C(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}()(),o.current&&n(!1)),function(){return o.current=!1}}),[t,i,a,n]),r.a.createElement(y.Card,{style:{width:"100%"}},r.a.createElement(Z.DataTable,{value:v,paginator:!x&&0!==v.length,rows:10,rowsPerPageOptions:[10,20,50,100],className:"p-datatable-gridlines",header:r.a.createElement("div",{className:"p-d-flex p-ai-center p-jc-between"},r.a.createElement("p",{style:{fontSize:18,fontWeight:600}},"Trial Balance"),r.a.createElement(ae.Dropdown,{style:{width:110},value:i,options:d,onChange:function(e){u(e.value),n(!0)},placeholder:"TB Year"})),footer:x||0===v.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-d-flex p-ai-center p-jc-center"},x&&r.a.createElement("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"2em"}}),!x&&0===v.length&&r.a.createElement("p",null,"No Trial Balance data for selected year"))):null},r.a.createElement(K.Column,{field:"accountId",header:"Account ID"}),r.a.createElement(K.Column,{field:"item",header:"Account Description"}),r.a.createElement(K.Column,{field:"debitAmt",header:"Debit Amt"}),r.a.createElement(K.Column,{field:"creditAmt",header:"Credit Amt"})))},Se=function(e){var t=e.setShowAddCompany,a=e.showCompanyPicker,n=e.setShowCompanyPicker,o=e.company,l=e.onSelectCompany,c=e.companySelectItems,s=e.setRefreshTrialBalanceTable;return r.a.useEffect((function(){return s(!0)}),[s]),r.a.createElement(be.Dialog,{header:"Company",footer:r.a.createElement("div",null,r.a.createElement(u.Button,{label:"Add Company",onClick:function(){t(!0),n(!1)},className:"p-button-outlined"}),r.a.createElement(u.Button,{label:"Proceed",disabled:!o.companyId,onClick:function(){return o.companyId&&n(!1)}})),visible:a,style:{width:500},blockScroll:!0,focusOnShow:!1,closeOnEscape:!1,closable:!1,onHide:function(){return n(!1)}},r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{height:300}},r.a.createElement("label",{htmlFor:"companyNameInput",style:{margin:"0px 0px 10px 0px"}}),r.a.createElement(ae.Dropdown,{value:o,options:c,optionLabel:"name",autoFocus:!0,filter:!0,filterBy:"name",onChange:function(e){l(e.value),sessionStorage.setItem("cid",e.value.companyId)},placeholder:"Select a Company"}),c&&0===c.length&&r.a.createElement("div",{className:"p-d-flex p-ai-center",style:{fontSize:14,marginTop:15}},r.a.createElement("i",{className:"pi pi-exclamation-triangle",style:{marginRight:10,color:"#FBC02D",fontSize:20}}),r.a.createElement("span",null,"There are currently no companies, click add company button."))))},Te=function(){var e=i.modules.dashboard,t=r.a.useRef(),a=Object(s.h)(ue),n=a.data,o=a.error,l=a.refresh,u=r.a.useState(!0),m=Object(c.a)(u,2),d=m[0],f=m[1],g=r.a.useState(!1),h=Object(c.a)(g,2),y=h[0],E=h[1],b=r.a.useState(null),w=Object(c.a)(b,2),x=w[0],C=w[1],N=r.a.useState(!0),S=Object(c.a)(N,2),T=S[0],O=S[1],A=p(),I=Object(c.a)(A,2),j=I[0],k=I[1].onSelectCompany,B=V(),D=Object(c.a)(B,2),P=D[0],R=D[1].onCompanies;return r.a.useEffect((function(){y||f(!0)}),[y]),r.a.useEffect((function(){n&&R(n)}),[n,R]),r.a.useEffect((function(){P.companies&&C(P.companies.map((function(e){var t=e.id,a=e.companyName,n=e.companyDescription,r=e.cacNumber,o=e.tinNumber;return e.isActive&&{name:a,value:{companyId:t,companyName:a,companyDescription:n,cacNumber:r,tinNumber:o}}})))}),[P.companies]),o?r.a.createElement(fe,{title:e,error:o,refresh:l}):P.companies?r.a.createElement(X,{title:e},r.a.createElement(xe,{company:j,toast:t.current,setRefreshTrialBalanceTable:O}),j.companyId&&r.a.createElement(Ne,{company:j,refreshTrialBalanceTable:T,setRefreshTrialBalanceTable:O}),r.a.createElement(we,{showAddCompany:y,setShowAddCompany:E,toast:t.current,refresh:l}),null===j.companyId&&r.a.createElement(Se,{setShowAddCompany:E,showCompanyPicker:d,setShowCompanyPicker:f,company:j,onSelectCompany:k,companySelectItems:x,setRefreshTrialBalanceTable:O}),r.a.createElement(v.Toast,{baseZIndex:1e3,ref:function(e){return t.current=e}})):r.a.createElement(pe,{title:e})},Oe=function(e){var t=e.year,a=e.setYear,n=e.yearSelectItems,o=r.a.useState(),l=Object(c.a)(o,2),s=l[0],i=l[1],m=r.a.useState(),d=Object(c.a)(m,2),p=d[0],f=d[1],g=r.a.useState([{accountDescription:"Petty Cash",debitAmount:"\u20a652,154.07",creditAmount:"\u20a60.00"},{accountDescription:"Inventory",debitAmount:"\u20a620,000.00",creditAmount:"\u20a60.00"},{accountDescription:"Plant & Machinery",debitAmount:"\u20a63,966,900.64",creditAmount:"\u20a60.00"},{accountDescription:"Furniture & Fittings",debitAmount:"\u20a612,252,961.97",creditAmount:"\u20a60.00"},{accountDescription:"Branch Cash Movement",debitAmount:"\u20a60.00",creditAmount:"\u20a6349.03"}]),h=Object(c.a)(g,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"p-d-flex p-jc-between"},r.a.createElement(ae.Dropdown,{style:{width:250},value:s,options:[{label:"Revenue",value:"Revenue"},{label:"Other Income",value:"Other Income"}],onChange:function(e){i(e.value)},placeholder:"Select an Item"}),r.a.createElement(ae.Dropdown,{style:{width:250},value:t,options:n,onChange:function(e){a(e.value)},placeholder:"Select Year"}),r.a.createElement(u.Button,{type:"submit",label:"Submit",style:{width:250}})),r.a.createElement(Z.DataTable,{value:h,className:"p-datatable-gridlines",selection:p,onSelectionChange:function(e){f(e.value)},style:{marginTop:50}},r.a.createElement(K.Column,{selectionMode:"multiple",style:{width:"3em"}}),r.a.createElement(K.Column,{field:"accountDescription",header:"Account Description"}),r.a.createElement(K.Column,{field:"debitAmount",header:"Debit Amount"}),r.a.createElement(K.Column,{field:"creditAmount",header:"Credit Amount"}),r.a.createElement(K.Column,{field:"mappedCode",header:"Mapped To"})))},Ae=function(){var e=r.a.useState([{category:"Net Book Value of Fixed Assets as at 31.12.19",debit:"",credit:"\u20a610,633,000.00"},{category:"Less:",debit:"",credit:""},{category:"Tax Written Down Value as at 31.12.19",debit:"(\u20a62,932,845,440.00)",credit:""},{category:"Unabsorbed Capital Allowance",debit:"(\u20a6561,061,694.00)",credit:""},{category:"Impairment on Receivables",debit:"\u20a644,723,000.00",credit:"(\u20a63,449,184,134.00)"}]),t=Object(c.a)(e,1)[0];return r.a.createElement(Z.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(K.Column,{field:"category",header:""}),r.a.createElement(K.Column,{field:"debit",header:"\u20a6"}),r.a.createElement(K.Column,{field:"credit",header:"\u20a6"}))},Ie=function(){var e=i.modules.deferredTax,t=Object(s.g)("mode"),a=Object(c.a)(t,2),n=a[0],o=a[1],l=r.a.useState(j()),u=Object(c.a)(l,2),m=u[0],d=u[1],p=k((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(X,{title:e},r.a.createElement(re,{title:e,mode:n,setMode:o,year:m,setYear:d,yearSelectItems:p},{mapping:r.a.createElement(Oe,{year:m,setYear:d,yearSelectItems:p}),view:r.a.createElement(J,{title:e,year:m},r.a.createElement(Ae,null))}[n]))},je=a(72),ke=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o,l,c,s,i,u,m,d,p,f,h,y,v;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.companyId,n=t.yearId,r=t.mappedCode,o=t.assetId,l=t.triBalanceId,c=t.isCost,s=t.openingCost,i=t.transferCost,u=t.transferDepreciation,m=t.isTransferCostRemoved,d=t.isTransferDepreciationRemoved,p=t.costAddition,f=t.costDisposal,h=t.openingDepreciation,y=t.depreciationAddition,v=t.depreciationDisposal,e.prev=1,e.next=4,C.a.post("/api/FixedAsset",{companyId:a,yearId:n,mappedCode:r,assetId:o,triBalanceId:l,isCost:c,openingCost:s,transferCost:i,transferDepreciation:u,isTransferCostRemoved:m,isTransferDepreciationRemoved:d,costAddition:p,costDisposal:f,openingDepreciation:h,depreciationAddition:y,depreciationDisposal:v});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.companyId,n=t.year,e.prev=1,e.next=4,C.a.get("/api/FixedAsset/".concat(a,"/").concat(n));case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.prev=1,e.next=4,C.a.put("/api/FixedAsset/fixed-asset/".concat(a));case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(e){var t=e.tbData,a=e.selectedAccounts,n=e.setSelectedAccounts,o=e.trialBalanceRefresh,l=e.toast;return r.a.createElement(Z.DataTable,{value:t,paginator:!0,rows:10,rowsPerPageOptions:[10,20,50,100],className:"p-datatable-gridlines",selection:a,onSelectionChange:function(e){e.value.length>0&&t.find((function(t){return t.id===e.value[e.value.length-1].id})).mappedTo?l.show(M({severity:"error",detail:"This item has been mapped"})):n(e.value)},style:{marginTop:50}},r.a.createElement(K.Column,{selectionMode:"multiple",style:{width:"3em"}}),r.a.createElement(K.Column,{field:"accountId",header:"Account ID"}),r.a.createElement(K.Column,{field:"item",header:"Account Description"}),r.a.createElement(K.Column,{field:"debitAmt",header:"Debit Amt"}),r.a.createElement(K.Column,{field:"creditAmt",header:"Credit Amt"}),t&&t.some((function(e){return e.mappedTo}))&&r.a.createElement(K.Column,{field:"mappedTo",header:"Mapped To"}),t&&t.some((function(e){return e.mappedTo}))&&r.a.createElement(K.Column,{field:"unmap",header:"Unmap",body:function(e){return e.mappedTo&&r.a.createElement(u.Button,{className:"p-button-danger p-button-text",label:"Unmap",onClick:Object(h.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,De({id:e.id});case 3:200===(a=t.sent).status&&(o(),l.show(M({severity:"success",detail:a.data}))),t.next=12;break;case 7:if(t.prev=7,t.t0=t.catch(0),"Network Error"!==t.t0.message){t.next=11;break}return t.abrupt("return",l.show(M({severity:"success",detail:i.networkErrorMessage})));case 11:o();case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))})}}))},Re=function(e){var t=e.year,a=e.setYear,n=e.yearSelectItems,o=e.assetClassSelectItems,l=e.tbData,s=e.trialBalanceRefresh,m=e.toast,d="cost",f=Object(E.b)(),y=f.errors,v=f.handleSubmit,w=f.control,x=p(),C=Object(c.a)(x,1)[0].companyId,N=r.a.useState(),S=Object(c.a)(N,2),T=S[0],O=S[1],A=r.a.useState(!1),I=Object(c.a)(A,2),j=I[0],k=I[1],B=r.a.useState(R(0)),D=Object(c.a)(B,2),P=D[0],q=D[1],L=r.a.useState([]),_=Object(c.a)(L,2),F=_[0],V=_[1],z=r.a.useState(),Y=Object(c.a)(z,2),U=Y[0],G=Y[1],W=r.a.useState(),X=Object(c.a)(W,2),H=X[0],J=X[1],Z=[{label:"Cost",value:d},{label:"Depreciation",value:"depreciation"}];r.a.useEffect((function(){s()}),[s]),r.a.useEffect((function(){if(F){var e=F.reduce((function(e,t){return e+t.debit}),0);O(e),q(R(e))}}),[F]);var K=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o,l,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=2;break}return e.abrupt("return");case 2:if(a=t.assetClass,n=t.assetType,r=t.year,o=t.openingBalance,l=t.addition,c=t.disposal,s=t.transfer,0!==F.length){e.next=6;break}return m.show(M({severity:"error",detail:"Select at least one account from the trial balance table"})),e.abrupt("return");case 6:if(!isNaN(o)){e.next=11;break}return m.show(M({severity:"error",detail:"Opening balance is not a number"})),e.abrupt("return");case 11:if(!isNaN(l)){e.next=16;break}return m.show(M({severity:"error",detail:"".concat(n===d?"Addition":"Charge per year"," value is not a number")})),e.abrupt("return");case 16:if(!isNaN(c)){e.next=21;break}return m.show(M({severity:"error",detail:"Disposal value is not a number"})),e.abrupt("return");case 21:if(!isNaN(s)){e.next=24;break}return m.show(M({severity:"error",detail:"Transfer value is not a number"})),e.abrupt("return");case 24:return k(!0),e.prev=25,e.next=28,ke({companyId:C,yearId:r,mappedCode:"fixedasset",assetId:a,triBalanceId:F.map((function(e){return e.id})),isCost:n===d,openingCost:n===d?Number(o):0,transferCost:n===d?Number(s):0,transferDepreciation:n!==d?Number(s):0,isTransferCostRemoved:n===d&&H,isTransferDepreciationRemoved:n!==d&&H,costAddition:n===d?Number(l):0,costDisposal:n===d?Number(c):0,costClosing:n===d?Number(T):0,openingDepreciation:n!==d?Number(o):0,depreciationAddition:n!==d?Number(l):0,depreciationDisposal:n!==d?Number(c):0,depreciationClosing:n!==d?Number(T):0});case 28:200===e.sent.status&&m.show(M({severity:"success",detail:"Fixed asset mapped successfully"})),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(25),m.show(M({severity:"error",summary:"Network Error",detail:i.networkErrorMessage}));case 35:return e.prev=35,k(!1),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[25,32,35,38]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"p-d-flex p-flex-column p-jc-between",onSubmit:v(K)},r.a.createElement("div",{className:"p-d-flex p-ai-start p-jc-between",style:{marginBottom:20}},r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Fixed Asset Class"),r.a.createElement(E.a,{name:"assetClass",control:w,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(ae.Dropdown,{style:{marginBottom:5,width:200},value:e.value,options:o,onChange:function(t){return e.onChange(t.target.value)}})}}),y.assetClass&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Fixed Asset Class is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Cost / Depreciation"),r.a.createElement(E.a,{name:"assetType",control:w,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(ae.Dropdown,{style:{marginBottom:5,width:200},value:e.value,options:Z,onChange:function(t){e.onChange(t.target.value),G(t.target.value)}})}}),y.assetType&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Fixed Asset Type is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Year"),r.a.createElement(E.a,{name:"year",control:w,rules:{required:!0},defaultValue:t,render:function(e){return r.a.createElement(ae.Dropdown,{style:{marginBottom:5,width:200},value:t,options:n,onChange:function(e){return a(e.target.value)},placeholder:"Year"})}}),y.year&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Year is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Closing Balance"),r.a.createElement(E.a,{name:"closingBalance",control:w,defaultValue:P,render:function(e){return r.a.createElement(b.InputText,{disabled:!0,style:{width:200},placeholder:"Closing Balance",value:P})}}))),r.a.createElement("div",{className:"p-d-flex p-ai-start p-jc-between"},r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Opening Balance"),r.a.createElement(E.a,{name:"openingBalance",control:w,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),y.openingBalance&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Opening Balance is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"depreciation"===U?"Charge per year":"Addition"),r.a.createElement(E.a,{name:"addition",control:w,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){var a;return e.onChange(null===(a=t.target)||void 0===a?void 0:a.value)}})}}),y.addition&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Addition is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Disposal"),r.a.createElement(E.a,{name:"disposal",control:w,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){var a;return e.onChange(null===(a=t.target)||void 0===a?void 0:a.value)}})}}),y.disposal&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Disposal is required")),r.a.createElement("div",{className:"p-d-flex p-flex-column"},r.a.createElement("p",{style:{marginBottom:5,marginTop:0}},"Transfer"),r.a.createElement(E.a,{name:"transfer",control:w,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{width:200},value:e.value,onChange:function(t){var a;return e.onChange(null===(a=t.target)||void 0===a?void 0:a.value)}})}}),y.transfer&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Transfer is required"))),r.a.createElement("div",{className:"p-d-flex p-flex-column",style:{marginTop:20}},r.a.createElement("div",{className:"p-field-checkbox"},r.a.createElement(je.Checkbox,{inputId:"transferOut",checked:H,onChange:function(e){return J(e.checked)}}),r.a.createElement("label",{htmlFor:"transferOut"},"Transfer Out")),r.a.createElement(u.Button,{type:"submit",label:j?null:"Submit",icon:j?"pi pi-spin pi-spinner":null,style:{width:200}}))),r.a.createElement(Pe,{tbData:l,trialBalanceRefresh:s,toast:m,selectedAccounts:F,setSelectedAccounts:V}))},Me=function(e){var t=e.year,a=r.a.useRef(!1),n=p(),o=Object(c.a)(n,1)[0].companyId,l=r.a.useState(),s=Object(c.a)(l,2),i=s[0],u=s[1],m=r.a.useState(),d=Object(c.a)(m,2),f=d[0],y=d[1],v=r.a.useState(),E=Object(c.a)(v,2),b=E[0],w=E[1],x=r.a.useState([{category:r.a.createElement("strong",null,"Cost")},{category:"Opening Balance",key:"openingCost"},{category:"Additions",key:"costAddition"},{category:"Disposal",key:"costDisposal"},{category:"Transfer",key:"transferCost"},{category:r.a.createElement("strong",null,"As at 31/12/",t-1),key:"costClosing"},{category:null},{category:r.a.createElement("strong",null,"Depreciation")},{category:"Opening Balance",key:"openingDepreciation"},{category:"Charged for the year",key:"depreciationAddition"},{category:"Disposal",key:"depreciationDisposal"},{category:"Transfer",key:"transferDepreciation"},{category:r.a.createElement("strong",null,"As at 31/12/",t-1),key:"depreciationClosing"},{category:null},{category:r.a.createElement("strong",null,"Net Book Value")},{category:r.a.createElement("strong",null,"As at 31/12/",t-1),key:"netValue"}]),C=Object(c.a)(x,2),N=C[0],S=C[1];return r.a.useEffect((function(){return a.current=!0,function(){var e=Object(h.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(null),u(!0),e.next=5,Be({companyId:o,year:t});case 5:n=e.sent,a.current&&(w(n.fixedAssetData),S((function(e){var t=Array.from(e);return n.fixedAssetData.forEach((function(e,a){t.forEach((function(t){switch(t.key){case"openingCost":t[e.fixedAssetName]=e.openingCost,t.total=n.total.openingCostTotal;break;case"costAddition":t[e.fixedAssetName]=e.costAddition,t.total=n.total.additionCostTotal;break;case"costDisposal":t[e.fixedAssetName]=e.costDisposal,t.total=n.total.disposalCostTotal;break;case"transferCost":t[e.fixedAssetName]=e.transferCost,t.total=n.total.transferCostTotal;break;case"costClosing":t[e.fixedAssetName]=r.a.createElement("strong",null,e.costClosing),t.total=r.a.createElement("strong",null,n.total.closingCostTotal);break;case"openingDepreciation":t[e.fixedAssetName]=e.openingDepreciation,t.total=n.total.openingDepreciationTotal;break;case"depreciationAddition":t[e.fixedAssetName]=e.depreciationAddition,t.total=n.total.additionDepreciationTotal;break;case"depreciationDisposal":t[e.fixedAssetName]=e.depreciationDisposal,t.total=n.total.disposalDepreciationTotal;break;case"transferDepreciation":t[e.fixedAssetName]=e.transferDepreciation,t.total=n.total.transferDepreciationTotal;break;case"depreciationClosing":t[e.fixedAssetName]=r.a.createElement("strong",null,e.depreciationClosing),t.total=r.a.createElement("strong",null,n.total.closingDepreciationTotal);break;case"netValue":t[e.fixedAssetName]=r.a.createElement("strong",null,n.netBookValue[a].value),t.total=r.a.createElement("strong",null,R(n.netBookValue.reduce((function(e,t){return e+Number(t.value.slice(1).replace(/,/g,""))}),0)))}}))})),t}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a.current&&(e.t0.response?y(e.t0.response.data.errors[0]):y(e.t0.message));case 12:return e.prev=12,a.current&&u(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}()(),function(){return a.current=!1}}),[o,t]),f?r.a.createElement("p",{style:{color:"#f00"}},f):i?r.a.createElement(ee,null):r.a.createElement(Z.DataTable,{value:N,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(K.Column,{field:"category",header:""}),b&&b.map((function(e){return r.a.createElement(K.Column,{key:e.fixedAssetName,field:e.fixedAssetName,header:"".concat(e.fixedAssetName)})})),r.a.createElement(K.Column,{field:"total",header:"Total"}))},qe=function(){var e=i.modules.fixedAsset,t=r.a.useRef(),a=Object(s.h)(me),n=a.data,o=a.error,l=a.refresh,u=Object(s.h)(de),m=u.data,d=u.error,p=u.refresh,f=Object(s.g)("mode"),g=Object(c.a)(f,2),h=g[0],y=g[1],E=r.a.useState(j()),b=Object(c.a)(E,2),w=b[0],x=b[1],C=r.a.useState([]),N=Object(c.a)(C,2),S=N[0],T=N[1],O=r.a.useState([]),A=Object(c.a)(O,2),I=A[0],B=A[1],D=V(),P=Object(c.a)(D,2),M=P[0],q=P[1],L=q.onTrialBalance,_=q.onModuleItems,F=k((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.useEffect((function(){n&&_(n)}),[n,_]),r.a.useEffect((function(){M.moduleItems&&B(M.moduleItems.map((function(e){var t=e.id;return{label:e.name,value:t}})))}),[M.moduleItems]),r.a.useEffect((function(){m&&L(m)}),[L,m]),r.a.useEffect((function(){M.trialBalance&&T(M.trialBalance?M.trialBalance.filter((function(e){return!(""===e.accountId&&""===e.item&&0===e.debit&&0===e.credit)&&!e.item.toLowerCase().includes("total")})).map((function(e){return Object(Ce.a)(Object(Ce.a)({},e),{},{debitAmt:R(e.debit),creditAmt:R(e.credit)})})):[])}),[M.trialBalance]),o?r.a.createElement(fe,{title:e,error:o,refresh:l}):d?r.a.createElement(fe,{title:e,error:d,refresh:p}):M.moduleItems&&M.trialBalance?r.a.createElement(X,{title:e},r.a.createElement(re,{title:e,mode:h,setMode:y,year:w,setYear:x,yearSelectItems:F},{mapping:r.a.createElement(Re,{year:w,setYear:x,yearSelectItems:F,assetClassSelectItems:I,tbData:S,trialBalanceRefresh:p,toast:t.current}),view:r.a.createElement(J,{title:e,year:w},r.a.createElement(Me,{year:w}))}[h]),r.a.createElement(v.Toast,{baseZIndex:1e3,ref:function(e){return t.current=e}})):r.a.createElement(pe,{title:e})},Le=function(){var e=Object(E.b)(),t=e.errors,a=e.handleSubmit,n=e.control,o=I(),l=Object(c.a)(o,1)[0].isAuthenticated,m=Object(s.j)().push,d=r.a.useState(!1),p=Object(c.a)(d,2),f=p[0],w=p[1],x=r.a.useRef(),C=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=2;break}return e.abrupt("return");case 2:return w(!0),a=t.email,e.prev=4,e.next=7,S({email:a});case 7:n=e.sent,m({pathname:i.routes.reset_password,state:n}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),w(!1),e.t0.response?(r=e.t0.response.data.message,x.current.show(M({severity:"error",summary:"Error",detail:r}))):x.current.show(M({severity:"error",summary:"Network Error",detail:i.networkErrorMessage}));case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();if(l){var N=sessionStorage.getItem("path")||i.routes.dashboard;return sessionStorage.removeItem("path"),r.a.createElement(s.b,{to:N})}return r.a.createElement("div",{className:"p-d-flex p-jc-center p-ai-center",style:{height:"100vh"}},r.a.createElement(y.Card,{header:r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"p-text-center accent-color"},"Tax Computation"),r.a.createElement("div",{className:"divider"})),style:{width:320}},r.a.createElement("form",{className:"p-d-flex p-flex-column",onSubmit:a(C)},r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"email",control:n,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%"},placeholder:"Email",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),t.email&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Email is required")),r.a.createElement(u.Button,{type:"submit",label:f?null:"Forgot Password",icon:f?"pi pi-spin pi-spinner":null,style:{width:"100%"}})),r.a.createElement(s.a,{href:i.routes.login,className:"auth-link"},r.a.createElement("p",{style:{marginBottom:0,marginTop:20,fontSize:14}},"Back to login"))),r.a.createElement(v.Toast,{ref:function(e){return x.current=e}}))},_e=function(){return r.a.createElement(s.b,{to:"/login"})},Fe=function(){var e=r.a.useState([{category:"Profit Before Tax",debit:"",credit:"\u20a6448,255,000.00"},{category:r.a.createElement("strong",null,"Add:Disallowable Expenses"),debit:"",credit:""},{category:"Depreciation",debit:"\u20a64,565,000.00",credit:""},{category:"Foreign exchange loss",debit:"\u20a6923,000.00",credit:""},{category:"Loss allowance on trade receivable",debit:"\u20a644,723,000.00",credit:"\u20a667,928,000.00"}]),t=Object(c.a)(e,1)[0];return r.a.createElement(Z.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(K.Column,{field:"category",header:""}),r.a.createElement(K.Column,{field:"debit",header:"\u20a6"}),r.a.createElement(K.Column,{field:"credit",header:"\u20a6"}))},Ve=function(){var e=i.modules.incomeTax,t=Object(s.g)("mode"),a=Object(c.a)(t,2),n=a[0],o=a[1],l=r.a.useState(j()),u=Object(c.a)(l,2),m=u[0],d=u[1],p=k((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(X,{title:e},r.a.createElement(re,{title:e,mode:n,setMode:o,year:m,setYear:d,yearSelectItems:p},{mapping:r.a.createElement(Oe,{year:m,setYear:d,yearSelectItems:p}),view:r.a.createElement(J,{title:e,year:m},r.a.createElement(Fe,null))}[n]))},ze=function(){var e=r.a.useState([{category:"Computers & Office Equipment",credit:"\u20a626,714,000.00"},{category:"Investment Allowance @ 10%",credit:"\u20a62,671,400.00"}]),t=Object(c.a)(e,1)[0];return r.a.createElement(Z.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(K.Column,{field:"category",header:"Additions to:"}),r.a.createElement(K.Column,{field:"credit",header:"\u20a6"}))},Ye=function(){var e=i.modules.investmentAllowance,t=Object(s.g)("mode"),a=Object(c.a)(t,2),n=a[0],o=a[1],l=r.a.useState(j()),u=Object(c.a)(l,2),m=u[0],d=u[1],p=k((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(X,{title:e},r.a.createElement(re,{title:e,mode:n,setMode:o,year:m,setYear:d,yearSelectItems:p},r.a.createElement(J,{title:e,year:m},r.a.createElement(ze,null))))},Ue=function(){var e=r.a.useState([{category:"Profit Before Taxation",credit:"\u20a6502,563,000.00"},{category:"I.T. Levy @ 1% Thereon",credit:"\u20a65,025,630.00"}]),t=Object(c.a)(e,1)[0];return r.a.createElement(Z.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(K.Column,{field:"category",header:""}),r.a.createElement(K.Column,{field:"credit",header:"\u20a6"}))},Ge=function(){var e=i.modules.itLevy,t=Object(s.g)("mode"),a=Object(c.a)(t,2),n=a[0],o=a[1],l=r.a.useState(j()),u=Object(c.a)(l,2),m=u[0],d=u[1],p=k((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(X,{title:e},r.a.createElement(re,{title:e,mode:n,setMode:o,year:m,setYear:d,yearSelectItems:p},r.a.createElement(J,{title:e,year:m},r.a.createElement(Ue,null))))},We=function(){var e=Object(s.i)(),t=Object(c.a)(e,1)[0],a=Object(E.b)(),n=a.errors,o=a.handleSubmit,l=a.control,m=I(),d=Object(c.a)(m,2),p=d[0].isAuthenticated,f=d[1].onLoginSuccess,x=Object(s.j)().push,C=r.a.useState(!1),S=Object(c.a)(C,2),T=S[0],O=S[1],A=r.a.useRef();r.a.useEffect((function(){t.location.state&&A.current.show(M({severity:"success",detail:t.location.state}))}),[t]);var j=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o,l,c,s,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T){e.next=2;break}return e.abrupt("return");case 2:return O(!0),a=t.email,n=t.password,e.prev=4,e.next=7,N({email:a,password:n});case 7:r=e.sent,o=r.token,l=r.user,c=l.id,s=l.firstName,u=l.lastName,f({id:c,token:o,email:a,firstName:s,lastName:u}),x(i.routes.dashboard),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),O(!1),e.t0.response?e.t0.response.data.errors.map((function(e){return A.current.show(M({severity:"error",summary:"Login Error",detail:e}))})):A.current.show(M({severity:"error",summary:"Network Error",detail:i.networkErrorMessage}));case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}();if(p){var k=sessionStorage.getItem("path")||i.routes.dashboard;return sessionStorage.removeItem("path"),r.a.createElement(s.b,{to:k})}return r.a.createElement("div",{className:"p-d-flex p-jc-center p-ai-center",style:{height:"100vh"}},r.a.createElement(y.Card,{header:r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"p-text-center accent-color"},"Tax Computation"),r.a.createElement("div",{className:"divider"})),style:{width:320}},r.a.createElement("form",{className:"p-d-flex p-flex-column",onSubmit:o(j)},r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"email",control:l,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%"},placeholder:"Email",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),n.email&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Email is required")),r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"password",control:l,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(w,{placeholder:"Password",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),n.password&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Password is required")),r.a.createElement(u.Button,{type:"submit",label:T?null:"Login",icon:T?"pi pi-spin pi-spinner":null,style:{width:"100%"}})),r.a.createElement(s.a,{href:i.routes.forgot_password,className:"auth-link"},r.a.createElement("p",{style:{marginBottom:0,marginTop:20,fontSize:14}},"Forgot Password"))),r.a.createElement(v.Toast,{ref:function(e){return A.current=e}}))},Xe=function(){var e=r.a.useState([{category:"0.5% OF TURNOVER",credit:"\u20a6620,800,000.00"},{category:"Dividend Income",credit:""},{category:r.a.createElement("strong",null,"Minimum Tax Payable"),credit:"\u20a63,104,000.00"}]),t=Object(c.a)(e,1)[0];return r.a.createElement(Z.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(K.Column,{field:"category",header:""}),r.a.createElement(K.Column,{field:"credit",header:"\u20a6"}))},He=function(){var e=i.modules.minimumTax,t=Object(s.g)("mode"),a=Object(c.a)(t,2),n=a[0],o=a[1],l=r.a.useState(j()),u=Object(c.a)(l,2),m=u[0],d=u[1],p=k((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(X,{title:e},r.a.createElement(re,{title:e,mode:n,setMode:o,year:m,setYear:d,yearSelectItems:p},r.a.createElement(J,{title:e,year:m},r.a.createElement(Xe,null))))},Je=function(){return r.a.createElement(X,{title:""},r.a.createElement(y.Card,{style:{width:"100%"}},r.a.createElement("h1",{style:{margin:0}},"404 - Not Found"),r.a.createElement("p",null,"Sorry the page you are looking for doesn't exist.")))},Ze=function(){var e=r.a.useState([{category:"Revenue",total:"\u20a6584,132,000.00"},{category:"Other income",total:"\u20a636,656,000.00"},{category:"Other operating gain/loss",total:"(\u20a618,640,000.00)"},{category:"Adminitrative expenses",total:"(\u20a6121,950,000.00)"},{category:"Profit/(Loss) before Tax",total:"\u20a6448,255,000.00"}]),t=Object(c.a)(e,1)[0];return r.a.createElement(Z.DataTable,{value:t,className:"p-datatable-gridlines",style:{marginTop:40}},r.a.createElement(K.Column,{field:"category",header:""}),r.a.createElement(K.Column,{field:"total",header:"Total"}))},Ke=function(){var e=i.modules.profit_loss,t=Object(s.g)("mode"),a=Object(c.a)(t,2),n=a[0],o=a[1],l=r.a.useState(j()),u=Object(c.a)(l,2),m=u[0],d=u[1],p=k((function(e){return{label:e.toString(),value:e.toString()}}));return r.a.createElement(X,{title:e},r.a.createElement(re,{title:e,mode:n,setMode:o,year:m,setYear:d,yearSelectItems:p},{mapping:r.a.createElement(Oe,{year:m,setYear:d,yearSelectItems:p}),view:r.a.createElement(J,{title:e,year:m},r.a.createElement(Ze,null))}[n]))},$e=function(){var e=Object(s.i)(),t=Object(c.a)(e,1)[0],a=Object(E.b)(),n=a.errors,o=a.handleSubmit,l=a.control,m=I(),d=Object(c.a)(m,1)[0].isAuthenticated,p=Object(s.j)().push,f=r.a.useState(!1),x=Object(c.a)(f,2),C=x[0],N=x[1],S=r.a.useRef();r.a.useEffect((function(){t.location.state&&S.current.show(M({severity:"success",detail:t.location.state}))}),[t]);var O=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,n,r,o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=2;break}return e.abrupt("return");case 2:return N(!0),a=t.token,n=t.newPassword,e.prev=4,e.next=7,T({token:a,newPassword:n});case 7:r=e.sent,o=r.message,p({pathname:i.routes.login,state:o}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),N(!1),e.t0.response?(l=e.t0.response.data.message,S.current.show(M({severity:"error",summary:"Error",detail:l}))):S.current.show(M({severity:"error",summary:"Network Error",detail:i.networkErrorMessage}));case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();if(d){var A=sessionStorage.getItem("path")||i.routes.dashboard;return sessionStorage.removeItem("path"),r.a.createElement(s.b,{to:A})}return r.a.createElement("div",{className:"p-d-flex p-jc-center p-ai-center",style:{height:"100vh"}},r.a.createElement(y.Card,{header:r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"p-text-center accent-color"},"Tax Computation"),r.a.createElement("div",{className:"divider"})),style:{width:320}},r.a.createElement("form",{className:"p-d-flex p-flex-column",onSubmit:o(O)},r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"token",control:l,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(b.InputText,{style:{marginBottom:5,width:"100%"},placeholder:"Token",maxLength:4,keyfilter:"pint",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),n.token&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"Token is required")),r.a.createElement("div",{style:{marginBottom:15}},r.a.createElement(E.a,{name:"newPassword",control:l,rules:{required:!0},defaultValue:"",render:function(e){return r.a.createElement(w,{placeholder:"New Password",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})}}),n.newPassword&&r.a.createElement("span",{style:{fontSize:12,color:"red"}},"New Password is required")),r.a.createElement(u.Button,{type:"submit",label:C?null:"Reset Password",icon:C?"pi pi-spin pi-spinner":null,style:{width:"100%"}})),r.a.createElement(s.a,{href:i.routes.login,className:"auth-link"},r.a.createElement("p",{style:{marginBottom:0,marginTop:20,fontSize:14}},"Back to login"))),r.a.createElement(v.Toast,{ref:function(e){return S.current=e}}))},Qe=function(e){return function(t){var a=I(),n=Object(c.a)(a,1)[0].isAuthenticated,o=Object(s.i)(),l=Object(c.a)(o,2),u=l[0],m=l[1].replace;return r.a.useEffect((function(){null===n||n||m({pathname:i.routes.login,state:u.location.state})}),[n,m,u]),r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(e,t))}},et=[{path:i.routes.home,name:"HOME",exact:!0,component:_e},{path:i.routes.login,name:"LOGIN",exact:!0,component:We},{path:i.routes.forgot_password,name:"FORGOT_PASSWORD",exact:!0,component:Le},{path:i.routes.reset_password,name:"RESET_PASSWORD",exact:!0,component:$e},{path:i.routes.dashboard,name:"DASHBOARD",exact:!0,component:Qe(Te),resources:[ue]},{path:"".concat(i.routes.fixed_asset).concat("/:mode"),name:"FIXED_ASSET",exact:!0,component:Qe(qe),resources:[me,de]},{path:"".concat(i.routes.profit_loss).concat("/:mode"),name:"PROFIT_LOSS",exact:!0,component:Qe(Ke)},{path:"".concat(i.routes.income_tax).concat("/:mode"),name:"INCOME_TAX",exact:!0,component:Qe(Ve)},{path:"".concat(i.routes.deferred_tax).concat("/:mode"),name:"DEFERRED_TAX",exact:!0,component:Qe(Ie)},{path:"".concat(i.routes.minimum_tax).concat("/:mode"),name:"MINIMUM_TAX",exact:!0,component:Qe(He)},{path:"".concat(i.routes.it_levy).concat("/:mode"),name:"IT_LEVY",exact:!0,component:Qe(Ge)},{path:"".concat(i.routes.capital_allowance).concat("/:mode"),name:"CAPITAL_ALLOWANCE",exact:!0,component:Qe(Ee),resources:[me]},{path:"".concat(i.routes.investment_allowance).concat("/:mode"),name:"INVESTMENT_ALLOWANCE",exact:!0,component:Qe(Ye)},{path:"".concat(i.routes.balancing_adjustment).concat("/:mode"),name:"BALANCING_ADJUSTMENT",exact:!0,component:Qe(ge),resources:[me]},{path:"*",name:"NOT_FOUND",component:Je}],tt=Object(s.e)();var at=function(){var e,t=I(),a=Object(c.a)(t,2),n=a[0],o=a[1].initAuth,l=p(),i=Object(c.a)(l,2),u=i[0],m=i[1].initCompany;return window.onbeforeunload=function(){D(n,"auth"),D(u,"company"),sessionStorage.setItem("path",tt.location.pathname),sessionStorage.setItem("token",n.token)},window.onload=function(){o(P("auth")),m(P("company")),sessionStorage.removeItem("token")},e=n.token,C.a.defaults.baseURL=window.configs.baseURL,C.a.interceptors.request.use((function(t){var a=e||sessionStorage.getItem("token");return a&&(t.headers.Authorization="Bearer ".concat(a)),t}),(function(e){Promise.reject(e)})),r.a.createElement(s.d,{history:tt,routes:et},r.a.createElement(s.c,null))};m.g.devtools=!0,l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(at,null)),document.getElementById("root"))},74:function(e,t,a){e.exports=a(146)},80:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.dc09e2dc.chunk.js.map