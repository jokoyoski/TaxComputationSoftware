{"version":3,"sources":["constants/index.js","store/CompanyStore.js","components/controllers/PasswordController.jsx","apis/Authentication.js","store/AuthStore.js","utils/index.js","components/common/ChangePassword.jsx","apis/Users.js","components/common/CreateUser.jsx","store/ResourcesStore.js","apis/Utilities.js","components/common/CreateAsset.jsx","components/layout/Header.jsx","components/layout/Sidebar.jsx","components/layout/index.jsx","components/common/ViewModeHeaders.jsx","components/common/ViewMode.jsx","apis/BalancingAdjustment.js","components/common/Loader.jsx","components/balancing_adjustment/BalancingAdjustmentView.jsx","components/common/ModuleHeader.jsx","components/layout/Main.jsx","components/balancing_adjustment/BalancingAdjustmentAdding.jsx","apis/Companies.js","apis/TrialBalance.js","routes/resources/index.js","components/common/PageLoader.jsx","components/common/Error.jsx","pages/BalancingAdjustment.jsx","apis/CapitalAllowance.js","components/capital_allowance/CapitalAllowanceView.jsx","components/capital_allowance/CapitalAllowanceAdding.jsx","pages/CapitalAllowance.jsx","components/dashboard/AddCompanyForm.jsx","components/dashboard/FileUploader.jsx","components/dashboard/TrialBalanceTable.jsx","components/dashboard/CompanyPicker.jsx","pages/Dashboard.jsx","components/common/MappingMode.jsx","components/deferred_tax/DeferredTaxView.jsx","pages/DeferredTax.jsx","apis/FixedAsset.js","components/common/TrialBalanceMappingTable.jsx","components/controllers/DropdownController.jsx","components/controllers/InputController.jsx","components/fixed_asset/FixedAssetMapping.jsx","components/fixed_asset/FixedAssetView.jsx","pages/FixedAsset.jsx","pages/ForgotPassword.jsx","pages/Home.jsx","components/income_tax/IncomeTaxView.jsx","pages/IncomeTax.jsx","components/investment_allowance/InvestmentAllowanceView.jsx","pages/InvestmentAllowance.jsx","apis/ITLevy.js","components/it_levy/ITLevyView.jsx","pages/ITLevy.jsx","pages/Login.jsx","apis/MinimumTax.js","components/minimum_tax/MinimumTaxView.jsx","pages/MinimumTax.jsx","pages/NotFound.jsx","apis/ProfitAndLoss.js","components/profit_loss/ProfitAndLossView.jsx","components/profit_loss/ProfitAndLossMapping.jsx","pages/ProfitAndLoss.jsx","pages/ResetPassword.jsx","RouteGuard.js","routes/index.js","App.js","configs/axios.config.js","index.js"],"names":["startYear","toastLifeTime","modes","modules","dashboard","fixedAsset","profit_loss","incomeTax","deferredTax","minimumTax","itLevy","capitalAllowance","investmentAllowance","balancingAdjustment","routes","home","login","forgot_password","reset_password","fixed_asset","income_tax","deferred_tax","minimum_tax","it_levy","capital_allowance","investment_allowance","balancing_adjustment","nonMappedModules","mappingCode","fixedasset","profitandloss","balancingadjustment","deferredtax","incometax","networkErrorMessage","CompanyStore","createStore","initialState","companyId","companyName","companyDescription","cacNumber","tinNumber","actions","initCompany","setState","onSelectCompany","resetCompany","name","useCompany","createHook","PasswordController","placeholder","autoComplete","value","onChange","React","useState","passwordReveal","setPasswordReveal","useEffect","state","style","position","marginBottom","width","paddingRight","type","className","left","right","top","onClick","a","email","password","axios","post","data","forgotPassword","resetPassword","token","newPassword","confirmPassword","changePassword","currentPassword","AuthStore","isAuthenticated","userId","firstName","lastName","initAuth","getState","onLoginSuccess","id","onLogout","callbacks","forEach","cb","Function","useAuth","currencyFormatter","Intl","NumberFormat","currency","format","Date","getFullYear","years","i","constants","push","title","includes","stateName","serializedState","JSON","stringify","sessionStorage","setItem","err","console","log","getItem","removeItem","parse","severity","summary","detail","life","closable","resources","setTbData","trialBalance","filter","d","accountId","item","debit","credit","toLowerCase","map","debitAmt","creditAmt","ChangePassword","setShowChangePassword","useRouter","routerState","useForm","errors","handleSubmit","control","loading","setLoading","toast","useRef","location","current","show","utils","onSubmit","message","response","NewPassword","rules","required","defaultValue","render","props","e","target","fontSize","color","label","icon","ref","el","addUser","phoneNumber","CreateUser","setShowCreateUser","status","setTimeout","code","description","ResourcesStore","companies","fixedAssetModuleItems","profitAndLossModuleItems","initResource","onCompanies","onFixedAssetModuleItems","onProfitAndLossModuleItems","onTrialBalance","resetResources","useResources","getModuleItems","moduleCode","get","createAssetClass","assetName","initial","annual","CreateAsset","setShowCreateAsset","error","pattern","Header","replace","useRouterActions","showSettings","setShowSettings","showChangePassword","showCreateUser","showCreateAsset","background","height","padding","borderLeft","zIndex","marginTop","fontWeight","marginRight","Sidebar","selectedTitle","menuItems","href","margin","index","key","cursor","Layout","children","marginLeft","ViewModeHeaders","headers","header","ViewMode","year","toUpperCase","balancingAdjustmentAdding","assetId","cost","salesProceed","yearBought","formData","FormData","append","balancingAdjustmentViewData","balancingAdjustmentDelete","delete","Loader","BalancingAdjustmentView","isMounted","setError","balancingAdjustmentData","setBalancingAdjustmentData","fetchBalancingAdjustmentViewData","tableData","values","balancingAdjustments","assetNameRow","emptyRow","category","assetYear","costRow","initialAllowanceRow","annualAllowanceRow","residueRow","salesProceedRow","balanceRow","responseDescription","initialAllowance","annualAllowance","residue","twdv","balancingCharge","balancingAllowance","length","field","ModuleHeader","mode","setMode","setYear","setAssetId","yearSelectItems","assetClassSelectItems","addingModules","modeSelectItems","adding","mapping","view","options","disabled","Main","overflowX","BalancingAdjustmentAdding","addCompany","openingYear","closingYear","getCompanies","pageNumber","pageSize","uploadTrialBalance","file","getTrialBalance","companiesResource","createResource","getKey","getData","fixedAssetModuleClassResource","profitandlossModuleClassResource","trialBalanceResource","PageLoader","Error","refresh","textAlign","BalancingAdjustment","useResource","assetClass","assetClassError","assetClassRefresh","usePathParam","setAssetClassSelectItems","toString","assetClassId","baseZIndex","capitalAllowanceAdding","taxYear","openingResidue","addition","disposal","total","closingResidue","yearsToGo","capitalAllowanceViewData","CapitalAllowanceView","capitalAllowanceData","setCapitalAllowanceData","capitalAllowances","openingResidualTotal","additionTotal","disposalTotal","initialTotal","annualTotal","totalTotal","closingResidueTotal","concat","fetchCapitalAllowanceViewData","scrollable","headerStyle","CapitalAllowanceAdding","CapitalAllowance","AddCompanyForm","showAddCompany","setShowAddCompany","companyError","CompanyDescription","visible","focusOnShow","onHide","htmlFor","FileUploader","company","setRefreshTrialBalanceTable","setFile","onUpload","accept","opacity","files","TrialBalanceTable","refreshTrialBalanceTable","tbData","fetchTrialBalance","paginator","rows","rowsPerPageOptions","footer","CompanyPicker","showCompanyPicker","setShowCompanyPicker","companySelectItems","blockScroll","closeOnEscape","optionLabel","autoFocus","filterBy","Dashboard","setCompanySelectItems","isActive","MappingMode","selectedAccounts","setSelectedAccounts","accountDescription","debitAmount","creditAmount","allAccount","selection","onSelectionChange","selectionMode","DeferredTaxView","deferredTaxData","DeferredTax","fixedAssetMapping","yearId","mappedCode","triBalanceId","isCost","openingCost","transferCost","transferDepreciation","isTransferCostRemoved","isTransferDepreciationRemoved","costAddition","costDisposal","openingDepreciation","depreciationAddition","depreciationDisposal","fixedAssetViewData","fixedAssetUnmapping","put","TrialBalanceMappingTable","trialBalanceRefresh","debitRowChecks","setDebitRowChecks","creditRowChecks","setCreditRowChecks","find","mappedTo","body","rowData","checked","selectedAccountIndex","selectedAccount","trialBalanceId","isDebit","isCredit","isBoth","some","DropdownController","Controller","controllerName","otherRules","dropdownOptions","onChangeCallback","errorMessage","InputController","FixedAssetMapping","closingBalance","setClosingBalance","closingBalanceAmt","setClosingBalanceAmt","selectedAssetType","setSelectedAssetType","transferChecked","setTransferChecked","typeSelectItems","reduce","accumulator","assetType","openingBalance","transfer","isNaN","account","Number","costClosing","depreciationClosing","undefined","inputId","FixedAssetView","fixedAssetApiData","setFixedAssetApiData","fixedAssetData","setFixedAssetData","newState","Array","from","s","fixedAssetName","openingCostTotal","additionCostTotal","disposalCostTotal","transferCostTotal","closingCostTotal","openingDepreciationTotal","additionDepreciationTotal","disposalDepreciationTotal","transferDepreciationTotal","closingDepreciationTotal","netBookValue","acc","cur","slice","fetchFixedAssetViewData","FixedAsset","trialBalanceError","ForgotPassword","pathname","path","to","Home","IncomeTaxView","incomeTaxData","IncomeTax","InvestmentAllowanceView","investmentAllowanceData","InvestmentAllowance","itLevyViewData","ITLevyView","itLevyData","setITLevyData","profitBeforeTaxation","itLevyAt1PercentThereIn","fetchITLevyViewData","ITLevy","Login","user","minimumTaxViewData","MinimumTaxView","minimumTaxData","setMinimumTaxData","fivePercentTurnOver","dividend","turnOver","fetchMinimumTaxViewData","MinimumTax","NotFound","profitAndLossMapping","profitAndLossId","trialBalanceList","profitAndLossViewData","ProfitAndLossView","profitAndLossApiData","setProfitAndLossApiData","fetchProfitAndLossViewData","ProfitAndLossMapping","ProfitAndLoss","ResetPassword","maxLength","keyfilter","Component","exact","component","RouteGuard","history","createBrowserHistory","App","authToken","auth","window","onbeforeunload","onload","defaults","baseURL","configs","interceptors","request","use","config","Promise","reject","devtools","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.677628ea.chunk.js","sourcesContent":["export default {\r\n  startYear: 1980,\r\n  toastLifeTime: 6000,\r\n  modes: [\"adding\", \"mapping\", \"view\"],\r\n  modules: {\r\n    dashboard: \"Dashboard\",\r\n    fixedAsset: \"Fixed Asset\",\r\n    profit_loss: \"Profit & Loss\",\r\n    incomeTax: \"Income Tax\",\r\n    deferredTax: \"Deferred Tax\",\r\n    minimumTax: \"Minimum Tax\",\r\n    itLevy: \"I.T Levy\",\r\n    capitalAllowance: \"Capital Allowance\",\r\n    investmentAllowance: \"Investment Allowance\",\r\n    balancingAdjustment: \"Balancing Adjustment\"\r\n  },\r\n  routes: {\r\n    home: \"/\",\r\n    login: \"/login\",\r\n    forgot_password: \"/forgot_password\",\r\n    reset_password: \"/reset_password\",\r\n    dashboard: \"/dashboard\",\r\n    fixed_asset: \"/fixed_asset\",\r\n    profit_loss: \"/profit_loss\",\r\n    income_tax: \"/income_tax\",\r\n    deferred_tax: \"/deferred_tax\",\r\n    minimum_tax: \"/minimum_tax\",\r\n    it_levy: \"/it_levy\",\r\n    capital_allowance: \"/capital_allowance\",\r\n    investment_allowance: \"/investment_allowance\",\r\n    balancing_adjustment: \"/balancing_adjustment\"\r\n  },\r\n  nonMappedModules: [\"Minimum Tax\", \"Investment Allowance\", \"I.T Levy\"],\r\n  mappingCode: {\r\n    fixedasset: \"fixedasset\",\r\n    profitandloss: \"profitandloss\",\r\n    balancingadjustment: \"balancingadjustment\",\r\n    deferredtax: \"deferredtax\",\r\n    incometax: \"incometax\"\r\n  },\r\n  networkErrorMessage: \"Unable to reach server, check your network or contact your admin\"\r\n};\r\n","import { createStore, createHook } from \"react-sweet-state\";\r\n\r\nconst CompanyStore = createStore({\r\n  initialState: {\r\n    companyId: null,\r\n    companyName: \"\",\r\n    companyDescription: \"\",\r\n    cacNumber: \"\",\r\n    tinNumber: \"\"\r\n  },\r\n  actions: {\r\n    initCompany: initialState => ({ setState }) => setState(initialState),\r\n    onSelectCompany: ({ companyId, companyName, companyDescription, cacNumber, tinNumber }) => ({\r\n      setState\r\n    }) => setState({ companyId, companyName, companyDescription, cacNumber, tinNumber }),\r\n    resetCompany: () => ({ setState }) =>\r\n      setState({\r\n        companyId: null,\r\n        companyName: \"\",\r\n        companyDescription: \"\",\r\n        cacNumber: \"\",\r\n        tinNumber: \"\"\r\n      })\r\n  },\r\n  name: \"company\"\r\n});\r\n\r\nexport const useCompany = createHook(CompanyStore);\r\n","import React from \"react\";\r\nimport { InputText } from \"primereact/inputtext\";\r\n\r\nconst PasswordController = ({ placeholder, autoComplete, value, onChange }) => {\r\n  const [passwordReveal, setPasswordReveal] = React.useState(false);\r\n\r\n  React.useEffect(() => setPasswordReveal(state => (!value ? false : state)), [value]);\r\n\r\n  return (\r\n    <div style={{ position: \"relative\" }}>\r\n      <InputText\r\n        style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\r\n        type={passwordReveal ? \"text\" : \"password\"}\r\n        autoComplete={autoComplete}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={onChange}\r\n      />\r\n      {value && (\r\n        <i\r\n          className={passwordReveal ? \"pi pi-eye-slash\" : \"pi pi-eye\"}\r\n          style={{\r\n            position: \"absolute\",\r\n            left: \"auto\",\r\n            right: 10,\r\n            top: 12.5\r\n          }}\r\n          onClick={() => setPasswordReveal(!passwordReveal)}></i>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PasswordController;\r\n","import axios from \"axios\";\r\n\r\nexport const login = async ({ email, password }) => {\r\n  try {\r\n    const { data } = await axios.post(\"/api/Authentication/login\", { email, password });\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const forgotPassword = async ({ email }) => {\r\n  try {\r\n    const { data } = await axios.post(`/api/Authentication/forgot-password/${email}`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const resetPassword = async ({ token, newPassword }) => {\r\n  try {\r\n    const { data } = await axios.post(\"/api/Authentication/reset-password\", {\r\n      token,\r\n      newPassword,\r\n      confirmPassword: newPassword\r\n    });\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const changePassword = async ({ currentPassword, newPassword }) => {\r\n  try {\r\n    const { data } = await axios.post(\"/api/Authentication/change-password\", {\r\n      currentPassword,\r\n      newPassword,\r\n      confirmPassword: newPassword\r\n    });\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import { createStore, createHook } from \"react-sweet-state\";\r\n\r\nconst AuthStore = createStore({\r\n  initialState: {\r\n    isAuthenticated: null,\r\n    userId: null,\r\n    token: \"\",\r\n    email: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\"\r\n  },\r\n  actions: {\r\n    initAuth: initialState => ({ setState, getState }) => {\r\n      setState(initialState);\r\n      if (getState().isAuthenticated === null) {\r\n        setState({ isAuthenticated: false });\r\n      }\r\n    },\r\n    onLoginSuccess: ({ id: userId, token, email, firstName, lastName }) => ({ setState }) =>\r\n      setState({ isAuthenticated: true, userId, token, email, firstName, lastName }),\r\n    onLogout: (...callbacks) => ({ setState }) => {\r\n      callbacks.forEach(cb => (cb instanceof Function ? cb() : null));\r\n      setState({\r\n        isAuthenticated: false,\r\n        userId: null,\r\n        token: \"\",\r\n        email: \"\",\r\n        firstName: \"\",\r\n        lastName: \"\"\r\n      });\r\n    }\r\n  },\r\n  name: \"auth\"\r\n});\r\n\r\nexport const useAuth = createHook(AuthStore);\r\n","import constants from \"../constants\";\r\n\r\n/** get current year */\r\nconst currentYear = () => new Date().getFullYear();\r\n\r\n/** get years from start year to current year */\r\nconst getYears = () => {\r\n  let currentYear = new Date().getFullYear();\r\n  let years = [];\r\n  for (var i = currentYear; i >= constants.startYear; i--) {\r\n    years.push(i);\r\n  }\r\n  return years;\r\n};\r\n\r\n/** default page mode */\r\nconst defaultMode = title =>\r\n  constants.nonMappedModules.includes(title)\r\n    ? \"view\"\r\n    : [constants.modules.balancingAdjustment, constants.modules.capitalAllowance].includes(title)\r\n    ? \"adding\"\r\n    : \"mapping\";\r\n\r\n/** save store state */\r\nconst saveState = (state, stateName) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    sessionStorage.setItem(stateName, serializedState);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\n/** load store state */\r\nconst loadState = stateName => {\r\n  try {\r\n    const serializedState = sessionStorage.getItem(stateName);\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    sessionStorage.removeItem(stateName);\r\n    return JSON.parse(serializedState);\r\n  } catch (err) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\n/** convert number to currency */\r\nconst currencyFormatter = value => {\r\n  const formatter = new Intl.NumberFormat(\"en-NG\", {\r\n    style: \"currency\",\r\n    currency: \"NGN\"\r\n  });\r\n\r\n  return formatter.format(value);\r\n};\r\n\r\n/** toast notification callback function */\r\nconst toastCallback = ({ severity, summary, detail }) => ({\r\n  severity,\r\n  summary,\r\n  detail,\r\n  life: constants.toastLifeTime,\r\n  closable: false\r\n});\r\n\r\n/** set trial balance data */\r\nconst onTbData = (resources, setTbData) => {\r\n  if (resources.trialBalance) {\r\n    setTbData(\r\n      resources.trialBalance\r\n        ? resources.trialBalance\r\n            .filter(\r\n              d =>\r\n                !(d.accountId === \"\" && d.item === \"\" && d.debit === 0 && d.credit === 0) &&\r\n                !d.item.toLowerCase().includes(\"total\")\r\n            )\r\n            .map(d => ({\r\n              ...d,\r\n              debitAmt: currencyFormatter(d.debit),\r\n              creditAmt: currencyFormatter(d.credit)\r\n            }))\r\n        : []\r\n    );\r\n  }\r\n};\r\n\r\nexport default {\r\n  currentYear,\r\n  getYears,\r\n  defaultMode,\r\n  saveState,\r\n  loadState,\r\n  currencyFormatter,\r\n  toastCallback,\r\n  onTbData\r\n};\r\n","import React from \"react\";\r\nimport { Card } from \"primereact/card\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { useRouter } from \"react-resource-router\";\r\nimport PasswordController from \"../controllers/PasswordController\";\r\nimport { changePassword } from \"../../apis/Authentication\";\r\nimport constants from \"../../constants\";\r\nimport { useAuth } from \"../../store/AuthStore\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport utils from \"../../utils\";\r\n\r\nconst ChangePassword = ({ setShowChangePassword }) => {\r\n  const [routerState] = useRouter();\r\n  const { errors, handleSubmit, control } = useForm();\r\n  const [, { onLogout }] = useAuth();\r\n  const [, { resetCompany }] = useCompany();\r\n  const [loading, setLoading] = React.useState(false);\r\n  const toast = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    if (routerState.location.state)\r\n      toast.current.show(\r\n        utils.toastCallback({ severity: \"success\", detail: routerState.location.state })\r\n      );\r\n  }, [routerState]);\r\n\r\n  const onSubmit = async data => {\r\n    if (loading) return;\r\n\r\n    const { currentPassword, newPassword } = data;\r\n    // display error notification if current password and new password are the same\r\n    if (currentPassword === newPassword) {\r\n      toast.current.show(\r\n        utils.toastCallback({\r\n          severity: \"error\",\r\n          detail: \"Current Password and New Password cannot be the same\"\r\n        })\r\n      );\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const { message } = await changePassword({ currentPassword, newPassword });\r\n      routerState.location.state = message;\r\n      onLogout(resetCompany);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      if (error.response) {\r\n        const { data } = error.response;\r\n        // display error as toast notification\r\n        toast.current.show(\r\n          utils.toastCallback({\r\n            severity: \"error\",\r\n            summary: \"Error\",\r\n            detail: data.message || data.errors.NewPassword[0]\r\n          })\r\n        );\r\n      } else {\r\n        // network errors\r\n        toast.current.show(\r\n          utils.toastCallback({\r\n            severity: \"error\",\r\n            summary: \"Network Error\",\r\n            detail: constants.networkErrorMessage\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-d-flex p-jc-center p-ai-center overlay\">\r\n      <Card style={{ width: 320 }}>\r\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"currentPassword\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <PasswordController\r\n                  placeholder=\"Current Password\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.currentPassword && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>Current Password is required</span>\r\n            )}\r\n          </div>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"newPassword\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <PasswordController\r\n                  placeholder=\"New Password\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.newPassword && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>New Password is required</span>\r\n            )}\r\n          </div>\r\n          <Button\r\n            type=\"submit\"\r\n            label={!loading ? \"Change Password\" : null}\r\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        </form>\r\n        {!loading && (\r\n          <p className=\"back-to-app-link\" onClick={() => setShowChangePassword(state => !state)}>\r\n            Back to app\r\n          </p>\r\n        )}\r\n      </Card>\r\n      <Toast ref={el => (toast.current = el)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n","import axios from \"axios\";\r\n\r\nexport const addUser = async ({\r\n  email,\r\n  password,\r\n  confirmPassword,\r\n  phoneNumber,\r\n  firstName,\r\n  lastName\r\n}) => {\r\n  try {\r\n    return await axios.post(\"/api/Users/add-user\", {\r\n      email,\r\n      password,\r\n      confirmPassword,\r\n      phoneNumber,\r\n      firstName,\r\n      lastName\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Card } from \"primereact/card\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport PasswordController from \"../controllers/PasswordController\";\r\nimport constants from \"../../constants\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { addUser } from \"../../apis/Users\";\r\nimport utils from \"../../utils\";\r\n\r\nconst CreateUser = ({ setShowCreateUser }) => {\r\n  const { errors, handleSubmit, control } = useForm();\r\n  const [loading, setLoading] = React.useState(false);\r\n  const toast = React.useRef();\r\n\r\n  const onSubmit = async data => {\r\n    if (loading) return;\r\n\r\n    const { email, password, firstName, lastName, phoneNumber } = data;\r\n    const confirmPassword = password;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await addUser({\r\n        email,\r\n        password,\r\n        confirmPassword,\r\n        firstName,\r\n        lastName,\r\n        phoneNumber\r\n      });\r\n      if (response.status === 201) {\r\n        toast.current.show(\r\n          utils.toastCallback({\r\n            severity: \"success\",\r\n            detail: \"User created successfully\"\r\n          })\r\n        );\r\n        setTimeout(() => setShowCreateUser(false), 2000);\r\n      }\r\n    } catch (error) {\r\n      setLoading(false);\r\n      if (error.response) {\r\n        const { data } = error.response;\r\n        // display error as toast notification\r\n        toast.current.show(\r\n          utils.toastCallback({\r\n            severity: \"error\",\r\n            summary: data[0].code,\r\n            detail: data[0].description\r\n          })\r\n        );\r\n      } else {\r\n        // network errors\r\n        toast.current.show(\r\n          utils.toastCallback({\r\n            severity: \"error\",\r\n            summary: \"Network Error\",\r\n            detail: constants.networkErrorMessage\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-d-flex p-jc-center p-ai-center overlay\">\r\n      <Card style={{ width: 320 }}>\r\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"email\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\r\n                  placeholder=\"Email\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.email && <span style={{ fontSize: 12, color: \"red\" }}>Email is required</span>}\r\n          </div>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"password\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <PasswordController\r\n                  placeholder=\"Password\"\r\n                  autoComplete=\"new-password\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.password && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>Password is required</span>\r\n            )}\r\n          </div>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"firstName\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\r\n                  placeholder=\"First Name\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.firstName && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>First Name is required</span>\r\n            )}\r\n          </div>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"lastName\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\r\n                  placeholder=\"Last Name\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.lastName && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>Last Name is required</span>\r\n            )}\r\n          </div>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"phoneNumber\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\r\n                  placeholder=\"Phone Number\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.phoneNumber && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>Phone Number is required</span>\r\n            )}\r\n          </div>\r\n          <Button\r\n            type=\"submit\"\r\n            label={!loading ? \"Create User\" : null}\r\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        </form>\r\n        {!loading && (\r\n          <p className=\"back-to-app-link\" onClick={() => setShowCreateUser(state => !state)}>\r\n            Back to app\r\n          </p>\r\n        )}\r\n      </Card>\r\n      <Toast ref={el => (toast.current = el)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateUser;\r\n","import { createStore, createHook } from \"react-sweet-state\";\r\n\r\nconst ResourcesStore = createStore({\r\n  initialState: {\r\n    companies: null,\r\n    fixedAssetModuleItems: null,\r\n    profitAndLossModuleItems: null,\r\n    trialBalance: null\r\n  },\r\n  actions: {\r\n    initResource: initialState => ({ setState }) => setState(initialState),\r\n    onCompanies: companies => ({ setState }) => setState({ companies }),\r\n    onFixedAssetModuleItems: fixedAssetModuleItems => ({ setState }) =>\r\n      setState({ fixedAssetModuleItems }),\r\n    onProfitAndLossModuleItems: profitAndLossModuleItems => ({ setState }) =>\r\n      setState({ profitAndLossModuleItems }),\r\n    onTrialBalance: trialBalance => ({ setState }) => setState({ trialBalance }),\r\n    resetResources: () => ({ setState }) =>\r\n      setState({\r\n        companies: null,\r\n        fixedAssetModuleItems: null,\r\n        profitAndLossModuleItems: null,\r\n        trialBalance: null\r\n      })\r\n  },\r\n  name: \"resources\"\r\n});\r\n\r\nexport const useResources = createHook(ResourcesStore);\r\n","import axios from \"axios\";\r\n\r\nexport const getModuleItems = async ({ moduleCode }) => {\r\n  try {\r\n    const { data } = await axios.get(`/api/Utilities/module-items/${moduleCode}`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const createAssetClass = async ({ assetName, initial, annual }) => {\r\n  try {\r\n    return await axios.post(\"/api/Utilities/asset-class\", { assetName, initial, annual });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Card } from \"primereact/card\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport constants from \"../../constants\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport utils from \"../../utils\";\r\nimport { createAssetClass } from \"../../apis/Utilities\";\r\n\r\nconst CreateAsset = ({ setShowCreateAsset }) => {\r\n  const { errors, handleSubmit, control } = useForm();\r\n  const [loading, setLoading] = React.useState(false);\r\n  const toast = React.useRef();\r\n\r\n  const onSubmit = async data => {\r\n    if (loading) return;\r\n\r\n    const { assetName, initial, annual } = data;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await createAssetClass({\r\n        assetName,\r\n        initial: initial ? initial : 0,\r\n        annual: annual ? annual : 0\r\n      });\r\n      if (response.status === 200) {\r\n        toast.current.show(\r\n          utils.toastCallback({\r\n            severity: \"success\",\r\n            detail: \"Asset created successfully\"\r\n          })\r\n        );\r\n        setTimeout(() => setShowCreateAsset(false), 2000);\r\n      }\r\n    } catch (error) {\r\n      setLoading(false);\r\n      if (error.response) {\r\n        const { data } = error.response;\r\n        data.errors.error.forEach(err => {\r\n          toast.current.show(\r\n            utils.toastCallback({\r\n              severity: \"error\",\r\n              detail: err\r\n            })\r\n          );\r\n        });\r\n      } else {\r\n        // network errors\r\n        toast.current.show(\r\n          utils.toastCallback({\r\n            severity: \"error\",\r\n            summary: \"Network Error\",\r\n            detail: constants.networkErrorMessage\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-d-flex p-jc-center p-ai-center overlay\">\r\n      <Card style={{ width: 320 }}>\r\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"assetName\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\r\n                  placeholder=\"Asset Name\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.assetName && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>Asset Name is required</span>\r\n            )}\r\n          </div>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"initial\"\r\n              control={control}\r\n              rules={{ pattern: /^\\d*(\\.\\d+)?$/ }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\r\n                  placeholder=\"Initial\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.initial && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>Initial must contain only numbers</span>\r\n            )}\r\n          </div>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"annual\"\r\n              control={control}\r\n              rules={{ pattern: /^\\d*(\\.\\d+)?$/ }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\", paddingRight: 33 }}\r\n                  placeholder=\"Annual\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.annual && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>Annual must contain only numbers</span>\r\n            )}\r\n          </div>\r\n          <Button\r\n            type=\"submit\"\r\n            label={!loading ? \"Create Asset\" : null}\r\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        </form>\r\n        {!loading && (\r\n          <p className=\"back-to-app-link\" onClick={() => setShowCreateAsset(state => !state)}>\r\n            Back to app\r\n          </p>\r\n        )}\r\n      </Card>\r\n      <Toast ref={el => (toast.current = el)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateAsset;\r\n","import React from \"react\";\r\nimport { Button } from \"primereact/button\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport { useRouterActions } from \"react-resource-router\";\r\nimport constants from \"../../constants\";\r\nimport ChangePassword from \"../common/ChangePassword\";\r\nimport CreateUser from \"../common/CreateUser\";\r\nimport { useResources } from \"../../store/ResourcesStore\";\r\nimport CreateAsset from \"../common/CreateAsset\";\r\n\r\nconst Header = ({ title, loading }) => {\r\n  const { replace } = useRouterActions();\r\n  const [showSettings, setShowSettings] = React.useState();\r\n  const [showChangePassword, setShowChangePassword] = React.useState();\r\n  const [showCreateUser, setShowCreateUser] = React.useState();\r\n  const [showCreateAsset, setShowCreateAsset] = React.useState();\r\n  const [{ companyName }, { resetCompany }] = useCompany();\r\n  const [, { resetResources }] = useResources();\r\n\r\n  const onSwitchCompany = () => {\r\n    setShowSettings(false);\r\n    resetCompany();\r\n    resetResources();\r\n    replace(constants.routes.home);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"p-d-flex p-jc-between p-ai-center drop-shadow\"\r\n        style={{\r\n          background: \"#fff\",\r\n          width: \"calc(100% - 256px)\",\r\n          height: 66,\r\n          padding: \"0px 20px\",\r\n          position: \"fixed\",\r\n          borderLeft: \"2px solid #f5f6f8\",\r\n          zIndex: 1\r\n        }}>\r\n        <p style={{ marginTop: 5, marginBottom: 0, fontSize: 18, fontWeight: 600 }}>{title}</p>\r\n        {!loading && (\r\n          <div className=\"p-d-flex p-ai-center\">\r\n            <p style={{ marginRight: 10 }}>{companyName}</p>\r\n            <div style={{ position: \"relative\" }}>\r\n              <Button\r\n                icon=\"pi pi-cog pi-20\"\r\n                className=\"p-button-text\"\r\n                onClick={() => setShowSettings(!showSettings)}\r\n              />\r\n              {showSettings && (\r\n                <div\r\n                  className=\"drop-shadow\"\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    right: 0,\r\n                    width: 170,\r\n                    padding: 5,\r\n                    background: \"#fff\"\r\n                  }}>\r\n                  <p\r\n                    className=\"settings-item\"\r\n                    onClick={() => {\r\n                      setShowCreateUser(!showCreateUser);\r\n                      setShowSettings(false);\r\n                    }}>\r\n                    Create User\r\n                  </p>\r\n                  <p\r\n                    className=\"settings-item\"\r\n                    onClick={() => {\r\n                      setShowCreateAsset(!showCreateAsset);\r\n                      setShowSettings(false);\r\n                    }}>\r\n                    Create Asset\r\n                  </p>\r\n                  <p className=\"settings-item\" onClick={onSwitchCompany}>\r\n                    Switch Company\r\n                  </p>\r\n                  <p\r\n                    className=\"settings-item\"\r\n                    onClick={() => {\r\n                      setShowChangePassword(!showChangePassword);\r\n                      setShowSettings(false);\r\n                    }}>\r\n                    Change Password\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {showChangePassword && <ChangePassword setShowChangePassword={setShowChangePassword} />}\r\n      {showCreateUser && <CreateUser setShowCreateUser={setShowCreateUser} />}\r\n      {showCreateAsset && <CreateAsset setShowCreateAsset={setShowCreateAsset} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Link } from \"react-resource-router\";\r\nimport constants from \"../../constants\";\r\nimport { useAuth } from \"../../store/AuthStore\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport utils from \"../../utils\";\r\n\r\nconst Sidebar = ({ selectedTitle }) => {\r\n  const [{ firstName, lastName, email }, { onLogout }] = useAuth();\r\n  const [{ companyId }, { resetCompany }] = useCompany();\r\n  const menuItems = [\r\n    { title: \"Dashboard\", href: constants.routes.dashboard },\r\n    {\r\n      title: constants.modules.fixedAsset,\r\n      href: `${constants.routes.fixed_asset}/${utils.defaultMode(constants.modules.fixedAsset)}`\r\n    },\r\n    {\r\n      title: constants.modules.profit_loss,\r\n      href: `${constants.routes.profit_loss}/${utils.defaultMode(constants.modules.profit_loss)}`\r\n    },\r\n    {\r\n      title: constants.modules.incomeTax,\r\n      href: `${constants.routes.income_tax}/${utils.defaultMode(constants.modules.incomeTax)}`\r\n    },\r\n    {\r\n      title: constants.modules.deferredTax,\r\n      href: `${constants.routes.deferred_tax}/${utils.defaultMode(constants.modules.deferredTax)}`\r\n    },\r\n    {\r\n      title: constants.modules.minimumTax,\r\n      href: `${constants.routes.minimum_tax}/${utils.defaultMode(constants.modules.minimumTax)}`\r\n    },\r\n    {\r\n      title: constants.modules.itLevy,\r\n      href: `${constants.routes.it_levy}/${utils.defaultMode(constants.modules.itLevy)}`\r\n    },\r\n    {\r\n      title: constants.modules.capitalAllowance,\r\n      href: `${constants.routes.capital_allowance}/${utils.defaultMode(\r\n        constants.modules.capitalAllowance\r\n      )}`\r\n    },\r\n    {\r\n      title: constants.modules.investmentAllowance,\r\n      href: `${constants.routes.investment_allowance}/${utils.defaultMode(\r\n        constants.modules.investmentAllowance\r\n      )}`\r\n    },\r\n    {\r\n      title: constants.modules.balancingAdjustment,\r\n      href: `${constants.routes.balancing_adjustment}/${utils.defaultMode(\r\n        constants.modules.balancingAdjustment\r\n      )}`\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"p-d-flex\" style={{ position: \"fixed\", zIndex: 1 }}>\r\n      <div\r\n        className=\"p-d-flex p-flex-column\"\r\n        style={{\r\n          width: 256,\r\n          height: \"100vh\",\r\n          background: \"#fff\"\r\n        }}>\r\n        <h2 className=\"accent-color\" style={{ margin: \"5px 0\", padding: \"10px 20px\" }}>\r\n          Tax Computation\r\n        </h2>\r\n        <div className=\"divider\"></div>\r\n        <div style={{ padding: \"10px 20px\" }}>\r\n          <div style={{ marginTop: 10, background: \"#f5f6f8\", padding: 10 }}>\r\n            <h4 style={{ marginTop: 5, marginBottom: 0 }}>\r\n              {firstName} {lastName}\r\n            </h4>\r\n            <p style={{ fontSize: 12, margin: 0 }}>{email}</p>\r\n          </div>\r\n        </div>\r\n        {menuItems.map((item, index) => (\r\n          <Link\r\n            key={index}\r\n            href={companyId ? item.href : null}\r\n            className=\"sidebar-link\"\r\n            style={{ padding: \"5px 20px\" }}>\r\n            <p\r\n              className={\r\n                selectedTitle.toLowerCase() === item.title.toLowerCase() ? \"accent-color\" : \"\"\r\n              }\r\n              style={{ marginTop: 5, marginBottom: 0 }}>\r\n              {item.title}\r\n            </p>\r\n          </Link>\r\n        ))}\r\n        <div className=\"divider\" style={{ margin: \"10px 0px\" }}></div>\r\n        <div className=\"sidebar-link\" style={{ padding: \"0px 20px\" }}>\r\n          <p\r\n            style={{ margin: 0, cursor: \"pointer\" }}\r\n            onClick={() => {\r\n              onLogout(resetCompany);\r\n            }}>\r\n            Logout\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Sidebar from \"./Sidebar\";\r\n\r\nconst Layout = ({ title, loading, children }) => {\r\n  return (\r\n    <div className=\"p-d-flex\">\r\n      <Sidebar selectedTitle={title} />\r\n      <div className=\"p-d-flex p-flex-column\" style={{ width: \"100%\", marginLeft: 256 }}>\r\n        <Header title={title} loading={loading} />\r\n        <div style={{ padding: 20, marginTop: 66 }}>{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import React from \"react\";\r\n\r\nconst ViewModeHeaders = ({ headers }) => {\r\n  return (\r\n    <>\r\n      {headers.map((header, index) => (\r\n        <p key={index} className=\"view-description\">\r\n          {header}\r\n        </p>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ViewModeHeaders;\r\n","import React from \"react\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport ViewModeHeaders from \"./ViewModeHeaders\";\r\n\r\nconst ViewMode = ({ title, year, children }) => {\r\n  const [{ companyName }] = useCompany();\r\n  return (\r\n    <>\r\n      <ViewModeHeaders\r\n        headers={[\r\n          companyName.toUpperCase(),\r\n          `${year} INCOME TAX COMPUTATIONS`,\r\n          `AUDITED ACCOUNTS FOR THE YEAR ENDED 31 DECEMBER, ${year - 1}`,\r\n          {\r\n            \"Fixed Asset\": \"ANALYSIS OF FIXED ASSET MOVEMENT\",\r\n            \"Profit & Loss\": \"SUMMARY OF PROFIT & LOSS ACCOUNTS\",\r\n            \"Income Tax\": \"INCOME TAX COMPUTATION\",\r\n            \"Deferred Tax\": \"DEFERRED TAX COMPUTATION\",\r\n            \"Minimum Tax\": \"MINIMUM TAX COMPUTATION\",\r\n            \"I.T Levy\": \"I.T. LEVY COMPUTATION (BASED ON THE 2007 CITA AMENDMENT)\",\r\n            \"Investment Allowance\": \"COMPUTATION OF INVESTMENT ALLOWANCE\",\r\n            \"Balancing Allowance\": \"COMPUTATION OF BALANCING ALLOWANCE/CHARGE\"\r\n          }[title]\r\n        ]}\r\n      />\r\n      {children}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ViewMode;\r\n","import axios from \"axios\";\r\n\r\nexport const balancingAdjustmentAdding = async ({\r\n  year,\r\n  assetId,\r\n  cost,\r\n  salesProceed,\r\n  yearBought,\r\n  companyId\r\n}) => {\r\n  try {\r\n    var formData = new FormData();\r\n    formData.append(\"Year\", year);\r\n    formData.append(\"AssetId\", assetId);\r\n    formData.append(\"Cost\", cost);\r\n    formData.append(\"SalesProceed\", salesProceed);\r\n    formData.append(\"YearBought\", yearBought);\r\n    formData.append(\"CompanyId\", companyId);\r\n    return await axios.post(\"/api/BalancingAdjustment\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      }\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const balancingAdjustmentViewData = async ({ companyId, year }) => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `/api/BalancingAdjustment?companyId=${companyId}&year=${year}`\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const balancingAdjustmentDelete = async ({ id }) => {\r\n  try {\r\n    const { data } = await axios.delete(`/api/BalancingAdjustment/${id}`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React from \"react\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"p-d-flex p-flex-column p-jc-center p-ai-center\" style={{ width: \"100%\" }}>\r\n      <i className=\"pi pi-spin pi-spinner\" style={{ fontSize: 24 }}></i>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport {\r\n  balancingAdjustmentDelete,\r\n  balancingAdjustmentViewData\r\n} from \"../../apis/BalancingAdjustment\";\r\nimport utils from \"../../utils\";\r\nimport Loader from \"../common/Loader\";\r\n\r\nconst BalancingAdjustmentView = ({ year, toast }) => {\r\n  const isMounted = React.useRef(false);\r\n  const [{ companyId }] = useCompany();\r\n  const [loading, setLoading] = React.useState();\r\n  const [error, setError] = React.useState();\r\n  const [balancingAdjustmentData, setBalancingAdjustmentData] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    if (!companyId) return;\r\n\r\n    isMounted.current = true;\r\n    const fetchBalancingAdjustmentViewData = async () => {\r\n      try {\r\n        setError(null);\r\n        setLoading(true);\r\n        const data = await balancingAdjustmentViewData({ companyId, year });\r\n        if (isMounted.current) {\r\n          setBalancingAdjustmentData(() => {\r\n            const tableData = [];\r\n            data.values.balancingAdjustments.forEach((balancingAdjustment, index) => {\r\n              const assetNameRow = {};\r\n              const emptyRow = {};\r\n\r\n              assetNameRow.category = <strong>{balancingAdjustment.assetName}</strong>;\r\n\r\n              tableData.push(assetNameRow);\r\n\r\n              balancingAdjustment.assetYear.forEach((assetYear, index) => {\r\n                const costRow = {};\r\n                const initialAllowanceRow = {};\r\n                const annualAllowanceRow = {};\r\n                const residueRow = {};\r\n                const salesProceedRow = {};\r\n                const balanceRow = {};\r\n\r\n                costRow.category = (\r\n                  <div className=\"p-d-flex p-jc-between p-ai-center\">\r\n                    <p>{`Cost up to ${assetYear.yearBought} YOA`}</p>\r\n                    <i\r\n                      className=\"pi pi-times-circle delete\"\r\n                      style={{ fontSize: 14, marginTop: 2 }}\r\n                      onClick={async () => {\r\n                        try {\r\n                          const data = await balancingAdjustmentDelete({\r\n                            id: assetYear.id\r\n                          });\r\n                          if (data) {\r\n                            toast.show(\r\n                              utils.toastCallback({\r\n                                severity: \"success\",\r\n                                detail: data.responseDescription\r\n                              })\r\n                            );\r\n                            fetchBalancingAdjustmentViewData();\r\n                          }\r\n                        } catch (error) {\r\n                          console.log(error);\r\n                        }\r\n                      }}></i>\r\n                  </div>\r\n                );\r\n                costRow.credit = utils.currencyFormatter(assetYear.cost);\r\n                costRow.cost = utils.currencyFormatter(assetYear.cost);\r\n\r\n                initialAllowanceRow.category = \"Initial Allowance\";\r\n                initialAllowanceRow.credit = utils.currencyFormatter(assetYear.initialAllowance);\r\n\r\n                annualAllowanceRow.category = `Annual allowances up to ${year - 1}`;\r\n                annualAllowanceRow.credit = utils.currencyFormatter(assetYear.annualAllowance);\r\n\r\n                residueRow.category = `Residue at 31.12.${year - 1}`;\r\n                residueRow.credit = utils.currencyFormatter(assetYear.residue);\r\n                residueRow.twdv = utils.currencyFormatter(assetYear.residue);\r\n\r\n                salesProceedRow.category = \"Sales Proceeds\";\r\n                salesProceedRow.credit = utils.currencyFormatter(assetYear.salesProceed);\r\n                salesProceedRow.salesProceed = utils.currencyFormatter(assetYear.salesProceed);\r\n\r\n                if (assetYear.balancingCharge > 0) {\r\n                  balanceRow.category = \"Balancing Charge\";\r\n                  balanceRow.credit = utils.currencyFormatter(assetYear.balancingCharge);\r\n                  balanceRow.balancingCharge = utils.currencyFormatter(assetYear.balancingCharge);\r\n                } else {\r\n                  balanceRow.category = \"Balancing Allowance\";\r\n                  balanceRow.credit = utils.currencyFormatter(assetYear.balancingAllowance);\r\n                  balanceRow.balancingCharge = utils.currencyFormatter(\r\n                    assetYear.balancingAllowance\r\n                  );\r\n                }\r\n\r\n                tableData.push(costRow);\r\n                tableData.push(initialAllowanceRow);\r\n                tableData.push(annualAllowanceRow);\r\n                tableData.push(residueRow);\r\n                tableData.push(salesProceedRow);\r\n                tableData.push(balanceRow);\r\n                if (index < balancingAdjustment.assetYear.length - 1) tableData.push(emptyRow);\r\n              });\r\n\r\n              if (index < data.values.balancingAdjustments.length - 1) tableData.push(emptyRow);\r\n            });\r\n            return tableData;\r\n          });\r\n        }\r\n      } catch (error) {\r\n        if (isMounted.current) {\r\n          if (error.response) setError(error.response.data.errors[0]);\r\n          else setError(error.message);\r\n        }\r\n      } finally {\r\n        if (isMounted.current) setLoading(false);\r\n      }\r\n    };\r\n    fetchBalancingAdjustmentViewData();\r\n\r\n    return () => (isMounted.current = false);\r\n  }, [companyId, toast, year]);\r\n\r\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\r\n\r\n  if (loading) return <Loader />;\r\n\r\n  if (balancingAdjustmentData.length === 0)\r\n    return (\r\n      <p style={{ color: \"#f00\" }}>Currently, no data for the selected year for this company</p>\r\n    );\r\n\r\n  return (\r\n    <DataTable\r\n      className=\"p-datatable-gridlines\"\r\n      value={balancingAdjustmentData}\r\n      style={{ marginTop: 40 }}>\r\n      <Column field=\"category\" header=\"\"></Column>\r\n      <Column field=\"credit\" header=\"\"></Column>\r\n      <Column field=\"balancingAllowance\" header=\"Balancing Allowance\"></Column>\r\n      <Column field=\"balancingCharge\" header=\"Balancing Charge\"></Column>\r\n      <Column field=\"cost\" header=\"Cost\"></Column>\r\n      <Column field=\"salesProceed\" header=\"Sales Proceed\"></Column>\r\n      <Column field=\"twdv\" header=\"TWDV\"></Column>\r\n    </DataTable>\r\n  );\r\n};\r\n\r\nexport default BalancingAdjustmentView;\r\n","import React from \"react\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\nimport constants from \"../../constants\";\r\n\r\nconst ModuleHeader = ({\r\n  title,\r\n  mode,\r\n  setMode,\r\n  year,\r\n  setYear,\r\n  assetId,\r\n  setAssetId,\r\n  yearSelectItems,\r\n  assetClassSelectItems\r\n}) => {\r\n  const addingModules = [constants.modules.balancingAdjustment, constants.modules.capitalAllowance];\r\n  const modeSelectItems = [\r\n    {\r\n      label: addingModules.includes(title) ? \"Adding - Mode\" : \"Mapping - Mode\",\r\n      value: addingModules.includes(title) ? \"adding\" : \"mapping\"\r\n    },\r\n    { label: \"View - Mode\", value: \"view\" }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"p-d-flex p-jc-center p-flex-column\" style={{ width: \"100%\" }}>\r\n      <div className=\"p-d-flex p-ai-center p-jc-between\" style={{ padding: \"0px 20px\" }}>\r\n        <p style={{ fontSize: 18, fontWeight: 600 }}>\r\n          {title}\r\n          {\r\n            {\r\n              adding: \" - Adding\",\r\n              mapping: \" - Mapping\",\r\n              view: \" - View\"\r\n            }[mode]\r\n          }\r\n        </p>\r\n        <div>\r\n          {mode === \"view\" ? (\r\n            title !== constants.modules.capitalAllowance ? (\r\n              <Dropdown\r\n                style={{ width: 180, marginRight: 20 }}\r\n                placeholder=\"Select year\"\r\n                value={year}\r\n                options={yearSelectItems}\r\n                onChange={e => {\r\n                  setYear(e.value);\r\n                }}\r\n              />\r\n            ) : (\r\n              <>\r\n                {assetId && (\r\n                  <Dropdown\r\n                    style={{ width: 180, marginRight: 20 }}\r\n                    placeholder=\"Select asset\"\r\n                    value={assetId}\r\n                    options={assetClassSelectItems}\r\n                    onChange={e => {\r\n                      setAssetId(e.value);\r\n                    }}\r\n                  />\r\n                )}\r\n              </>\r\n            )\r\n          ) : null}\r\n          <Dropdown\r\n            style={{ width: 180 }}\r\n            value={mode}\r\n            disabled={constants.nonMappedModules.includes(title)}\r\n            options={modeSelectItems}\r\n            onChange={e => {\r\n              setMode(e.value);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"divider\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModuleHeader;\r\n","import React from \"react\";\r\nimport { Card } from \"primereact/card\";\r\nimport ModuleHeader from \"../common/ModuleHeader\";\r\nimport constants from \"../../constants\";\r\nimport utils from \"../../utils\";\r\n\r\nconst Main = ({\r\n  title,\r\n  mode,\r\n  setMode,\r\n  year,\r\n  setYear,\r\n  yearSelectItems,\r\n  assetId,\r\n  setAssetId,\r\n  assetClassSelectItems,\r\n  children\r\n}) => {\r\n  if (!constants.modes.includes(mode)) setMode(utils.defaultMode(title));\r\n\r\n  return (\r\n    <Card\r\n      header={\r\n        <ModuleHeader\r\n          title={title}\r\n          mode={mode}\r\n          setMode={setMode}\r\n          year={year}\r\n          setYear={setYear}\r\n          assetId={assetId}\r\n          setAssetId={setAssetId}\r\n          yearSelectItems={yearSelectItems}\r\n          assetClassSelectItems={assetClassSelectItems}\r\n        />\r\n      }\r\n      style={{ width: \"100%\", overflowX: \"auto\" }}>\r\n      {children}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\nimport { Button } from \"primereact/button\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport { balancingAdjustmentAdding } from \"../../apis/BalancingAdjustment\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport utils from \"../../utils\";\r\nimport constants from \"../../constants\";\r\n\r\nconst BalancingAdjustmentAdding = ({ yearSelectItems, assetClassSelectItems, toast }) => {\r\n  const { errors, handleSubmit, control } = useForm();\r\n  const [{ companyId }] = useCompany();\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const onSubmit = async data => {\r\n    if (loading) return;\r\n\r\n    const { year, assetId, cost, salesProceed, yearBought } = data;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await balancingAdjustmentAdding({\r\n        year,\r\n        assetId,\r\n        cost,\r\n        salesProceed,\r\n        yearBought,\r\n        companyId\r\n      });\r\n      if (response.status === 200) {\r\n        toast.show(\r\n          utils.toastCallback({\r\n            severity: \"success\",\r\n            detail: response.data.responseDescription\r\n          })\r\n        );\r\n      }\r\n    } catch (error) {\r\n      if (error.response) {\r\n        toast.show(\r\n          utils.toastCallback({\r\n            severity: \"error\",\r\n            summary: \"Error\",\r\n            detail:\r\n              \"An error occurred while calculating balancing adjustment, kindly contact your admin.\"\r\n          })\r\n        );\r\n        return;\r\n      }\r\n      toast.show(\r\n        utils.toastCallback({\r\n          severity: \"error\",\r\n          summary: \"Network Error\",\r\n          detail: constants.networkErrorMessage\r\n        })\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"p-d-flex p-flex-column p-jc-between\" onSubmit={handleSubmit(onSubmit)}>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 120 }}>Year</p>\r\n          <Controller\r\n            name=\"year\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <Dropdown\r\n                style={{ marginBottom: 5, width: 200 }}\r\n                value={props.value}\r\n                options={yearSelectItems}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.year && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 120 }}>Year is required</div>\r\n        )}\r\n      </div>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 120 }}>Asset</p>\r\n          <Controller\r\n            name=\"assetId\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <Dropdown\r\n                style={{ marginBottom: 5, width: 200 }}\r\n                value={props.value}\r\n                options={assetClassSelectItems}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.assetId && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 120 }}>Asset is required</div>\r\n        )}\r\n      </div>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 120 }}>Cost</p>\r\n          <Controller\r\n            name=\"cost\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <InputText\r\n                style={{ width: 200 }}\r\n                value={props.value}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.cost && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 120 }}>Cost is required</div>\r\n        )}\r\n      </div>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 120 }}>Sales Proceed</p>\r\n          <Controller\r\n            name=\"salesProceed\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <InputText\r\n                style={{ width: 200 }}\r\n                value={props.value}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.salesProceed && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 120 }}>\r\n            Sales Proceed is required\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 120 }}>Year Bought</p>\r\n          <Controller\r\n            name=\"yearBought\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <Dropdown\r\n                style={{ marginBottom: 5, width: 200 }}\r\n                value={props.value}\r\n                options={yearSelectItems}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.yearBought && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 120 }}>Year Bought is required</div>\r\n        )}\r\n      </div>\r\n      <div className=\"p-d-flex p-flex-column\" style={{ marginTop: 10 }}>\r\n        <Button\r\n          type=\"submit\"\r\n          label={!loading ? \"Submit\" : null}\r\n          icon={loading ? \"pi pi-spin pi-spinner\" : null}\r\n          style={{ width: 320 }}\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default BalancingAdjustmentAdding;\r\n","import axios from \"axios\";\r\n\r\nexport const addCompany = async ({\r\n  companyName,\r\n  companyDescription,\r\n  cacNumber,\r\n  tinNumber,\r\n  openingYear,\r\n  closingYear\r\n}) => {\r\n  try {\r\n    return await axios.post(\"/api/Companies/add-company\", {\r\n      companyName,\r\n      companyDescription,\r\n      cacNumber,\r\n      tinNumber,\r\n      openingYear,\r\n      closingYear\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getCompanies = async (pageNumber = 1, pageSize = 1000) => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `/api/Companies/get-companies${\r\n        pageNumber && pageSize ? `?PageNumber=${pageNumber}&PageSIze=${pageSize}` : \"\"\r\n      }`\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport const uploadTrialBalance = async ({ file, companyId, year }) => {\r\n  try {\r\n    var formData = new FormData();\r\n    formData.append(\"File\", file.item(0));\r\n    formData.append(\"CompanyId\", companyId);\r\n    formData.append(\"YearId\", year);\r\n    return await axios.post(\"/api/TrialBalance\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      }\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getTrialBalance = async ({ companyId, year }) => {\r\n  try {\r\n    const { data } = await axios.get(`/api/TrialBalance?companyId=${companyId}&yearId=${year}`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import { createResource } from \"react-resource-router\";\r\nimport { getCompanies } from \"../../apis/Companies\";\r\nimport { getTrialBalance } from \"../../apis/TrialBalance\";\r\nimport { getModuleItems } from \"../../apis/Utilities\";\r\nimport utils from \"../../utils\";\r\n\r\nexport const companiesResource = createResource({\r\n  type: \"COMPANIES\",\r\n  getKey: () => \"companies\",\r\n  getData: () => getCompanies()\r\n});\r\n\r\nexport const fixedAssetModuleClassResource = createResource({\r\n  type: \"FIXED_ASSET_MODULE_CLASS\",\r\n  getKey: () => \"fixedAssetModuleClass\",\r\n  getData: () => getModuleItems({ moduleCode: \"fixedasset\" })\r\n});\r\n\r\nexport const profitandlossModuleClassResource = createResource({\r\n  type: \"PROFIT_AND_LOSS_MODULE_CLASS\",\r\n  getKey: () => \"profitandlossModuleClass\",\r\n  getData: () => getModuleItems({ moduleCode: \"profitandloss\" })\r\n});\r\n\r\nexport const trialBalanceResource = createResource({\r\n  type: \"TRIAL_BALANCE\",\r\n  getKey: () => \"trialBalance\",\r\n  getData: () =>\r\n    getTrialBalance({ companyId: sessionStorage.getItem(\"cid\"), year: utils.currentYear() })\r\n});\r\n","import React from \"react\";\r\nimport Layout from \"../layout\";\r\n\r\nconst PageLoader = ({ title }) => {\r\n  return (\r\n    <Layout title={title} loading={true}>\r\n      <div\r\n        className=\"p-d-flex p-flex-column p-jc-center p-ai-center\"\r\n        style={{ height: \"calc(100vh - 120px)\" }}>\r\n        <i className=\"pi pi-spin pi-spinner\" style={{ fontSize: 24 }}></i>\r\n        <p>Loading data...</p>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default PageLoader;\r\n","import { Button } from \"primereact/button\";\r\nimport React from \"react\";\r\nimport constants from \"../../constants\";\r\nimport Layout from \"../layout\";\r\n\r\nconst Error = ({ title, error, refresh }) => {\r\n  return (\r\n    <Layout title={title}>\r\n      <div\r\n        className=\"p-d-flex p-flex-column p-jc-center p-ai-center\"\r\n        style={{ height: \"calc(100vh - 120px)\" }}>\r\n        <Button\r\n          icon=\"pi pi-refresh pi-24\"\r\n          className=\"p-button-rounded p-button-text\"\r\n          onClick={refresh}\r\n        />\r\n        <div style={{ width: 400, textAlign: \"center\" }}>\r\n          {error.response ? (\r\n            error.response.data.errors.error.map(error => <p>{error}</p>)\r\n          ) : error.message === \"Network Error\" ? (\r\n            <p>{constants.networkErrorMessage}</p>\r\n          ) : (\r\n            <p>{error.message}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import React from \"react\";\r\nimport Layout from \"../components/layout\";\r\nimport ViewMode from \"../components/common/ViewMode\";\r\nimport constants from \"../constants\";\r\nimport BalancingAdjustmentView from \"../components/balancing_adjustment/BalancingAdjustmentView\";\r\nimport Main from \"../components/layout/Main\";\r\nimport utils from \"../utils\";\r\nimport { usePathParam, useResource } from \"react-resource-router\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport BalancingAdjustmentAdding from \"../components/balancing_adjustment/BalancingAdjustmentAdding\";\r\nimport { fixedAssetModuleClassResource } from \"../routes/resources\";\r\nimport { useResources } from \"../store/ResourcesStore\";\r\nimport PageLoader from \"../components/common/PageLoader\";\r\nimport Error from \"../components/common/Error\";\r\n\r\nconst BalancingAdjustment = () => {\r\n  const title = constants.modules.balancingAdjustment;\r\n  const toast = React.useRef();\r\n  const { data: assetClass, error: assetClassError, refresh: assetClassRefresh } = useResource(\r\n    fixedAssetModuleClassResource\r\n  );\r\n  const [mode, setMode] = usePathParam(\"mode\");\r\n  const [resources, { onFixedAssetModuleItems }] = useResources();\r\n  const [assetClassSelectItems, setAssetClassSelectItems] = React.useState([]);\r\n  const [year, setYear] = React.useState(utils.currentYear());\r\n  const yearSelectItems = utils.getYears(year => ({\r\n    label: year.toString(),\r\n    value: year.toString()\r\n  }));\r\n\r\n  React.useEffect(() => {\r\n    if (assetClass) onFixedAssetModuleItems(assetClass);\r\n  }, [assetClass, onFixedAssetModuleItems]);\r\n\r\n  React.useEffect(() => {\r\n    if (resources.fixedAssetModuleItems) {\r\n      setAssetClassSelectItems(\r\n        resources.fixedAssetModuleItems.map(({ id: assetClassId, name }) => ({\r\n          label: name,\r\n          value: assetClassId\r\n        }))\r\n      );\r\n    }\r\n  }, [resources.fixedAssetModuleItems]);\r\n\r\n  if (assetClassError)\r\n    return <Error title={title} error={assetClassError} refresh={assetClassRefresh} />;\r\n\r\n  if (!resources.fixedAssetModuleItems) return <PageLoader title={title} />;\r\n\r\n  return (\r\n    <Layout title={title}>\r\n      <Main\r\n        title={title}\r\n        mode={mode}\r\n        setMode={setMode}\r\n        year={year}\r\n        setYear={setYear}\r\n        yearSelectItems={yearSelectItems}>\r\n        {\r\n          {\r\n            adding: (\r\n              <BalancingAdjustmentAdding\r\n                yearSelectItems={yearSelectItems}\r\n                assetClassSelectItems={assetClassSelectItems}\r\n                toast={toast.current}\r\n              />\r\n            ),\r\n            view: (\r\n              <ViewMode title={title} year={year}>\r\n                <BalancingAdjustmentView year={year} toast={toast.current} />\r\n              </ViewMode>\r\n            )\r\n          }[mode]\r\n        }\r\n      </Main>\r\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default BalancingAdjustment;\r\n","import axios from \"axios\";\r\n\r\nexport const capitalAllowanceAdding = async ({\r\n  companyId,\r\n  taxYear,\r\n  assetId,\r\n  openingResidue,\r\n  addition,\r\n  disposal,\r\n  initial,\r\n  annual,\r\n  total,\r\n  closingResidue,\r\n  yearsToGo\r\n}) => {\r\n  try {\r\n    return await axios.post(\"/api/CapitalAllowance\", {\r\n      companyId,\r\n      taxYear,\r\n      assetId,\r\n      openingResidue,\r\n      addition,\r\n      disposal,\r\n      initial,\r\n      annual,\r\n      total,\r\n      closingResidue,\r\n      yearsToGo\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const capitalAllowanceViewData = async ({ companyId, assetId }) => {\r\n  try {\r\n    const { data } = await axios.get(`/api/CapitalAllowance/${companyId}/${assetId}`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport Loader from \"../common/Loader\";\r\nimport { capitalAllowanceViewData } from \"../../apis/CapitalAllowance\";\r\nimport utils from \"../../utils\";\r\n\r\nconst CapitalAllowanceView = ({ assetId }) => {\r\n  const isMounted = React.useRef(false);\r\n  const [{ companyId }] = useCompany();\r\n  const [loading, setLoading] = React.useState();\r\n  const [error, setError] = React.useState();\r\n  const [capitalAllowanceData, setCapitalAllowanceData] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    if (!companyId) return;\r\n\r\n    isMounted.current = true;\r\n    const fetchCapitalAllowanceViewData = async () => {\r\n      if (!assetId) return;\r\n\r\n      try {\r\n        setError(null);\r\n        setLoading(true);\r\n        const {\r\n          capitalAllowances,\r\n          openingResidualTotal,\r\n          additionTotal,\r\n          disposalTotal,\r\n          initialTotal,\r\n          annualTotal,\r\n          totalTotal,\r\n          closingResidueTotal\r\n        } = await capitalAllowanceViewData({ companyId, assetId });\r\n        if (isMounted.current)\r\n          setCapitalAllowanceData(() => {\r\n            const newState = capitalAllowances\r\n              .map(capitalAllowance => ({\r\n                ...capitalAllowance,\r\n                taxYear: <strong>{capitalAllowance.taxYear}</strong>,\r\n                openingResidue: capitalAllowance.openingResidue,\r\n                addition: capitalAllowance.addition,\r\n                disposal: capitalAllowance.disposal,\r\n                initial: capitalAllowance.initial,\r\n                annual: capitalAllowance.annual,\r\n                total: capitalAllowance.total,\r\n                closingResidue: capitalAllowance.closingResidue\r\n              }))\r\n              .concat([\r\n                {\r\n                  taxYear: \"\",\r\n                  openingResidue: \"\",\r\n                  addition: \"\",\r\n                  disposal: \"\",\r\n                  initial: \"\",\r\n                  annual: \"\",\r\n                  total: \"\",\r\n                  closingResidue: \"\"\r\n                },\r\n                {\r\n                  openingResidue: <strong>{utils.currencyFormatter(openingResidualTotal)}</strong>,\r\n                  addition: <strong>{utils.currencyFormatter(additionTotal)}</strong>,\r\n                  disposal: <strong>{utils.currencyFormatter(disposalTotal)}</strong>,\r\n                  initial: <strong>{utils.currencyFormatter(initialTotal)}</strong>,\r\n                  annual: <strong>{utils.currencyFormatter(annualTotal)}</strong>,\r\n                  total: <strong>{utils.currencyFormatter(totalTotal)}</strong>,\r\n                  closingResidue: <strong>{utils.currencyFormatter(closingResidueTotal)}</strong>\r\n                }\r\n              ]);\r\n\r\n            return newState;\r\n          });\r\n      } catch (error) {\r\n        if (isMounted.current) {\r\n          if (error.response) setError(error.response.data.errors[0]);\r\n          else setError(error.message);\r\n        }\r\n      } finally {\r\n        if (isMounted.current) setLoading(false);\r\n      }\r\n    };\r\n    fetchCapitalAllowanceViewData();\r\n\r\n    return () => (isMounted.current = false);\r\n  }, [companyId, assetId]);\r\n\r\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\r\n\r\n  if (loading) return <Loader />;\r\n\r\n  if (capitalAllowanceData.length === 0)\r\n    return (\r\n      <p style={{ color: \"#f00\" }}>Currently, no data for the selected year for this company</p>\r\n    );\r\n\r\n  return (\r\n    <DataTable\r\n      className=\"p-datatable-gridlines\"\r\n      value={capitalAllowanceData}\r\n      style={{ marginTop: 40, width: 1200 }}\r\n      scrollable>\r\n      <Column field=\"taxYear\" header=\"Tax Year\" headerStyle={{ width: \"6em\" }}></Column>\r\n      <Column\r\n        field=\"openingResidue\"\r\n        header=\"Opening Residue\"\r\n        headerStyle={{ width: \"10em\" }}></Column>\r\n      <Column field=\"addition\" header=\"Addition\" headerStyle={{ width: \"10em\" }}></Column>\r\n      <Column field=\"disposal\" header=\"Disposal\" headerStyle={{ width: \"10em\" }}></Column>\r\n      <Column field=\"initial\" header=\"Initial\" headerStyle={{ width: \"10em\" }}></Column>\r\n      <Column field=\"annual\" header=\"Annual\" headerStyle={{ width: \"10em\" }}></Column>\r\n      <Column field=\"total\" header=\"Total\" headerStyle={{ width: \"10em\" }}></Column>\r\n      <Column\r\n        field=\"closingResidue\"\r\n        header=\"Closing Residue\"\r\n        headerStyle={{ width: \"10em\" }}></Column>\r\n      <Column field=\"yearsToGo\" header=\"Yr to go\" headerStyle={{ width: \"6em\" }}></Column>\r\n    </DataTable>\r\n  );\r\n};\r\n\r\nexport default CapitalAllowanceView;\r\n","import React from \"react\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\nimport { Button } from \"primereact/button\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport utils from \"../../utils\";\r\nimport constants from \"../../constants\";\r\nimport { capitalAllowanceAdding } from \"../../apis/CapitalAllowance\";\r\n\r\nconst CapitalAllowanceAdding = ({ yearSelectItems, assetClassSelectItems, toast }) => {\r\n  const { errors, handleSubmit, control } = useForm();\r\n  const [{ companyId }] = useCompany();\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const onSubmit = async data => {\r\n    if (loading) return;\r\n\r\n    const {\r\n      taxYear,\r\n      assetId,\r\n      openingResidue,\r\n      addition,\r\n      disposal,\r\n      initial,\r\n      annual,\r\n      total,\r\n      closingResidue,\r\n      yearsToGo\r\n    } = data;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await capitalAllowanceAdding({\r\n        companyId,\r\n        taxYear,\r\n        assetId,\r\n        openingResidue,\r\n        addition,\r\n        disposal,\r\n        initial,\r\n        annual,\r\n        total,\r\n        closingResidue,\r\n        yearsToGo\r\n      });\r\n      if (response.status === 200) {\r\n        toast.show(\r\n          utils.toastCallback({\r\n            severity: \"success\",\r\n            detail: response.data\r\n          })\r\n        );\r\n      }\r\n    } catch (error) {\r\n      if (error.response) {\r\n        toast.show(\r\n          utils.toastCallback({\r\n            severity: \"error\",\r\n            summary: \"Error\",\r\n            detail:\r\n              \"An error occurred while calculating capital allowance, kindly contact your admin.\"\r\n          })\r\n        );\r\n        return;\r\n      }\r\n      toast.show(\r\n        utils.toastCallback({\r\n          severity: \"error\",\r\n          summary: \"Network Error\",\r\n          detail: constants.networkErrorMessage\r\n        })\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"p-d-flex p-flex-column p-jc-between\" onSubmit={handleSubmit(onSubmit)}>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Tax Year</p>\r\n          <Controller\r\n            name=\"taxYear\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <Dropdown\r\n                style={{ marginBottom: 5, width: 200 }}\r\n                value={props.value}\r\n                options={yearSelectItems}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.taxYear && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Tax Year is required</div>\r\n        )}\r\n      </div>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Asset</p>\r\n          <Controller\r\n            name=\"assetId\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <Dropdown\r\n                style={{ marginBottom: 5, width: 200 }}\r\n                value={props.value}\r\n                options={assetClassSelectItems}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.assetId && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Asset is required</div>\r\n        )}\r\n      </div>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Opening Residue</p>\r\n          <Controller\r\n            name=\"openingResidue\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <InputText\r\n                style={{ width: 200 }}\r\n                value={props.value}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.openingResidue && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>\r\n            Opening Residue is required\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Addition</p>\r\n          <Controller\r\n            name=\"addition\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <InputText\r\n                style={{ width: 200 }}\r\n                value={props.value}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.addition && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Addition is required</div>\r\n        )}\r\n      </div>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Disposal</p>\r\n          <Controller\r\n            name=\"disposal\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <InputText\r\n                style={{ width: 200 }}\r\n                value={props.value}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.disposal && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Disposal is required</div>\r\n        )}\r\n      </div>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Initial</p>\r\n          <Controller\r\n            name=\"initial\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <InputText\r\n                style={{ width: 200 }}\r\n                value={props.value}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.initial && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Initial is required</div>\r\n        )}\r\n      </div>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Annual</p>\r\n          <Controller\r\n            name=\"annual\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <InputText\r\n                style={{ width: 200 }}\r\n                value={props.value}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.annual && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Annual is required</div>\r\n        )}\r\n      </div>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Total</p>\r\n          <Controller\r\n            name=\"total\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <InputText\r\n                style={{ width: 200 }}\r\n                value={props.value}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.total && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Total is required</div>\r\n        )}\r\n      </div>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Closing Residue</p>\r\n          <Controller\r\n            name=\"closingResidue\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <InputText\r\n                style={{ width: 200 }}\r\n                value={props.value}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.closingResidue && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>\r\n            Closing Residue is required\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div style={{ marginBottom: 10 }}>\r\n        <div className=\"p-d-flex p-ai-center\">\r\n          <p style={{ marginBottom: 5, marginTop: 0, width: 150 }}>Years To Go</p>\r\n          <Controller\r\n            name=\"yearsToGo\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <InputText\r\n                style={{ width: 200 }}\r\n                value={props.value}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n        {errors.yearsToGo && (\r\n          <div style={{ fontSize: 12, color: \"red\", marginLeft: 150 }}>Years To Go is required</div>\r\n        )}\r\n      </div>\r\n      <div className=\"p-d-flex p-flex-column\" style={{ marginTop: 10 }}>\r\n        <Button\r\n          type=\"submit\"\r\n          label={!loading ? \"Submit\" : null}\r\n          icon={loading ? \"pi pi-spin pi-spinner\" : null}\r\n          style={{ width: 350 }}\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CapitalAllowanceAdding;\r\n","import React from \"react\";\r\nimport Layout from \"../components/layout\";\r\nimport ViewMode from \"../components/common/ViewMode\";\r\nimport constants from \"../constants\";\r\nimport CapitalAllowanceView from \"../components/capital_allowance/CapitalAllowanceView\";\r\nimport Main from \"../components/layout/Main\";\r\nimport utils from \"../utils\";\r\nimport CapitalAllowanceAdding from \"../components/capital_allowance/CapitalAllowanceAdding\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport { fixedAssetModuleClassResource } from \"../routes/resources\";\r\nimport { useResources } from \"../store/ResourcesStore\";\r\nimport { usePathParam, useResource } from \"react-resource-router\";\r\nimport PageLoader from \"../components/common/PageLoader\";\r\nimport Error from \"../components/common/Error\";\r\n\r\nconst CapitalAllowance = () => {\r\n  const title = constants.modules.capitalAllowance;\r\n  const toast = React.useRef();\r\n  const { data: assetClass, error: assetClassError, refresh: assetClassRefresh } = useResource(\r\n    fixedAssetModuleClassResource\r\n  );\r\n  const [resources, { onFixedAssetModuleItems }] = useResources();\r\n  const [mode, setMode] = usePathParam(\"mode\");\r\n  const [year, setYear] = React.useState(utils.currentYear());\r\n  const [assetId, setAssetId] = React.useState();\r\n  const [assetClassSelectItems, setAssetClassSelectItems] = React.useState([]);\r\n  const yearSelectItems = utils.getYears(year => ({\r\n    label: year.toString(),\r\n    value: year.toString()\r\n  }));\r\n\r\n  React.useEffect(() => {\r\n    if (assetClass) onFixedAssetModuleItems(assetClass);\r\n  }, [assetClass, onFixedAssetModuleItems]);\r\n\r\n  React.useEffect(() => {\r\n    if (resources.fixedAssetModuleItems) {\r\n      setAssetClassSelectItems(\r\n        resources.fixedAssetModuleItems.map(({ id: assetClassId, name }) => ({\r\n          label: name,\r\n          value: assetClassId\r\n        }))\r\n      );\r\n      setAssetId(resources.fixedAssetModuleItems[0].id);\r\n    }\r\n  }, [resources.fixedAssetModuleItems]);\r\n\r\n  if (assetClassError)\r\n    return <Error title={title} error={assetClassError} refresh={assetClassRefresh} />;\r\n\r\n  if (!resources.fixedAssetModuleItems) return <PageLoader title={title} />;\r\n\r\n  return (\r\n    <Layout title={title}>\r\n      <Main\r\n        title={title}\r\n        mode={mode}\r\n        setMode={setMode}\r\n        year={year}\r\n        setYear={setYear}\r\n        yearSelectItems={yearSelectItems}\r\n        assetId={assetId}\r\n        setAssetId={setAssetId}\r\n        assetClassSelectItems={assetClassSelectItems}>\r\n        {\r\n          {\r\n            adding: (\r\n              <CapitalAllowanceAdding\r\n                yearSelectItems={yearSelectItems}\r\n                assetClassSelectItems={assetClassSelectItems}\r\n                toast={toast.current}\r\n              />\r\n            ),\r\n            view: (\r\n              <ViewMode title={title} year={year}>\r\n                <CapitalAllowanceView assetId={assetId} />\r\n              </ViewMode>\r\n            )\r\n          }[mode]\r\n        }\r\n      </Main>\r\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default CapitalAllowance;\r\n","import React from \"react\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { Button } from \"primereact/button\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { addCompany } from \"../../apis/Companies\";\r\nimport constants from \"../../constants\";\r\nimport utils from \"../../utils\";\r\n\r\nconst AddCompanyForm = ({ showAddCompany, setShowAddCompany, toast, refresh }) => {\r\n  const { errors, handleSubmit, control } = useForm();\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const onSubmit = async data => {\r\n    if (loading) return;\r\n\r\n    setLoading(true);\r\n    const {\r\n      companyName,\r\n      cacNumber,\r\n      tinNumber,\r\n      companyDescription,\r\n      openingYear,\r\n      closingYear\r\n    } = data;\r\n    try {\r\n      const response = await addCompany({\r\n        companyName,\r\n        cacNumber,\r\n        tinNumber,\r\n        companyDescription,\r\n        openingYear,\r\n        closingYear\r\n      });\r\n      if (response.status === 201) {\r\n        toast.show(\r\n          utils.toastCallback({ severity: \"success\", detail: \"Company added successfully\" })\r\n        );\r\n        setTimeout(() => {\r\n          setLoading(false);\r\n          setShowAddCompany(false);\r\n          refresh();\r\n        }, 2000);\r\n      }\r\n    } catch (error) {\r\n      setLoading(false);\r\n      if (error.response) {\r\n        const {\r\n          data: { errors }\r\n        } = error.response;\r\n        // display main error as toast notification\r\n        if (!errors?.error?.companyError && !errors?.error?.CompanyDescription) {\r\n          errors.map(err =>\r\n            toast.show(utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: err }))\r\n          );\r\n          return;\r\n        }\r\n        // display all errors as toast notification\r\n        errors?.error?.companyError &&\r\n          errors.error.companyError.map(err =>\r\n            toast.show(utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: err }))\r\n          );\r\n        errors?.error?.CompanyDescription &&\r\n          errors.error.CompanyDescription.map(err =>\r\n            toast.show(utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: err }))\r\n          );\r\n      } else {\r\n        // network errors\r\n        toast.show(\r\n          utils.toastCallback({\r\n            summary: \"Network Error\",\r\n            detail: constants.networkErrorMessage\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      header=\"Add Company\"\r\n      visible={showAddCompany}\r\n      style={{ width: 400 }}\r\n      focusOnShow={false}\r\n      onHide={() => setShowAddCompany(false)}>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15 }}>\r\n          <label htmlFor=\"companyNameInput\" style={{ marginBottom: 10 }}>\r\n            Company Name\r\n          </label>\r\n          <Controller\r\n            name=\"companyName\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <InputText\r\n                style={{ marginBottom: 5, width: \"100%\" }}\r\n                id=\"companyNameInput\"\r\n                value={props.value}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n          {errors.companyName && (\r\n            <span style={{ fontSize: 12, color: \"red\" }}>Company Name is required</span>\r\n          )}\r\n        </div>\r\n        <div className=\"p-d-flex\">\r\n          <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15, marginRight: 10 }}>\r\n            <label htmlFor=\"cacNumberInput\" style={{ marginBottom: 10 }}>\r\n              Cac Number\r\n            </label>\r\n            <Controller\r\n              name=\"cacNumber\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\" }}\r\n                  id=\"cacNumberInput\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.cacNumber && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>Cac Number is required</span>\r\n            )}\r\n          </div>\r\n          <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15, marginLeft: 10 }}>\r\n            <label htmlFor=\"tinNumberInput\" style={{ marginBottom: 10 }}>\r\n              Tin Number\r\n            </label>\r\n            <Controller\r\n              name=\"tinNumber\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\" }}\r\n                  id=\"tinNumberInput\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.tinNumber && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>Tin Number is required</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-d-flex\">\r\n          <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15, marginRight: 10 }}>\r\n            <label htmlFor=\"openingYearInput\" style={{ marginBottom: 10 }}>\r\n              Opening Year\r\n            </label>\r\n            <Controller\r\n              name=\"openingYear\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\" }}\r\n                  id=\"openingYearInput\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.openingYear && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>Opening Year is required</span>\r\n            )}\r\n          </div>\r\n          <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15, marginLeft: 10 }}>\r\n            <label htmlFor=\"closingYearInput\" style={{ marginBottom: 10 }}>\r\n              Closing Year\r\n            </label>\r\n            <Controller\r\n              name=\"closingYear\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\" }}\r\n                  id=\"closingYearInput\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.closingYear && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>Closing Year is required</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-d-flex p-flex-column\" style={{ marginBottom: 15 }}>\r\n          <label htmlFor=\"companyDescriptionInput\" style={{ marginBottom: 10 }}>\r\n            Address\r\n          </label>\r\n          <Controller\r\n            name=\"companyDescription\"\r\n            control={control}\r\n            rules={{ required: true }}\r\n            defaultValue=\"\"\r\n            render={props => (\r\n              <InputText\r\n                style={{ marginBottom: 5, width: \"100%\" }}\r\n                id=\"companyDescriptionInput\"\r\n                value={props.value}\r\n                onChange={e => props.onChange(e.target.value)}\r\n              />\r\n            )}\r\n          />\r\n          {errors.companyDescription && (\r\n            <span style={{ fontSize: 12, color: \"red\" }}>Address is required</span>\r\n          )}\r\n        </div>\r\n        <Button\r\n          label={!loading ? \"Add Company\" : null}\r\n          icon={loading ? \"pi pi-spin pi-spinner\" : null}\r\n          type=\"submit\"\r\n          style={{ width: \"100%\", marginTop: 10 }}\r\n        />\r\n      </form>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddCompanyForm;\r\n","import React from \"react\";\r\nimport { Card } from \"primereact/card\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\nimport utils from \"../../utils\";\r\nimport { uploadTrialBalance } from \"../../apis/TrialBalance\";\r\nimport constants from \"../../constants\";\r\n\r\nconst FileUploader = ({ company: { companyId }, toast, setRefreshTrialBalanceTable }) => {\r\n  const [file, setFile] = React.useState();\r\n  const [year, setYear] = React.useState();\r\n  const [yearSelectItems] = React.useState(utils.getYears());\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const onUpload = async () => {\r\n    if (loading) return;\r\n\r\n    if (!file && !year) {\r\n      toast.show(\r\n        utils.toastCallback({ severity: \"error\", detail: \"Add TB File and Select TB Year\" })\r\n      );\r\n      return;\r\n    } else if (!file) {\r\n      toast.show(utils.toastCallback({ severity: \"error\", detail: \"Add TB File\" }));\r\n      return;\r\n    } else if (!year) {\r\n      toast.show(utils.toastCallback({ severity: \"error\", detail: \"Select TB Year\" }));\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await uploadTrialBalance({ file, companyId, year });\r\n      if (response.status === 200) {\r\n        setYear(null);\r\n        setFile(null);\r\n        setRefreshTrialBalanceTable(true);\r\n        toast.show(utils.toastCallback({ severity: \"success\", detail: response.data }));\r\n      }\r\n    } catch (error) {\r\n      if (error.response) {\r\n        toast.show(\r\n          utils.toastCallback({\r\n            severity: \"error\",\r\n            summary: \"Error\",\r\n            detail: \"An error occurred, kindly contact your admin\"\r\n          })\r\n        );\r\n      } else {\r\n        // network errors\r\n        toast.show(\r\n          utils.toastCallback({\r\n            summary: \"Network Error\",\r\n            detail: constants.networkErrorMessage\r\n          })\r\n        );\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      header={\r\n        <div className=\"p-d-flex p-jc-center p-flex-column\" style={{ width: \"100%\" }}>\r\n          <div className=\"p-d-flex p-ai-center p-jc-between\" style={{ padding: \"0px 20px\" }}>\r\n            <p style={{ fontSize: 18, fontWeight: 600 }}>Upload File</p>\r\n            <div>\r\n              <Dropdown\r\n                style={{ marginRight: 20, width: 110 }}\r\n                value={year}\r\n                options={yearSelectItems}\r\n                onChange={e => {\r\n                  setYear(e.value);\r\n                }}\r\n                placeholder=\"TB Year\"\r\n              />\r\n              <Button\r\n                style={{ width: 110 }}\r\n                label={!loading ? \"Upload\" : null}\r\n                icon={loading ? \"pi pi-spin pi-spinner\" : \"pi pi-upload\"}\r\n                onClick={onUpload}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n        </div>\r\n      }\r\n      style={{ width: \"100%\", marginBottom: 20 }}>\r\n      <div className=\"p-d-flex\">\r\n        <div\r\n          className=\"p-d-flex p-ai-center p-jc-center\"\r\n          style={{ background: \"#f5f6f8\", width: \"100%\", height: 100, position: \"relative\" }}>\r\n          <p className=\"accent-color\" style={{ fontSize: 20 }}>\r\n            {file && file.item(0).name\r\n              ? `\"${file.item(0).name}\" ready for upload`\r\n              : \"Click or Drag and drop Trial Balance file here to upload.\"}\r\n          </p>\r\n          <input\r\n            type=\"file\"\r\n            accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n            style={{\r\n              position: \"absolute\",\r\n              width: \"100%\",\r\n              height: \"100%\",\r\n              opacity: 0\r\n            }}\r\n            onChange={e => setFile(e.target.files)}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default FileUploader;\r\n","import React from \"react\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\nimport { Card } from \"primereact/card\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\nimport utils from \"../../utils\";\r\nimport { getTrialBalance } from \"../../apis/TrialBalance\";\r\n\r\nconst TrialBalanceTable = ({\r\n  company: { companyId },\r\n  refreshTrialBalanceTable,\r\n  setRefreshTrialBalanceTable\r\n}) => {\r\n  const isMounted = React.useRef(false);\r\n  const [year, setYear] = React.useState(utils.currentYear());\r\n  const [yearSelectItems] = React.useState(utils.getYears());\r\n  const [tbData, setTbData] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    isMounted.current = true;\r\n    const fetchTrialBalance = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const data = await getTrialBalance({ companyId, year });\r\n        if (isMounted.current) {\r\n          setTbData(\r\n            data\r\n              ? data.map(d => {\r\n                  if (d.accountId === \"\" && d.item === \"\" && d.debit === 0 && d.credit === 0) {\r\n                    return { ...d, debit: \"\", credit: \"\" };\r\n                  } else {\r\n                    return {\r\n                      ...d,\r\n                      debitAmt: utils.currencyFormatter(d.debit),\r\n                      creditAmt: utils.currencyFormatter(d.credit)\r\n                    };\r\n                  }\r\n                })\r\n              : []\r\n          );\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      } finally {\r\n        if (isMounted.current) setLoading(false);\r\n      }\r\n    };\r\n    if (refreshTrialBalanceTable) {\r\n      fetchTrialBalance();\r\n      if (isMounted.current) setRefreshTrialBalanceTable(false);\r\n    }\r\n\r\n    return () => (isMounted.current = false);\r\n  }, [companyId, year, refreshTrialBalanceTable, setRefreshTrialBalanceTable]);\r\n\r\n  return (\r\n    <Card style={{ width: \"100%\" }}>\r\n      <DataTable\r\n        className=\"p-datatable-gridlines\"\r\n        value={tbData}\r\n        paginator={!loading && tbData.length !== 0}\r\n        rows={10}\r\n        rowsPerPageOptions={[10, 20, 50, 100]}\r\n        header={\r\n          <div className=\"p-d-flex p-ai-center p-jc-between\">\r\n            <p style={{ fontSize: 18, fontWeight: 600 }}>Trial Balance</p>\r\n            <Dropdown\r\n              style={{ width: 110 }}\r\n              value={year}\r\n              options={yearSelectItems}\r\n              onChange={e => {\r\n                setYear(e.value);\r\n                setRefreshTrialBalanceTable(true);\r\n              }}\r\n              placeholder=\"TB Year\"\r\n            />\r\n          </div>\r\n        }\r\n        footer={\r\n          loading || tbData.length === 0 ? (\r\n            <>\r\n              <div className=\"p-d-flex p-ai-center p-jc-center\">\r\n                {loading && <i className=\"pi pi-spin pi-spinner\" style={{ fontSize: \"2em\" }}></i>}\r\n                {!loading && tbData.length === 0 && <p>No Trial Balance data for selected year</p>}\r\n              </div>\r\n            </>\r\n          ) : null\r\n        }>\r\n        <Column field=\"accountId\" header=\"Account ID\"></Column>\r\n        <Column field=\"item\" header=\"Account Description\"></Column>\r\n        <Column field=\"debitAmt\" header=\"Debit Amt\"></Column>\r\n        <Column field=\"creditAmt\" header=\"Credit Amt\"></Column>\r\n      </DataTable>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default TrialBalanceTable;\r\n","import React from \"react\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\n\r\nconst CompanyPicker = ({\r\n  setShowAddCompany,\r\n  showCompanyPicker,\r\n  setShowCompanyPicker,\r\n  company,\r\n  onSelectCompany,\r\n  companySelectItems,\r\n  setRefreshTrialBalanceTable\r\n}) => {\r\n  React.useEffect(() => setRefreshTrialBalanceTable(true), [setRefreshTrialBalanceTable]);\r\n\r\n  return (\r\n    <Dialog\r\n      header=\"Company\"\r\n      footer={\r\n        <div>\r\n          <Button\r\n            label=\"Add Company\"\r\n            onClick={() => {\r\n              setShowAddCompany(true);\r\n              setShowCompanyPicker(false);\r\n            }}\r\n            className=\"p-button-outlined\"\r\n          />\r\n          <Button\r\n            label=\"Proceed\"\r\n            disabled={!company.companyId}\r\n            onClick={() => company.companyId && setShowCompanyPicker(false)}\r\n          />\r\n        </div>\r\n      }\r\n      visible={showCompanyPicker}\r\n      style={{ width: 500 }}\r\n      blockScroll\r\n      focusOnShow={false}\r\n      closeOnEscape={false}\r\n      closable={false}\r\n      onHide={() => /* TODO: Fix here later */ setShowCompanyPicker(false)}>\r\n      <div className=\"p-d-flex p-flex-column\" style={{ height: 300 }}>\r\n        <label htmlFor=\"companyNameInput\" style={{ margin: \"0px 0px 10px 0px\" }}></label>\r\n        <Dropdown\r\n          value={company}\r\n          options={companySelectItems}\r\n          optionLabel=\"name\"\r\n          autoFocus\r\n          filter\r\n          filterBy=\"name\"\r\n          onChange={e => {\r\n            onSelectCompany(e.value);\r\n            sessionStorage.setItem(\"cid\", e.value.companyId);\r\n          }}\r\n          placeholder=\"Select a Company\"\r\n        />\r\n        {companySelectItems && companySelectItems.length === 0 && (\r\n          <div className=\"p-d-flex p-ai-center\" style={{ fontSize: 14, marginTop: 15 }}>\r\n            <i\r\n              className=\"pi pi-exclamation-triangle\"\r\n              style={{ marginRight: 10, color: \"#FBC02D\", fontSize: 20 }}></i>\r\n            <span>There are currently no companies, click add company button.</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default CompanyPicker;\r\n","import React from \"react\";\r\nimport AddCompanyForm from \"../components/dashboard/AddCompanyForm\";\r\nimport FileUploader from \"../components/dashboard/FileUploader\";\r\nimport Layout from \"../components/layout/index\";\r\nimport TrialBalanceTable from \"../components/dashboard/TrialBalanceTable\";\r\nimport CompanyPicker from \"../components/dashboard/CompanyPicker\";\r\nimport { useResource } from \"react-resource-router\";\r\nimport { companiesResource } from \"../routes/resources\";\r\nimport PageLoader from \"../components/common/PageLoader\";\r\nimport constants from \"../constants\";\r\nimport Error from \"../components/common/Error\";\r\nimport { useCompany } from \"../store/CompanyStore\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport { useResources } from \"../store/ResourcesStore\";\r\n\r\nconst Dashboard = () => {\r\n  const title = constants.modules.dashboard;\r\n  const toast = React.useRef();\r\n  const { data: companies, error, refresh } = useResource(companiesResource);\r\n  const [showCompanyPicker, setShowCompanyPicker] = React.useState(true);\r\n  const [showAddCompany, setShowAddCompany] = React.useState(false);\r\n  const [companySelectItems, setCompanySelectItems] = React.useState(null);\r\n  const [refreshTrialBalanceTable, setRefreshTrialBalanceTable] = React.useState(true);\r\n  const [company, { onSelectCompany }] = useCompany();\r\n  const [resources, { onCompanies }] = useResources();\r\n\r\n  React.useEffect(() => {\r\n    if (!showAddCompany) {\r\n      setShowCompanyPicker(true);\r\n    }\r\n  }, [showAddCompany]);\r\n\r\n  React.useEffect(() => {\r\n    if (companies) onCompanies(companies);\r\n  }, [companies, onCompanies]);\r\n\r\n  React.useEffect(() => {\r\n    if (resources.companies) {\r\n      setCompanySelectItems(\r\n        resources.companies.map(\r\n          ({ id: companyId, companyName, companyDescription, cacNumber, tinNumber, isActive }) =>\r\n            isActive && {\r\n              name: companyName,\r\n              value: { companyId, companyName, companyDescription, cacNumber, tinNumber }\r\n            }\r\n        )\r\n      );\r\n    }\r\n  }, [resources.companies]);\r\n\r\n  if (error) return <Error title={title} error={error} refresh={refresh} />;\r\n\r\n  if (!resources.companies) return <PageLoader title={title} />;\r\n\r\n  return (\r\n    <Layout title={title}>\r\n      <FileUploader\r\n        company={company}\r\n        toast={toast.current}\r\n        setRefreshTrialBalanceTable={setRefreshTrialBalanceTable}\r\n      />\r\n      {company.companyId && (\r\n        <TrialBalanceTable\r\n          company={company}\r\n          refreshTrialBalanceTable={refreshTrialBalanceTable}\r\n          setRefreshTrialBalanceTable={setRefreshTrialBalanceTable}\r\n        />\r\n      )}\r\n      <AddCompanyForm\r\n        showAddCompany={showAddCompany}\r\n        setShowAddCompany={setShowAddCompany}\r\n        toast={toast.current}\r\n        refresh={refresh}\r\n      />\r\n      {company.companyId === null && (\r\n        <CompanyPicker\r\n          setShowAddCompany={setShowAddCompany}\r\n          showCompanyPicker={showCompanyPicker}\r\n          setShowCompanyPicker={setShowCompanyPicker}\r\n          company={company}\r\n          onSelectCompany={onSelectCompany}\r\n          companySelectItems={companySelectItems}\r\n          setRefreshTrialBalanceTable={setRefreshTrialBalanceTable}\r\n        />\r\n      )}\r\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from \"react\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\nimport { Button } from \"primereact/button\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\n\r\nconst MappingMode = ({ year, setYear, yearSelectItems }) => {\r\n  const [item, setItem] = React.useState();\r\n  const [selectedAccounts, setSelectedAccounts] = React.useState();\r\n  const [allAccount] = React.useState([\r\n    {\r\n      accountDescription: \"Petty Cash\",\r\n      debitAmount: \"₦52,154.07\",\r\n      creditAmount: \"₦0.00\"\r\n    },\r\n    {\r\n      accountDescription: \"Inventory\",\r\n      debitAmount: \"₦20,000.00\",\r\n      creditAmount: \"₦0.00\"\r\n    },\r\n    {\r\n      accountDescription: \"Plant & Machinery\",\r\n      debitAmount: \"₦3,966,900.64\",\r\n      creditAmount: \"₦0.00\"\r\n    },\r\n    {\r\n      accountDescription: \"Furniture & Fittings\",\r\n      debitAmount: \"₦12,252,961.97\",\r\n      creditAmount: \"₦0.00\"\r\n    },\r\n    {\r\n      accountDescription: \"Branch Cash Movement\",\r\n      debitAmount: \"₦0.00\",\r\n      creditAmount: \"₦349.03\"\r\n    }\r\n  ]);\r\n  const itemSelectItems = [\r\n    { label: \"Revenue\", value: \"Revenue\" },\r\n    { label: \"Other Income\", value: \"Other Income\" }\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <form className=\"p-d-flex p-jc-between\">\r\n        <Dropdown\r\n          style={{ width: 250 }}\r\n          value={item}\r\n          options={itemSelectItems}\r\n          onChange={e => {\r\n            setItem(e.value);\r\n          }}\r\n          placeholder=\"Select an Item\"\r\n        />\r\n        <Dropdown\r\n          style={{ width: 250 }}\r\n          value={year}\r\n          options={yearSelectItems}\r\n          onChange={e => {\r\n            setYear(e.value);\r\n          }}\r\n          placeholder=\"Select Year\"\r\n        />\r\n        <Button type=\"submit\" label=\"Submit\" style={{ width: 250 }} />\r\n      </form>\r\n      <DataTable\r\n        className=\"p-datatable-gridlines\"\r\n        value={allAccount}\r\n        selection={selectedAccounts}\r\n        onSelectionChange={e => {\r\n          setSelectedAccounts(e.value);\r\n        }}\r\n        style={{ marginTop: 50 }}>\r\n        <Column selectionMode=\"multiple\" style={{ width: \"3em\" }} />\r\n        <Column field=\"accountDescription\" header=\"Account Description\"></Column>\r\n        <Column field=\"debitAmount\" header=\"Debit Amount\"></Column>\r\n        <Column field=\"creditAmount\" header=\"Credit Amount\"></Column>\r\n        <Column field=\"mappedCode\" header=\"Mapped To\"></Column>\r\n      </DataTable>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MappingMode;\r\n","import React from \"react\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\n\r\nconst DeferredTaxView = () => {\r\n  const [deferredTaxData] = React.useState([\r\n    {\r\n      category: \"Net Book Value of Fixed Assets as at 31.12.19\",\r\n      debit: \"\",\r\n      credit: \"₦10,633,000.00\"\r\n    },\r\n    {\r\n      category: \"Less:\",\r\n      debit: \"\",\r\n      credit: \"\"\r\n    },\r\n    {\r\n      category: \"Tax Written Down Value as at 31.12.19\",\r\n      debit: \"(₦2,932,845,440.00)\",\r\n      credit: \"\"\r\n    },\r\n    {\r\n      category: \"Unabsorbed Capital Allowance\",\r\n      debit: \"(₦561,061,694.00)\",\r\n      credit: \"\"\r\n    },\r\n    {\r\n      category: \"Impairment on Receivables\",\r\n      debit: \"₦44,723,000.00\",\r\n      credit: \"(₦3,449,184,134.00)\"\r\n    }\r\n  ]);\r\n\r\n  return (\r\n    <DataTable className=\"p-datatable-gridlines\" value={deferredTaxData} style={{ marginTop: 40 }}>\r\n      <Column field=\"category\" header=\"\"></Column>\r\n      <Column field=\"debit\" header=\"₦\"></Column>\r\n      <Column field=\"credit\" header=\"₦\"></Column>\r\n    </DataTable>\r\n  );\r\n};\r\n\r\nexport default DeferredTaxView;\r\n","import React from \"react\";\r\nimport Layout from \"../components/layout\";\r\nimport MappingMode from \"../components/common/MappingMode\";\r\nimport DeferredTaxView from \"../components/deferred_tax/DeferredTaxView\";\r\nimport constants from \"../constants\";\r\nimport ViewMode from \"../components/common/ViewMode\";\r\nimport Main from \"../components/layout/Main\";\r\nimport utils from \"../utils\";\r\nimport { usePathParam } from \"react-resource-router\";\r\n\r\nconst DeferredTax = () => {\r\n  const title = constants.modules.deferredTax;\r\n  const [mode, setMode] = usePathParam(\"mode\");\r\n  const [year, setYear] = React.useState(utils.currentYear());\r\n  const yearSelectItems = utils.getYears(year => ({\r\n    label: year.toString(),\r\n    value: year.toString()\r\n  }));\r\n\r\n  return (\r\n    <Layout title={title}>\r\n      <Main\r\n        title={title}\r\n        mode={mode}\r\n        setMode={setMode}\r\n        year={year}\r\n        setYear={setYear}\r\n        yearSelectItems={yearSelectItems}>\r\n        {\r\n          {\r\n            mapping: (\r\n              <MappingMode year={year} setYear={setYear} yearSelectItems={yearSelectItems} />\r\n            ),\r\n            view: (\r\n              <ViewMode title={title} year={year}>\r\n                <DeferredTaxView />\r\n              </ViewMode>\r\n            )\r\n          }[mode]\r\n        }\r\n      </Main>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default DeferredTax;\r\n","import axios from \"axios\";\r\n\r\nexport const fixedAssetMapping = async ({\r\n  companyId,\r\n  yearId,\r\n  mappedCode,\r\n  assetId,\r\n  triBalanceId,\r\n  isCost,\r\n  openingCost,\r\n  transferCost,\r\n  transferDepreciation,\r\n  isTransferCostRemoved,\r\n  isTransferDepreciationRemoved,\r\n  costAddition,\r\n  costDisposal,\r\n  openingDepreciation,\r\n  depreciationAddition,\r\n  depreciationDisposal\r\n}) => {\r\n  try {\r\n    return await axios.post(\"/api/FixedAsset\", {\r\n      companyId,\r\n      yearId,\r\n      mappedCode,\r\n      assetId,\r\n      triBalanceId,\r\n      isCost,\r\n      openingCost,\r\n      transferCost,\r\n      transferDepreciation,\r\n      isTransferCostRemoved,\r\n      isTransferDepreciationRemoved,\r\n      costAddition,\r\n      costDisposal,\r\n      openingDepreciation,\r\n      depreciationAddition,\r\n      depreciationDisposal\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const fixedAssetViewData = async ({ companyId, year }) => {\r\n  try {\r\n    const { data } = await axios.get(`/api/FixedAsset/${companyId}/${year}`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const fixedAssetUnmapping = async ({ id }) => {\r\n  try {\r\n    return await axios.put(`/api/FixedAsset/fixed-asset/${id}`);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\nimport { Button } from \"primereact/button\";\r\nimport { fixedAssetUnmapping } from \"../../apis/FixedAsset\";\r\nimport constants from \"../../constants\";\r\nimport utils from \"../../utils\";\r\nimport { Checkbox } from \"primereact/checkbox\";\r\n\r\nconst TrialBalanceMappingTable = ({\r\n  title,\r\n  tbData,\r\n  selectedAccounts,\r\n  setSelectedAccounts,\r\n  trialBalanceRefresh,\r\n  toast\r\n}) => {\r\n  const [debitRowChecks, setDebitRowChecks] = React.useState([]);\r\n  const [creditRowChecks, setCreditRowChecks] = React.useState([]);\r\n\r\n  return (\r\n    <DataTable\r\n      className=\"p-datatable-gridlines\"\r\n      value={tbData}\r\n      paginator={tbData.length !== 0}\r\n      rows={10}\r\n      rowsPerPageOptions={[10, 20, 50, 100]}\r\n      selection={selectedAccounts}\r\n      onSelectionChange={e => {\r\n        if (e.value.length > 0) {\r\n          !tbData.find(d => d.id === e.value[e.value.length - 1].id).mappedTo\r\n            ? setSelectedAccounts(e.value)\r\n            : toast.show(\r\n                utils.toastCallback({\r\n                  severity: \"error\",\r\n                  detail: \"This item has been mapped\"\r\n                })\r\n              );\r\n        } else {\r\n          setSelectedAccounts(e.value);\r\n        }\r\n      }}\r\n      style={{ marginTop: 50 }}\r\n      footer={\r\n        tbData.length === 0 && (\r\n          <>\r\n            <div className=\"p-d-flex p-ai-center p-jc-center\">\r\n              <p>No Trial Balance data, upload a Trial Balance file</p>\r\n            </div>\r\n          </>\r\n        )\r\n      }>\r\n      {title === constants.modules.profit_loss && (\r\n        <Column\r\n          field=\"isDebitChecked\"\r\n          header=\"Debit\"\r\n          style={{ width: \"5em\", textAlign: \"center\" }}\r\n          body={rowData => {\r\n            return (\r\n              <Checkbox\r\n                onChange={e => {\r\n                  setDebitRowChecks(state => {\r\n                    if (e.checked) return state.concat([rowData.id]);\r\n                    else return state.filter(id => id !== rowData.id);\r\n                  });\r\n                  if (rowData.mappedTo) {\r\n                    toast.show(\r\n                      utils.toastCallback({\r\n                        severity: \"error\",\r\n                        detail: \"This item has been mapped\"\r\n                      })\r\n                    );\r\n                  } else {\r\n                    if (e.checked) {\r\n                      let selectedAccountIndex;\r\n                      const selectedAccount = selectedAccounts.find((selectedAccount, index) => {\r\n                        selectedAccountIndex = index;\r\n                        return selectedAccount.trialBalanceId === rowData.id;\r\n                      });\r\n                      if (selectedAccount) {\r\n                        setSelectedAccounts(state => {\r\n                          state[selectedAccountIndex] = {\r\n                            ...state[selectedAccountIndex],\r\n                            trialBalanceId: rowData.id,\r\n                            isDebit: true,\r\n                            isCredit: true,\r\n                            isBoth: true\r\n                          };\r\n                          return state;\r\n                        });\r\n                      } else {\r\n                        setSelectedAccounts([\r\n                          ...selectedAccounts,\r\n                          {\r\n                            trialBalanceId: rowData.id,\r\n                            isDebit: true,\r\n                            isCredit: false,\r\n                            isBoth: false\r\n                          }\r\n                        ]);\r\n                      }\r\n                    } else {\r\n                      let selectedAccountIndex;\r\n                      const selectedAccount = selectedAccounts.find((selectedAccount, index) => {\r\n                        selectedAccountIndex = index;\r\n                        return selectedAccount.trialBalanceId === rowData.id;\r\n                      });\r\n                      if (selectedAccount?.isCredit) {\r\n                        setSelectedAccounts(state => {\r\n                          state[selectedAccountIndex] = {\r\n                            ...state[selectedAccountIndex],\r\n                            trialBalanceId: rowData.id,\r\n                            isDebit: false,\r\n                            isCredit: true,\r\n                            isBoth: false\r\n                          };\r\n                          return state;\r\n                        });\r\n                      } else {\r\n                        setSelectedAccounts(\r\n                          selectedAccounts.filter(\r\n                            selectedAccount => selectedAccount.trialBalanceId !== rowData.id\r\n                          )\r\n                        );\r\n                      }\r\n                    }\r\n                  }\r\n                }}\r\n                checked={debitRowChecks.includes(rowData.id)}></Checkbox>\r\n            );\r\n          }}\r\n        />\r\n      )}\r\n      {title === constants.modules.profit_loss && (\r\n        <Column\r\n          field=\"isCreditChecked\"\r\n          header=\"Credit\"\r\n          style={{ width: \"5em\", textAlign: \"center\" }}\r\n          body={rowData => {\r\n            return (\r\n              <Checkbox\r\n                onChange={e => {\r\n                  setCreditRowChecks(state => {\r\n                    if (e.checked) return state.concat([rowData.id]);\r\n                    else return state.filter(id => id !== rowData.id);\r\n                  });\r\n                  if (rowData.mappedTo) {\r\n                    toast.show(\r\n                      utils.toastCallback({\r\n                        severity: \"error\",\r\n                        detail: \"This item has been mapped\"\r\n                      })\r\n                    );\r\n                  } else {\r\n                    if (e.checked) {\r\n                      let selectedAccountIndex;\r\n                      const selectedAccount = selectedAccounts.find((selectedAccount, index) => {\r\n                        selectedAccountIndex = index;\r\n                        return selectedAccount.trialBalanceId === rowData.id;\r\n                      });\r\n                      if (selectedAccount) {\r\n                        setSelectedAccounts(state => {\r\n                          state[selectedAccountIndex] = {\r\n                            ...state[selectedAccountIndex],\r\n                            trialBalanceId: rowData.id,\r\n                            isDebit: true,\r\n                            isCredit: true,\r\n                            isBoth: true\r\n                          };\r\n                          return state;\r\n                        });\r\n                      } else {\r\n                        setSelectedAccounts([\r\n                          ...selectedAccounts,\r\n                          {\r\n                            trialBalanceId: rowData.id,\r\n                            isDebit: false,\r\n                            isCredit: true,\r\n                            isBoth: false\r\n                          }\r\n                        ]);\r\n                      }\r\n                    } else {\r\n                      let selectedAccountIndex;\r\n                      const selectedAccount = selectedAccounts.find((selectedAccount, index) => {\r\n                        selectedAccountIndex = index;\r\n                        return selectedAccount.trialBalanceId === rowData.id;\r\n                      });\r\n                      if (selectedAccount?.isDebit) {\r\n                        setSelectedAccounts(state => {\r\n                          state[selectedAccountIndex] = {\r\n                            ...state[selectedAccountIndex],\r\n                            trialBalanceId: rowData.id,\r\n                            isDebit: true,\r\n                            isCredit: false,\r\n                            isBoth: false\r\n                          };\r\n                          return state;\r\n                        });\r\n                      } else {\r\n                        setSelectedAccounts(\r\n                          selectedAccounts.filter(\r\n                            selectedAccount => selectedAccount.trialBalanceId !== rowData.id\r\n                          )\r\n                        );\r\n                      }\r\n                    }\r\n                  }\r\n                }}\r\n                checked={creditRowChecks.includes(rowData.id)}></Checkbox>\r\n            );\r\n          }}\r\n        />\r\n      )}\r\n      {title !== constants.modules.profit_loss && (\r\n        <Column selectionMode=\"multiple\" style={{ width: \"3.5em\", textAlign: \"center\" }} />\r\n      )}\r\n      <Column field=\"accountId\" header=\"Account ID\"></Column>\r\n      <Column field=\"item\" header=\"Account Description\"></Column>\r\n      <Column field=\"debitAmt\" header=\"Debit Amt\"></Column>\r\n      <Column field=\"creditAmt\" header=\"Credit Amt\"></Column>\r\n      {tbData && tbData.some(d => d.mappedTo) && (\r\n        <Column field=\"mappedTo\" header=\"Mapped To\"></Column>\r\n      )}\r\n      {tbData && tbData.some(d => d.mappedTo) && (\r\n        <Column\r\n          field=\"unmap\"\r\n          header=\"Unmap\"\r\n          body={rowData =>\r\n            rowData.mappedTo && (\r\n              <Button\r\n                className=\"p-button-danger p-button-text\"\r\n                label=\"Unmap\"\r\n                onClick={async () => {\r\n                  try {\r\n                    const response = await fixedAssetUnmapping({ id: rowData.id });\r\n                    if (response.status === 200) {\r\n                      trialBalanceRefresh();\r\n                      toast.show(\r\n                        utils.toastCallback({\r\n                          severity: \"success\",\r\n                          detail: response.data\r\n                        })\r\n                      );\r\n                    }\r\n                  } catch (error) {\r\n                    if (error.message === \"Network Error\") {\r\n                      return toast.show(\r\n                        utils.toastCallback({\r\n                          severity: \"success\",\r\n                          detail: constants.networkErrorMessage\r\n                        })\r\n                      );\r\n                    }\r\n                    trialBalanceRefresh();\r\n                  }\r\n                }}\r\n              />\r\n            )\r\n          }></Column>\r\n      )}\r\n    </DataTable>\r\n  );\r\n};\r\n\r\nexport default TrialBalanceMappingTable;\r\n","import React from \"react\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\n\r\nconst DropdownController = ({\r\n  Controller,\r\n  control,\r\n  errors,\r\n  controllerName,\r\n  label,\r\n  width,\r\n  required,\r\n  otherRules,\r\n  dropdownOptions,\r\n  placeholder,\r\n  onChangeCallback,\r\n  errorMessage = \"\",\r\n  defaultValue = \"\"\r\n}) => {\r\n  return (\r\n    <div className=\"p-d-flex p-flex-column\">\r\n      {label && <p style={{ marginBottom: 5, marginTop: 0 }}>{label}</p>}\r\n      <Controller\r\n        name={controllerName}\r\n        control={control}\r\n        rules={{ required, ...otherRules }}\r\n        defaultValue={defaultValue}\r\n        render={props => (\r\n          <Dropdown\r\n            style={{ marginBottom: 5, width: width || 200 }}\r\n            value={props.value}\r\n            options={dropdownOptions}\r\n            placeholder={placeholder}\r\n            onChange={e => {\r\n              props.onChange(e.target.value);\r\n              if (onChangeCallback) onChangeCallback(e.target.value);\r\n            }}\r\n          />\r\n        )}\r\n      />\r\n      {errors[controllerName] && <span style={{ fontSize: 12, color: \"red\" }}>{errorMessage}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DropdownController;\r\n","import React from \"react\";\r\nimport { InputText } from \"primereact/inputtext\";\r\n\r\nconst InputController = ({\r\n  Controller,\r\n  control,\r\n  errors,\r\n  controllerName,\r\n  label,\r\n  width,\r\n  required,\r\n  disabled,\r\n  otherRules,\r\n  placeholder,\r\n  value,\r\n  onChangeCallback,\r\n  errorMessage = \"\",\r\n  defaultValue = \"\"\r\n}) => {\r\n  return (\r\n    <div className=\"p-d-flex p-flex-column\">\r\n      {label && <p style={{ marginBottom: 5, marginTop: 0 }}>{label}</p>}\r\n      <Controller\r\n        name={controllerName}\r\n        control={control}\r\n        rules={{ required, ...otherRules }}\r\n        defaultValue={defaultValue}\r\n        render={props => (\r\n          <InputText\r\n            disabled={disabled}\r\n            style={{ marginBottom: 5, width: width || 200 }}\r\n            value={value || props.value}\r\n            placeholder={placeholder}\r\n            onChange={e => {\r\n              props.onChange(e.target.value);\r\n              if (onChangeCallback) onChangeCallback(e.target.value);\r\n            }}\r\n          />\r\n        )}\r\n      />\r\n      {errors[controllerName] && <span style={{ fontSize: 12, color: \"red\" }}>{errorMessage}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InputController;\r\n","import React from \"react\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Checkbox } from \"primereact/checkbox\";\r\nimport utils from \"../../utils\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport constants from \"../../constants\";\r\nimport { fixedAssetMapping } from \"../../apis/FixedAsset\";\r\nimport TrialBalanceMappingTable from \"../common/TrialBalanceMappingTable\";\r\nimport DropdownController from \"../controllers/DropdownController\";\r\nimport InputController from \"../controllers/InputController\";\r\n\r\nconst FixedAssetMapping = ({\r\n  year,\r\n  setYear,\r\n  yearSelectItems,\r\n  assetClassSelectItems,\r\n  tbData,\r\n  trialBalanceRefresh,\r\n  toast\r\n}) => {\r\n  const cost = \"cost\";\r\n  const depreciation = \"depreciation\";\r\n  const { errors, handleSubmit, control } = useForm();\r\n  const [{ companyId }] = useCompany();\r\n  const [closingBalance, setClosingBalance] = React.useState();\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [closingBalanceAmt, setClosingBalanceAmt] = React.useState(utils.currencyFormatter(0));\r\n  const [selectedAccounts, setSelectedAccounts] = React.useState([]);\r\n  const [selectedAssetType, setSelectedAssetType] = React.useState();\r\n  const [transferChecked, setTransferChecked] = React.useState();\r\n  const typeSelectItems = [\r\n    { label: \"Cost\", value: cost },\r\n    { label: \"Depreciation\", value: depreciation }\r\n  ];\r\n\r\n  React.useEffect(() => {\r\n    trialBalanceRefresh();\r\n  }, [trialBalanceRefresh]);\r\n\r\n  React.useEffect(() => {\r\n    if (selectedAccounts) {\r\n      const value = selectedAccounts.reduce(\r\n        (accumulator, current) =>\r\n          accumulator + (selectedAssetType === cost ? current.debit : current.credit),\r\n        0\r\n      );\r\n      setClosingBalance(value);\r\n      setClosingBalanceAmt(utils.currencyFormatter(value));\r\n    }\r\n  }, [selectedAccounts, selectedAssetType]);\r\n\r\n  const onSubmit = async data => {\r\n    if (loading) return;\r\n\r\n    const { assetClass, assetType, year, openingBalance, addition, disposal, transfer } = data;\r\n\r\n    if (selectedAccounts.length === 0) {\r\n      toast.show(\r\n        utils.toastCallback({\r\n          severity: \"error\",\r\n          detail: \"Select at least one account from the trial balance table\"\r\n        })\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (isNaN(openingBalance)) {\r\n      toast.show(\r\n        utils.toastCallback({\r\n          severity: \"error\",\r\n          detail: \"Opening balance is not a number\"\r\n        })\r\n      );\r\n      return;\r\n    } else if (isNaN(addition)) {\r\n      toast.show(\r\n        utils.toastCallback({\r\n          severity: \"error\",\r\n          detail: `${assetType === cost ? \"Addition\" : \"Charge per year\"} value is not a number`\r\n        })\r\n      );\r\n      return;\r\n    } else if (isNaN(disposal)) {\r\n      toast.show(\r\n        utils.toastCallback({\r\n          severity: \"error\",\r\n          detail: \"Disposal value is not a number\"\r\n        })\r\n      );\r\n      return;\r\n    } else if (isNaN(transfer)) {\r\n      toast.show(\r\n        utils.toastCallback({\r\n          severity: \"error\",\r\n          detail: \"Transfer value is not a number\"\r\n        })\r\n      );\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await fixedAssetMapping({\r\n        companyId,\r\n        yearId: year,\r\n        mappedCode: \"fixedasset\",\r\n        assetId: assetClass,\r\n        triBalanceId: selectedAccounts.map(account => account.id),\r\n        isCost: assetType === cost ? true : false,\r\n        openingCost: assetType === cost ? Number(openingBalance) : 0,\r\n        transferCost: assetType === cost ? Number(transfer) : 0,\r\n        transferDepreciation: assetType !== cost ? Number(transfer) : 0,\r\n        isTransferCostRemoved: assetType === cost ? transferChecked : false,\r\n        isTransferDepreciationRemoved: assetType !== cost ? transferChecked : false,\r\n        costAddition: assetType === cost ? Number(addition) : 0,\r\n        costDisposal: assetType === cost ? Number(disposal) : 0,\r\n        costClosing: assetType === cost ? Number(closingBalance) : 0,\r\n        openingDepreciation: assetType !== cost ? Number(openingBalance) : 0,\r\n        depreciationAddition: assetType !== cost ? Number(addition) : 0,\r\n        depreciationDisposal: assetType !== cost ? Number(disposal) : 0,\r\n        depreciationClosing: assetType !== cost ? Number(closingBalance) : 0\r\n      });\r\n      if (response.status === 200) {\r\n        toast.show(\r\n          utils.toastCallback({ severity: \"success\", detail: \"Fixed asset mapped successfully\" })\r\n        );\r\n      }\r\n    } catch (error) {\r\n      if (error.response.data === undefined) {\r\n        toast.show(\r\n          utils.toastCallback({\r\n            severity: \"error\",\r\n            detail: error.message\r\n          })\r\n        );\r\n        return;\r\n      }\r\n\r\n      if (error.response.data.errors) {\r\n        toast.show(\r\n          utils.toastCallback({\r\n            severity: \"error\",\r\n            detail: error.response.data.errors[0]\r\n          })\r\n        );\r\n        return;\r\n      }\r\n      toast.show(\r\n        utils.toastCallback({\r\n          severity: \"error\",\r\n          summary: \"Network Error\",\r\n          detail: constants.networkErrorMessage\r\n        })\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form className=\"p-d-flex p-flex-column p-jc-between\" onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"p-d-flex p-ai-start p-jc-between\" style={{ marginBottom: 20 }}>\r\n          <DropdownController\r\n            Controller={Controller}\r\n            control={control}\r\n            errors={errors}\r\n            controllerName=\"assetClass\"\r\n            label=\"Fixed Asset Class\"\r\n            required\r\n            dropdownOptions={assetClassSelectItems}\r\n            errorMessage=\"Fixed Asset Class is required\"\r\n          />\r\n          <DropdownController\r\n            Controller={Controller}\r\n            control={control}\r\n            errors={errors}\r\n            controllerName=\"assetType\"\r\n            label=\"Cost / Depreciation\"\r\n            required\r\n            dropdownOptions={typeSelectItems}\r\n            onChangeCallback={setSelectedAssetType}\r\n            errorMessage=\"Fixed Asset Type is required\"\r\n          />\r\n          <DropdownController\r\n            Controller={Controller}\r\n            control={control}\r\n            errors={errors}\r\n            controllerName=\"year\"\r\n            label=\"Year\"\r\n            required\r\n            dropdownOptions={yearSelectItems}\r\n            onChangeCallback={setYear}\r\n            errorMessage=\"Year is required\"\r\n            defaultValue={year}\r\n          />\r\n          <InputController\r\n            Controller={Controller}\r\n            control={control}\r\n            errors={errors}\r\n            controllerName=\"closingBalance\"\r\n            label=\"Closing Balance\"\r\n            disabled\r\n            placeholder=\"Closing Balance\"\r\n            defaultValue={closingBalanceAmt}\r\n            value={closingBalanceAmt}\r\n          />\r\n        </div>\r\n        <div className=\"p-d-flex p-ai-start p-jc-between\">\r\n          <InputController\r\n            Controller={Controller}\r\n            control={control}\r\n            errors={errors}\r\n            controllerName=\"openingBalance\"\r\n            label=\"Opening Balance\"\r\n            required\r\n            errorMessage=\"Opening Balance is required\"\r\n          />\r\n          <InputController\r\n            Controller={Controller}\r\n            control={control}\r\n            errors={errors}\r\n            controllerName=\"addition\"\r\n            label={selectedAssetType === \"depreciation\" ? \"Charge per year\" : \"Addition\"}\r\n            required\r\n            errorMessage=\"Addition is required\"\r\n          />\r\n          <InputController\r\n            Controller={Controller}\r\n            control={control}\r\n            errors={errors}\r\n            controllerName=\"disposal\"\r\n            label=\"Disposal\"\r\n            required\r\n            errorMessage=\"Disposal is required\"\r\n          />\r\n          <InputController\r\n            Controller={Controller}\r\n            control={control}\r\n            errors={errors}\r\n            controllerName=\"transfer\"\r\n            label=\"Transfer\"\r\n            required\r\n            errorMessage=\"Transfer is required\"\r\n          />\r\n        </div>\r\n        <div className=\"p-d-flex p-flex-column\" style={{ marginTop: 20 }}>\r\n          <div className=\"p-field-checkbox\">\r\n            <Checkbox\r\n              inputId=\"transferOut\"\r\n              checked={transferChecked}\r\n              onChange={e => setTransferChecked(e.checked)}\r\n            />\r\n            <label htmlFor=\"transferOut\">Transfer Out</label>\r\n          </div>\r\n          <Button\r\n            type=\"submit\"\r\n            label={!loading ? \"Submit\" : null}\r\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\r\n            style={{ width: 200 }}\r\n          />\r\n        </div>\r\n      </form>\r\n      <TrialBalanceMappingTable\r\n        tbData={tbData}\r\n        trialBalanceRefresh={trialBalanceRefresh}\r\n        toast={toast}\r\n        selectedAccounts={selectedAccounts}\r\n        setSelectedAccounts={setSelectedAccounts}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FixedAssetMapping;\r\n","import React from \"react\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\nimport { fixedAssetViewData } from \"../../apis/FixedAsset\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport utils from \"../../utils\";\r\nimport Loader from \"../common/Loader\";\r\n\r\nconst FixedAssetView = ({ year }) => {\r\n  const isMounted = React.useRef(false);\r\n  const [{ companyId }] = useCompany();\r\n  const [loading, setLoading] = React.useState();\r\n  const [error, setError] = React.useState();\r\n  const [fixedAssetApiData, setFixedAssetApiData] = React.useState();\r\n  const [fixedAssetData, setFixedAssetData] = React.useState([\r\n    {\r\n      category: <strong>Cost</strong>\r\n    },\r\n    {\r\n      category: \"Opening Balance\",\r\n      key: \"openingCost\"\r\n    },\r\n    {\r\n      category: \"Additions\",\r\n      key: \"costAddition\"\r\n    },\r\n    {\r\n      category: \"Disposal\",\r\n      key: \"costDisposal\"\r\n    },\r\n    {\r\n      category: \"Transfer\",\r\n      key: \"transferCost\"\r\n    },\r\n    {\r\n      category: <strong>As at 31/12/{year - 1}</strong>,\r\n      key: \"costClosing\"\r\n    },\r\n    {\r\n      category: null\r\n    },\r\n    {\r\n      category: <strong>Depreciation</strong>\r\n    },\r\n    {\r\n      category: \"Opening Balance\",\r\n      key: \"openingDepreciation\"\r\n    },\r\n    {\r\n      category: \"Charged for the year\",\r\n      key: \"depreciationAddition\"\r\n    },\r\n    {\r\n      category: \"Disposal\",\r\n      key: \"depreciationDisposal\"\r\n    },\r\n    {\r\n      category: \"Transfer\",\r\n      key: \"transferDepreciation\"\r\n    },\r\n    {\r\n      category: <strong>As at 31/12/{year - 1}</strong>,\r\n      key: \"depreciationClosing\"\r\n    },\r\n    {\r\n      category: null\r\n    },\r\n    {\r\n      category: <strong>Net Book Value</strong>\r\n    },\r\n    {\r\n      category: <strong>As at 31/12/{year - 1}</strong>,\r\n      key: \"netValue\"\r\n    }\r\n  ]);\r\n\r\n  React.useEffect(() => {\r\n    if (!companyId) return;\r\n\r\n    isMounted.current = true;\r\n    const fetchFixedAssetViewData = async () => {\r\n      try {\r\n        setError(null);\r\n        setLoading(true);\r\n        const data = await fixedAssetViewData({ companyId, year });\r\n        if (isMounted.current) {\r\n          setFixedAssetApiData(data.fixedAssetData);\r\n          setFixedAssetData(state => {\r\n            const newState = Array.from(state);\r\n            data.fixedAssetData.forEach((d, index) => {\r\n              newState.forEach(s => {\r\n                switch (s.key) {\r\n                  case \"openingCost\":\r\n                    s[d.fixedAssetName] = d.openingCost;\r\n                    s.total = data.total.openingCostTotal;\r\n                    break;\r\n                  case \"costAddition\":\r\n                    s[d.fixedAssetName] = d.costAddition;\r\n                    s.total = data.total.additionCostTotal;\r\n                    break;\r\n                  case \"costDisposal\":\r\n                    s[d.fixedAssetName] = d.costDisposal;\r\n                    s.total = data.total.disposalCostTotal;\r\n                    break;\r\n                  case \"transferCost\":\r\n                    s[d.fixedAssetName] = d.transferCost;\r\n                    s.total = data.total.transferCostTotal;\r\n                    break;\r\n                  case \"costClosing\":\r\n                    s[d.fixedAssetName] = <strong>{d.costClosing}</strong>;\r\n                    s.total = <strong>{data.total.closingCostTotal}</strong>;\r\n                    break;\r\n                  case \"openingDepreciation\":\r\n                    s[d.fixedAssetName] = d.openingDepreciation;\r\n                    s.total = data.total.openingDepreciationTotal;\r\n                    break;\r\n                  case \"depreciationAddition\":\r\n                    s[d.fixedAssetName] = d.depreciationAddition;\r\n                    s.total = data.total.additionDepreciationTotal;\r\n                    break;\r\n                  case \"depreciationDisposal\":\r\n                    s[d.fixedAssetName] = d.depreciationDisposal;\r\n                    s.total = data.total.disposalDepreciationTotal;\r\n                    break;\r\n                  case \"transferDepreciation\":\r\n                    s[d.fixedAssetName] = d.transferDepreciation;\r\n                    s.total = data.total.transferDepreciationTotal;\r\n                    break;\r\n                  case \"depreciationClosing\":\r\n                    s[d.fixedAssetName] = <strong>{d.depreciationClosing}</strong>;\r\n                    s.total = <strong>{data.total.closingDepreciationTotal}</strong>;\r\n                    break;\r\n                  case \"netValue\":\r\n                    s[d.fixedAssetName] = <strong>{data.netBookValue[index].value}</strong>;\r\n                    s.total = (\r\n                      <strong>\r\n                        {utils.currencyFormatter(\r\n                          data.netBookValue.reduce(\r\n                            (acc, cur) => acc + Number(cur.value.slice(1).replace(/,/g, \"\")),\r\n                            0\r\n                          )\r\n                        )}\r\n                      </strong>\r\n                    );\r\n                    break;\r\n                  default:\r\n                    break;\r\n                }\r\n              });\r\n            });\r\n            return newState;\r\n          });\r\n        }\r\n      } catch (error) {\r\n        if (isMounted.current) {\r\n          if (error.response) setError(error.response.data.errors[0]);\r\n          else setError(error.message);\r\n        }\r\n      } finally {\r\n        if (isMounted.current) setLoading(false);\r\n      }\r\n    };\r\n    fetchFixedAssetViewData();\r\n\r\n    return () => (isMounted.current = false);\r\n  }, [companyId, year]);\r\n\r\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\r\n\r\n  if (loading) return <Loader />;\r\n\r\n  return (\r\n    <DataTable className=\"p-datatable-gridlines\" value={fixedAssetData} style={{ marginTop: 40 }}>\r\n      <Column field=\"category\" header=\"\"></Column>\r\n      {fixedAssetApiData &&\r\n        fixedAssetApiData.map(d => (\r\n          <Column key={d.fixedAssetName} field={d.fixedAssetName} header={`${d.fixedAssetName}`} />\r\n        ))}\r\n      <Column field=\"total\" header=\"Total\"></Column>\r\n    </DataTable>\r\n  );\r\n};\r\n\r\nexport default FixedAssetView;\r\n","import React from \"react\";\r\nimport ViewMode from \"../components/common/ViewMode\";\r\nimport Layout from \"../components/layout\";\r\nimport Main from \"../components/layout/Main\";\r\nimport constants from \"../constants\";\r\nimport utils from \"../utils\";\r\nimport { usePathParam, useResource } from \"react-resource-router\";\r\nimport FixedAssetMapping from \"../components/fixed_asset/FixedAssetMapping\";\r\nimport { fixedAssetModuleClassResource, trialBalanceResource } from \"../routes/resources\";\r\nimport PageLoader from \"../components/common/PageLoader\";\r\nimport Error from \"../components/common/Error\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport { useResources } from \"../store/ResourcesStore\";\r\nimport FixedAssetView from \"../components/fixed_asset/FixedAssetView\";\r\n\r\nconst FixedAsset = () => {\r\n  const title = constants.modules.fixedAsset;\r\n  const toast = React.useRef();\r\n  const { data: assetClass, error: assetClassError, refresh: assetClassRefresh } = useResource(\r\n    fixedAssetModuleClassResource\r\n  );\r\n  const {\r\n    data: trialBalance,\r\n    error: trialBalanceError,\r\n    refresh: trialBalanceRefresh\r\n  } = useResource(trialBalanceResource);\r\n  const [mode, setMode] = usePathParam(\"mode\");\r\n  const [year, setYear] = React.useState(utils.currentYear());\r\n  const [tbData, setTbData] = React.useState([]);\r\n  const [assetClassSelectItems, setAssetClassSelectItems] = React.useState([]);\r\n  const [resources, { onTrialBalance, onFixedAssetModuleItems }] = useResources();\r\n  const yearSelectItems = utils.getYears(year => ({\r\n    label: year.toString(),\r\n    value: year.toString()\r\n  }));\r\n\r\n  React.useEffect(() => {\r\n    if (assetClass) onFixedAssetModuleItems(assetClass);\r\n  }, [assetClass, onFixedAssetModuleItems]);\r\n\r\n  React.useEffect(() => {\r\n    if (resources.fixedAssetModuleItems) {\r\n      setAssetClassSelectItems(\r\n        resources.fixedAssetModuleItems.map(({ id: assetClassId, name }) => ({\r\n          label: name,\r\n          value: assetClassId\r\n        }))\r\n      );\r\n    }\r\n  }, [resources.fixedAssetModuleItems]);\r\n\r\n  React.useEffect(() => {\r\n    if (trialBalance) onTrialBalance(trialBalance);\r\n  }, [onTrialBalance, trialBalance]);\r\n\r\n  React.useEffect(() => {\r\n    utils.onTbData(resources, setTbData);\r\n  }, [resources]);\r\n\r\n  if (assetClassError)\r\n    return <Error title={title} error={assetClassError} refresh={assetClassRefresh} />;\r\n\r\n  if (trialBalanceError)\r\n    return <Error title={title} error={trialBalanceError} refresh={trialBalanceRefresh} />;\r\n\r\n  if (!resources.fixedAssetModuleItems || !resources.trialBalance)\r\n    return <PageLoader title={title} />;\r\n\r\n  return (\r\n    <Layout title={title}>\r\n      <Main\r\n        title={title}\r\n        mode={mode}\r\n        setMode={setMode}\r\n        year={year}\r\n        setYear={setYear}\r\n        yearSelectItems={yearSelectItems}>\r\n        {\r\n          {\r\n            mapping: (\r\n              <FixedAssetMapping\r\n                year={year}\r\n                setYear={setYear}\r\n                yearSelectItems={yearSelectItems}\r\n                assetClassSelectItems={assetClassSelectItems}\r\n                tbData={tbData}\r\n                trialBalanceRefresh={trialBalanceRefresh}\r\n                toast={toast.current}\r\n              />\r\n            ),\r\n            view: (\r\n              <ViewMode title={title} year={year}>\r\n                <FixedAssetView year={year} />\r\n              </ViewMode>\r\n            )\r\n          }[mode]\r\n        }\r\n      </Main>\r\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default FixedAsset;\r\n","import React from \"react\";\r\nimport { Card } from \"primereact/card\";\r\nimport { Button } from \"primereact/button\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { forgotPassword } from \"../apis/Authentication\";\r\nimport constants from \"../constants\";\r\nimport { useAuth } from \"../store/AuthStore\";\r\nimport { Link, Redirect, useRouterActions } from \"react-resource-router\";\r\nimport utils from \"../utils\";\r\n\r\nconst ForgotPassword = () => {\r\n  const { errors, handleSubmit, control } = useForm();\r\n  const [{ isAuthenticated }] = useAuth();\r\n  const { push } = useRouterActions();\r\n  const [loading, setLoading] = React.useState(false);\r\n  const toast = React.useRef();\r\n\r\n  const onSubmit = async data => {\r\n    if (loading) return;\r\n\r\n    setLoading(true);\r\n    const { email } = data;\r\n    try {\r\n      const message = await forgotPassword({ email });\r\n      push({ pathname: constants.routes.reset_password, state: message });\r\n    } catch (error) {\r\n      setLoading(false);\r\n      if (error.response) {\r\n        const {\r\n          data: { message }\r\n        } = error.response;\r\n        // display error as toast notification\r\n        toast.current.show(\r\n          utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: message })\r\n        );\r\n      } else {\r\n        // network errors\r\n        toast.current.show(\r\n          utils.toastCallback({\r\n            severity: \"error\",\r\n            summary: \"Network Error\",\r\n            detail: constants.networkErrorMessage\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  if (isAuthenticated) {\r\n    const path = sessionStorage.getItem(\"path\") || constants.routes.dashboard;\r\n    sessionStorage.removeItem(\"path\");\r\n    return <Redirect to={path} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-d-flex p-jc-center p-ai-center\" style={{ height: \"100vh\" }}>\r\n      <Card\r\n        header={\r\n          <>\r\n            <h2 className=\"p-text-center accent-color\">Tax Computation</h2>\r\n            <div className=\"divider\"></div>\r\n          </>\r\n        }\r\n        style={{ width: 320 }}>\r\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"email\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\" }}\r\n                  placeholder=\"Email\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.email && <span style={{ fontSize: 12, color: \"red\" }}>Email is required</span>}\r\n          </div>\r\n          <Button\r\n            type=\"submit\"\r\n            label={!loading ? \"Forgot Password\" : null}\r\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        </form>\r\n        <Link href={constants.routes.login} className=\"auth-link\">\r\n          <p style={{ marginBottom: 0, marginTop: 20, fontSize: 14 }}>Back to login</p>\r\n        </Link>\r\n      </Card>\r\n      <Toast ref={el => (toast.current = el)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-resource-router\";\r\n\r\nconst Home = () => {\r\n  return <Redirect to=\"/login\" />;\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\n\r\nconst IncomeTaxView = () => {\r\n  const [incomeTaxData] = React.useState([\r\n    {\r\n      category: \"Profit Before Tax\",\r\n      debit: \"\",\r\n      credit: \"₦448,255,000.00\"\r\n    },\r\n    {\r\n      category: <strong>Add:Disallowable Expenses</strong>,\r\n      debit: \"\",\r\n      credit: \"\"\r\n    },\r\n    {\r\n      category: \"Depreciation\",\r\n      debit: \"₦4,565,000.00\",\r\n      credit: \"\"\r\n    },\r\n    {\r\n      category: \"Foreign exchange loss\",\r\n      debit: \"₦923,000.00\",\r\n      credit: \"\"\r\n    },\r\n    {\r\n      category: \"Loss allowance on trade receivable\",\r\n      debit: \"₦44,723,000.00\",\r\n      credit: \"₦67,928,000.00\"\r\n    }\r\n  ]);\r\n\r\n  return (\r\n    <DataTable className=\"p-datatable-gridlines\" value={incomeTaxData} style={{ marginTop: 40 }}>\r\n      <Column field=\"category\" header=\"\"></Column>\r\n      <Column field=\"debit\" header=\"₦\"></Column>\r\n      <Column field=\"credit\" header=\"₦\"></Column>\r\n    </DataTable>\r\n  );\r\n};\r\n\r\nexport default IncomeTaxView;\r\n","import React from \"react\";\r\nimport Layout from \"../components/layout\";\r\nimport IncomeTaxView from \"../components/income_tax/IncomeTaxView\";\r\nimport MappingMode from \"../components/common/MappingMode\";\r\nimport ViewMode from \"../components/common/ViewMode\";\r\nimport utils from \"../utils\";\r\nimport Main from \"../components/layout/Main\";\r\nimport { usePathParam } from \"react-resource-router\";\r\nimport constants from \"../constants\";\r\n\r\nconst IncomeTax = () => {\r\n  const title = constants.modules.incomeTax;\r\n  const [mode, setMode] = usePathParam(\"mode\");\r\n  const [year, setYear] = React.useState(utils.currentYear());\r\n  const yearSelectItems = utils.getYears(year => ({\r\n    label: year.toString(),\r\n    value: year.toString()\r\n  }));\r\n\r\n  return (\r\n    <Layout title={title}>\r\n      <Main\r\n        title={title}\r\n        mode={mode}\r\n        setMode={setMode}\r\n        year={year}\r\n        setYear={setYear}\r\n        yearSelectItems={yearSelectItems}>\r\n        {\r\n          {\r\n            mapping: (\r\n              <MappingMode year={year} setYear={setYear} yearSelectItems={yearSelectItems} />\r\n            ),\r\n            view: (\r\n              <ViewMode title={title} year={year}>\r\n                <IncomeTaxView />\r\n              </ViewMode>\r\n            )\r\n          }[mode]\r\n        }\r\n      </Main>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default IncomeTax;\r\n","import React from \"react\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\n\r\nconst InvestmentAllowanceView = () => {\r\n  const [investmentAllowanceData] = React.useState([\r\n    {\r\n      category: \"Computers & Office Equipment\",\r\n      credit: \"₦26,714,000.00\"\r\n    },\r\n    {\r\n      category: \"Investment Allowance @ 10%\",\r\n      credit: \"₦2,671,400.00\"\r\n    }\r\n  ]);\r\n\r\n  return (\r\n    <DataTable\r\n      className=\"p-datatable-gridlines\"\r\n      value={investmentAllowanceData}\r\n      style={{ marginTop: 40 }}>\r\n      <Column field=\"category\" header=\"Additions to:\"></Column>\r\n      <Column field=\"credit\" header=\"₦\"></Column>\r\n    </DataTable>\r\n  );\r\n};\r\n\r\nexport default InvestmentAllowanceView;\r\n","import React from \"react\";\r\nimport Layout from \"../components/layout\";\r\nimport InvestmentAllowanceView from \"../components/investment_allowance/InvestmentAllowanceView\";\r\nimport ViewMode from \"../components/common/ViewMode\";\r\nimport constants from \"../constants\";\r\nimport Main from \"../components/layout/Main\";\r\nimport utils from \"../utils\";\r\nimport { usePathParam } from \"react-resource-router\";\r\n\r\nconst InvestmentAllowance = () => {\r\n  const title = constants.modules.investmentAllowance;\r\n  const [mode, setMode] = usePathParam(\"mode\");\r\n  const [year, setYear] = React.useState(utils.currentYear());\r\n  const yearSelectItems = utils.getYears(year => ({\r\n    label: year.toString(),\r\n    value: year.toString()\r\n  }));\r\n\r\n  return (\r\n    <Layout title={title}>\r\n      <Main\r\n        title={title}\r\n        mode={mode}\r\n        setMode={setMode}\r\n        year={year}\r\n        setYear={setYear}\r\n        yearSelectItems={yearSelectItems}>\r\n        <ViewMode title={title} year={year}>\r\n          <InvestmentAllowanceView />\r\n        </ViewMode>\r\n      </Main>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default InvestmentAllowance;\r\n","import axios from \"axios\";\r\n\r\nexport const itLevyViewData = async ({ companyId, year }) => {\r\n  try {\r\n    const { data } = await axios.get(`/api/ITLevy/${companyId}/${year}`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport Loader from \"../common/Loader\";\r\nimport { itLevyViewData } from \"../../apis/ITLevy\";\r\nimport utils from \"../../utils\";\r\n\r\nconst ITLevyView = ({ year }) => {\r\n  const isMounted = React.useRef(false);\r\n  const [{ companyId }] = useCompany();\r\n  const [loading, setLoading] = React.useState();\r\n  const [error, setError] = React.useState();\r\n  const [itLevyData, setITLevyData] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    if (!companyId) return;\r\n\r\n    isMounted.current = true;\r\n    const fetchITLevyViewData = async () => {\r\n      try {\r\n        setError(null);\r\n        setLoading(true);\r\n        const data = await itLevyViewData({ companyId, year });\r\n        if (isMounted.current) {\r\n          setITLevyData(() => {\r\n            let newState = [];\r\n            return newState.concat([\r\n              {\r\n                category: \"Profit Before Taxation\",\r\n                credit: utils.currencyFormatter(data.profitBeforeTaxation)\r\n              },\r\n              {\r\n                category: \"I.T. Levy @ 1% Thereon\",\r\n                credit: utils.currencyFormatter(data.itLevyAt1PercentThereIn)\r\n              }\r\n            ]);\r\n          });\r\n        }\r\n      } catch (error) {\r\n        if (isMounted.current) {\r\n          if (error.response) setError(error.response.data.errors[0]);\r\n          else setError(error.message);\r\n        }\r\n      } finally {\r\n        if (isMounted.current) setLoading(false);\r\n      }\r\n    };\r\n    fetchITLevyViewData();\r\n\r\n    return () => (isMounted.current = false);\r\n  }, [companyId, year]);\r\n\r\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\r\n\r\n  if (loading) return <Loader />;\r\n\r\n  return (\r\n    <DataTable className=\"p-datatable-gridlines\" value={itLevyData} style={{ marginTop: 40 }}>\r\n      <Column field=\"category\" header=\"\"></Column>\r\n      <Column field=\"credit\" header=\"₦\"></Column>\r\n    </DataTable>\r\n  );\r\n};\r\n\r\nexport default ITLevyView;\r\n","import React from \"react\";\r\nimport Layout from \"../components/layout\";\r\nimport ITLevyView from \"../components/it_levy/ITLevyView\";\r\nimport ViewMode from \"../components/common/ViewMode\";\r\nimport constants from \"../constants\";\r\nimport utils from \"../utils\";\r\nimport Main from \"../components/layout/Main\";\r\nimport { usePathParam } from \"react-resource-router\";\r\n\r\nconst ITLevy = () => {\r\n  const title = constants.modules.itLevy;\r\n  const [mode, setMode] = usePathParam(\"mode\");\r\n  const [year, setYear] = React.useState(utils.currentYear());\r\n  const yearSelectItems = utils.getYears(year => ({\r\n    label: year.toString(),\r\n    value: year.toString()\r\n  }));\r\n\r\n  return (\r\n    <Layout title={title}>\r\n      <Main\r\n        title={title}\r\n        mode={mode}\r\n        setMode={setMode}\r\n        year={year}\r\n        setYear={setYear}\r\n        yearSelectItems={yearSelectItems}>\r\n        <ViewMode title={title} year={year}>\r\n          <ITLevyView year={year} />\r\n        </ViewMode>\r\n      </Main>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ITLevy;\r\n","import React from \"react\";\r\nimport { Card } from \"primereact/card\";\r\nimport { Button } from \"primereact/button\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { login } from \"../apis/Authentication\";\r\nimport constants from \"../constants\";\r\nimport { useAuth } from \"../store/AuthStore\";\r\nimport { Link, Redirect, useRouter, useRouterActions } from \"react-resource-router\";\r\nimport PasswordController from \"../components/controllers/PasswordController\";\r\nimport utils from \"../utils\";\r\n\r\nconst Login = () => {\r\n  const [routerState] = useRouter();\r\n  const { errors, handleSubmit, control } = useForm();\r\n  const [{ isAuthenticated }, { onLoginSuccess }] = useAuth();\r\n  const { push } = useRouterActions();\r\n  const [loading, setLoading] = React.useState(false);\r\n  const toast = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    if (routerState.location.state)\r\n      toast.current.show(\r\n        utils.toastCallback({ severity: \"success\", detail: routerState.location.state })\r\n      );\r\n  }, [routerState]);\r\n\r\n  const onSubmit = async data => {\r\n    if (loading) return;\r\n\r\n    setLoading(true);\r\n    const { email, password } = data;\r\n    try {\r\n      const {\r\n        token,\r\n        user: { id, firstName, lastName }\r\n      } = await login({ email, password });\r\n      // store user details in global state\r\n      onLoginSuccess({ id, token, email, firstName, lastName });\r\n      push(constants.routes.dashboard);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      if (error.response) {\r\n        const {\r\n          data: { errors }\r\n        } = error.response;\r\n        // display all errors as toast notification\r\n        errors.map(err =>\r\n          toast.current.show(\r\n            utils.toastCallback({ severity: \"error\", summary: \"Login Error\", detail: err })\r\n          )\r\n        );\r\n      } else {\r\n        // network errors\r\n        toast.current.show(\r\n          utils.toastCallback({\r\n            severity: \"error\",\r\n            summary: \"Network Error\",\r\n            detail: constants.networkErrorMessage\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  if (isAuthenticated) {\r\n    const path = sessionStorage.getItem(\"path\") || constants.routes.dashboard;\r\n    sessionStorage.removeItem(\"path\");\r\n    return <Redirect to={path} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-d-flex p-jc-center p-ai-center\" style={{ height: \"100vh\" }}>\r\n      <Card\r\n        header={\r\n          <>\r\n            <h2 className=\"p-text-center accent-color\">Tax Computation</h2>\r\n            <div className=\"divider\"></div>\r\n          </>\r\n        }\r\n        style={{ width: 320 }}>\r\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"email\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\" }}\r\n                  placeholder=\"Email\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.email && <span style={{ fontSize: 12, color: \"red\" }}>Email is required</span>}\r\n          </div>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"password\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <PasswordController\r\n                  placeholder=\"Password\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.password && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>Password is required</span>\r\n            )}\r\n          </div>\r\n          <Button\r\n            type=\"submit\"\r\n            label={!loading ? \"Login\" : null}\r\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        </form>\r\n        <Link href={constants.routes.forgot_password} className=\"auth-link\">\r\n          <p style={{ marginBottom: 0, marginTop: 20, fontSize: 14 }}>Forgot Password</p>\r\n        </Link>\r\n      </Card>\r\n      <Toast ref={el => (toast.current = el)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import axios from \"axios\";\r\n\r\nexport const minimumTaxViewData = async ({ companyId, year }) => {\r\n  try {\r\n    const { data } = await axios.get(`/api/MinimumTax/${companyId}/${year}`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport Loader from \"../common/Loader\";\r\nimport utils from \"../../utils\";\r\nimport { minimumTaxViewData } from \"../../apis/MinimumTax\";\r\n\r\nconst MinimumTaxView = ({ year }) => {\r\n  const isMounted = React.useRef(false);\r\n  const [{ companyId }] = useCompany();\r\n  const [loading, setLoading] = React.useState();\r\n  const [error, setError] = React.useState();\r\n  const [minimumTaxData, setMinimumTaxData] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    if (!companyId) return;\r\n\r\n    isMounted.current = true;\r\n    const fetchMinimumTaxViewData = async () => {\r\n      try {\r\n        setError(null);\r\n        setLoading(true);\r\n        const data = await minimumTaxViewData({ companyId, year });\r\n        if (isMounted.current) {\r\n          setMinimumTaxData(() => {\r\n            let newState = [];\r\n            return newState.concat([\r\n              {\r\n                category: \"0.5% OF TURNOVER\",\r\n                credit: utils.currencyFormatter(data.fivePercentTurnOver)\r\n              },\r\n              {\r\n                category: \"Dividend Income\",\r\n                credit: data.dividend ? utils.currencyFormatter(data.dividend) : null\r\n              },\r\n              {\r\n                category: <strong>Minimum Tax Payable</strong>,\r\n                credit: utils.currencyFormatter(data.turnOver)\r\n              }\r\n            ]);\r\n          });\r\n        }\r\n      } catch (error) {\r\n        if (isMounted.current) {\r\n          if (error.response) setError(error.response.data.errors[0]);\r\n          else setError(error.message);\r\n        }\r\n      } finally {\r\n        if (isMounted.current) setLoading(false);\r\n      }\r\n    };\r\n    fetchMinimumTaxViewData();\r\n\r\n    return () => (isMounted.current = false);\r\n  }, [companyId, year]);\r\n\r\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\r\n\r\n  if (loading) return <Loader />;\r\n\r\n  return (\r\n    <DataTable className=\"p-datatable-gridlines\" value={minimumTaxData} style={{ marginTop: 40 }}>\r\n      <Column field=\"category\" header=\"\"></Column>\r\n      <Column field=\"credit\" header=\"₦\"></Column>\r\n    </DataTable>\r\n  );\r\n};\r\n\r\nexport default MinimumTaxView;\r\n","import React from \"react\";\r\nimport Layout from \"../components/layout\";\r\nimport MinimumTaxView from \"../components/minimum_tax/MinimumTaxView\";\r\nimport ViewMode from \"../components/common/ViewMode\";\r\nimport constants from \"../constants\";\r\nimport utils from \"../utils\";\r\nimport Main from \"../components/layout/Main\";\r\nimport { usePathParam } from \"react-resource-router\";\r\n\r\nconst MinimumTax = () => {\r\n  const title = constants.modules.minimumTax;\r\n  const [mode, setMode] = usePathParam(\"mode\");\r\n  const [year, setYear] = React.useState(utils.currentYear());\r\n  const yearSelectItems = utils.getYears(year => ({\r\n    label: year.toString(),\r\n    value: year.toString()\r\n  }));\r\n\r\n  return (\r\n    <Layout title={title}>\r\n      <Main\r\n        title={title}\r\n        mode={mode}\r\n        setMode={setMode}\r\n        year={year}\r\n        setYear={setYear}\r\n        yearSelectItems={yearSelectItems}>\r\n        <ViewMode title={title} year={year}>\r\n          <MinimumTaxView year={year} />\r\n        </ViewMode>\r\n      </Main>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default MinimumTax;\r\n","import { Card } from \"primereact/card\";\r\nimport React from \"react\";\r\nimport Layout from \"../components/layout\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <Layout title=\"\">\r\n      <Card style={{ width: \"100%\" }}>\r\n        <h1 style={{ margin: 0 }}>404 - Not Found</h1>\r\n        <p>Sorry the page you are looking for doesn't exist.</p>\r\n      </Card>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import axios from \"axios\";\r\n\r\nexport const profitAndLossMapping = async ({\r\n  profitAndLossId,\r\n  trialBalanceList,\r\n  companyId,\r\n  yearId,\r\n  mappedCode\r\n}) => {\r\n  try {\r\n    return await axios.post(\"/api/ProfitAndLoss\", {\r\n      profitAndLossId,\r\n      trialBalanceList,\r\n      companyId,\r\n      yearId,\r\n      mappedCode\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const profitAndLossViewData = async ({ companyId, year }) => {\r\n  try {\r\n    const { data } = await axios.get(`/api/ProfitAndLoss/${companyId}/${year}`);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport Loader from \"../common/Loader\";\r\nimport { profitAndLossViewData } from \"../../apis/ProfitAndLoss\";\r\n\r\nconst ProfitAndLossView = ({ year }) => {\r\n  const isMounted = React.useRef(false);\r\n  const [{ companyId }] = useCompany();\r\n  const [loading, setLoading] = React.useState();\r\n  const [error, setError] = React.useState();\r\n  const [profitAndLossApiData, setProfitAndLossApiData] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    if (!companyId) return;\r\n\r\n    isMounted.current = true;\r\n    const fetchProfitAndLossViewData = async () => {\r\n      try {\r\n        setError(null);\r\n        setLoading(true);\r\n        const data = await profitAndLossViewData({ companyId, year });\r\n        if (isMounted.current) {\r\n          setProfitAndLossApiData(data);\r\n        }\r\n      } catch (error) {\r\n        if (isMounted.current) {\r\n          if (error.response) setError(error.response.data.errors[0]);\r\n          else setError(error.message);\r\n        }\r\n      } finally {\r\n        if (isMounted.current) setLoading(false);\r\n      }\r\n    };\r\n    fetchProfitAndLossViewData();\r\n\r\n    return () => (isMounted.current = false);\r\n  }, [companyId, year]);\r\n\r\n  if (error) return <p style={{ color: \"#f00\" }}>{error}</p>;\r\n\r\n  if (loading) return <Loader />;\r\n\r\n  return (\r\n    <DataTable\r\n      className=\"p-datatable-gridlines\"\r\n      value={profitAndLossApiData}\r\n      style={{ marginTop: 40 }}>\r\n      <Column field=\"category\" header=\"\"></Column>\r\n      <Column field=\"total\" header=\"Total\"></Column>\r\n    </DataTable>\r\n  );\r\n};\r\n\r\nexport default ProfitAndLossView;\r\n","import React from \"react\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport DropdownController from \"../controllers/DropdownController\";\r\nimport TrialBalanceMappingTable from \"../common/TrialBalanceMappingTable\";\r\nimport constants from \"../../constants\";\r\nimport { useCompany } from \"../../store/CompanyStore\";\r\nimport utils from \"../../utils\";\r\nimport { profitAndLossMapping } from \"../../apis/ProfitAndLoss\";\r\n\r\nconst ProfitAndLossMapping = ({\r\n  year,\r\n  setYear,\r\n  yearSelectItems,\r\n  assetClassSelectItems,\r\n  tbData,\r\n  trialBalanceRefresh,\r\n  toast\r\n}) => {\r\n  const { errors, handleSubmit, control } = useForm();\r\n  const [{ companyId }] = useCompany();\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [selectedAccounts, setSelectedAccounts] = React.useState([]);\r\n\r\n  const onSubmit = async data => {\r\n    if (loading) return;\r\n    const { profitAndLossId, yearId } = data;\r\n\r\n    if (selectedAccounts.length === 0) {\r\n      toast.show(\r\n        utils.toastCallback({\r\n          severity: \"error\",\r\n          detail: \"Select at least one account from the trial balance table\"\r\n        })\r\n      );\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await profitAndLossMapping({\r\n        profitAndLossId,\r\n        trialBalanceList: selectedAccounts,\r\n        companyId,\r\n        yearId,\r\n        mappedCode: \"profitandloss\"\r\n      });\r\n      if (response.status === 200) {\r\n        toast.show(\r\n          utils.toastCallback({\r\n            severity: \"success\",\r\n            detail: \"Profit and Loss mapped successfully\"\r\n          })\r\n        );\r\n      }\r\n    } catch (error) {\r\n      toast.show(\r\n        utils.toastCallback({\r\n          severity: \"error\",\r\n          summary: \"Network Error\",\r\n          detail: constants.networkErrorMessage\r\n        })\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form className=\"p-d-flex p-jc-between\" onSubmit={handleSubmit(onSubmit)}>\r\n        <DropdownController\r\n          Controller={Controller}\r\n          control={control}\r\n          errors={errors}\r\n          controllerName=\"profitAndLossId\"\r\n          label=\"Profit and Loss Item\"\r\n          placeholder=\"Select Item\"\r\n          width={250}\r\n          required\r\n          dropdownOptions={assetClassSelectItems}\r\n          errorMessage=\"Profit and Loss Item is required\"\r\n        />\r\n        <DropdownController\r\n          Controller={Controller}\r\n          control={control}\r\n          errors={errors}\r\n          controllerName=\"yearId\"\r\n          label=\"Year\"\r\n          width={250}\r\n          required\r\n          dropdownOptions={yearSelectItems}\r\n          onChangeCallback={setYear}\r\n          errorMessage=\"Year is required\"\r\n          defaultValue={year}\r\n        />\r\n        <div>\r\n          <p style={{ color: \"transparent\", marginTop: 0, marginBottom: 5 }}>Submit</p>\r\n          <Button\r\n            type=\"submit\"\r\n            label={!loading ? \"Submit\" : null}\r\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\r\n            style={{ width: 250 }}\r\n          />\r\n        </div>\r\n      </form>\r\n      <TrialBalanceMappingTable\r\n        title={constants.modules.profit_loss}\r\n        tbData={tbData}\r\n        trialBalanceRefresh={trialBalanceRefresh}\r\n        toast={toast}\r\n        selectedAccounts={selectedAccounts}\r\n        setSelectedAccounts={setSelectedAccounts}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfitAndLossMapping;\r\n","import React from \"react\";\r\nimport Layout from \"../components/layout\";\r\nimport ProfitAndLossView from \"../components/profit_loss/ProfitAndLossView\";\r\nimport ViewMode from \"../components/common/ViewMode\";\r\nimport utils from \"../utils\";\r\nimport Main from \"../components/layout/Main\";\r\nimport { usePathParam, useResource } from \"react-resource-router\";\r\nimport constants from \"../constants\";\r\nimport { profitandlossModuleClassResource, trialBalanceResource } from \"../routes/resources\";\r\nimport { useResources } from \"../store/ResourcesStore\";\r\nimport PageLoader from \"../components/common/PageLoader\";\r\nimport Error from \"../components/common/Error\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport ProfitAndLossMapping from \"../components/profit_loss/ProfitAndLossMapping\";\r\n\r\nconst ProfitAndLoss = () => {\r\n  const title = constants.modules.profit_loss;\r\n  const toast = React.useRef();\r\n  const { data: assetClass, error: assetClassError, refresh: assetClassRefresh } = useResource(\r\n    profitandlossModuleClassResource\r\n  );\r\n  const {\r\n    data: trialBalance,\r\n    error: trialBalanceError,\r\n    refresh: trialBalanceRefresh\r\n  } = useResource(trialBalanceResource);\r\n  const [tbData, setTbData] = React.useState([]);\r\n  const [mode, setMode] = usePathParam(\"mode\");\r\n  const [year, setYear] = React.useState(utils.currentYear());\r\n  const [assetClassSelectItems, setAssetClassSelectItems] = React.useState([]);\r\n  const [resources, { onTrialBalance, onProfitAndLossModuleItems }] = useResources();\r\n  const yearSelectItems = utils.getYears(year => ({\r\n    label: year.toString(),\r\n    value: year.toString()\r\n  }));\r\n\r\n  React.useEffect(() => {\r\n    if (assetClass) onProfitAndLossModuleItems(assetClass);\r\n  }, [assetClass, onProfitAndLossModuleItems]);\r\n\r\n  React.useEffect(() => {\r\n    if (resources.profitAndLossModuleItems) {\r\n      setAssetClassSelectItems(\r\n        resources.profitAndLossModuleItems.map(({ id: assetClassId, name }) => ({\r\n          label: name,\r\n          value: assetClassId\r\n        }))\r\n      );\r\n    }\r\n  }, [resources.profitAndLossModuleItems]);\r\n\r\n  React.useEffect(() => {\r\n    if (trialBalance) onTrialBalance(trialBalance);\r\n  }, [onTrialBalance, trialBalance]);\r\n\r\n  React.useEffect(() => {\r\n    utils.onTbData(resources, setTbData);\r\n  }, [resources]);\r\n\r\n  if (assetClassError)\r\n    return <Error title={title} error={assetClassError} refresh={assetClassRefresh} />;\r\n\r\n  if (trialBalanceError)\r\n    return <Error title={title} error={trialBalanceError} refresh={trialBalanceRefresh} />;\r\n\r\n  if (!resources.profitAndLossModuleItems || !resources.trialBalance)\r\n    return <PageLoader title={title} />;\r\n\r\n  return (\r\n    <Layout title={title}>\r\n      <Main\r\n        title={title}\r\n        mode={mode}\r\n        setMode={setMode}\r\n        year={year}\r\n        setYear={setYear}\r\n        yearSelectItems={yearSelectItems}>\r\n        {\r\n          {\r\n            mapping: (\r\n              <ProfitAndLossMapping\r\n                year={year}\r\n                setYear={setYear}\r\n                yearSelectItems={yearSelectItems}\r\n                assetClassSelectItems={assetClassSelectItems}\r\n                tbData={tbData}\r\n                trialBalanceRefresh={trialBalanceRefresh}\r\n                toast={toast.current}\r\n              />\r\n            ),\r\n            view: (\r\n              <ViewMode title={title} year={year}>\r\n                <ProfitAndLossView year={year} />\r\n              </ViewMode>\r\n            )\r\n          }[mode]\r\n        }\r\n      </Main>\r\n      <Toast baseZIndex={1000} ref={el => (toast.current = el)} />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ProfitAndLoss;\r\n","import React from \"react\";\r\nimport { Card } from \"primereact/card\";\r\nimport { Button } from \"primereact/button\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { resetPassword } from \"../apis/Authentication\";\r\nimport constants from \"../constants\";\r\nimport { useAuth } from \"../store/AuthStore\";\r\nimport { Link, Redirect, useRouter, useRouterActions } from \"react-resource-router\";\r\nimport PasswordController from \"../components/controllers/PasswordController\";\r\nimport utils from \"../utils\";\r\n\r\nconst ResetPassword = () => {\r\n  const [routerState] = useRouter();\r\n  const { errors, handleSubmit, control } = useForm();\r\n  const [{ isAuthenticated }] = useAuth();\r\n  const { push } = useRouterActions();\r\n  const [loading, setLoading] = React.useState(false);\r\n  const toast = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    if (routerState.location.state)\r\n      toast.current.show(\r\n        utils.toastCallback({ severity: \"success\", detail: routerState.location.state })\r\n      );\r\n  }, [routerState]);\r\n\r\n  const onSubmit = async data => {\r\n    if (loading) return;\r\n\r\n    setLoading(true);\r\n    const { token, newPassword } = data;\r\n    try {\r\n      const { message } = await resetPassword({ token, newPassword });\r\n      push({ pathname: constants.routes.login, state: message });\r\n    } catch (error) {\r\n      setLoading(false);\r\n      if (error.response) {\r\n        const {\r\n          data: { message }\r\n        } = error.response;\r\n        // display error as toast notification\r\n        toast.current.show(\r\n          utils.toastCallback({ severity: \"error\", summary: \"Error\", detail: message })\r\n        );\r\n      } else {\r\n        // network errors\r\n        toast.current.show(\r\n          utils.toastCallback({\r\n            severity: \"error\",\r\n            summary: \"Network Error\",\r\n            detail: constants.networkErrorMessage\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  if (isAuthenticated) {\r\n    const path = sessionStorage.getItem(\"path\") || constants.routes.dashboard;\r\n    sessionStorage.removeItem(\"path\");\r\n    return <Redirect to={path} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-d-flex p-jc-center p-ai-center\" style={{ height: \"100vh\" }}>\r\n      <Card\r\n        header={\r\n          <>\r\n            <h2 className=\"p-text-center accent-color\">Tax Computation</h2>\r\n            <div className=\"divider\"></div>\r\n          </>\r\n        }\r\n        style={{ width: 320 }}>\r\n        <form className=\"p-d-flex p-flex-column\" onSubmit={handleSubmit(onSubmit)}>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"token\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <InputText\r\n                  style={{ marginBottom: 5, width: \"100%\" }}\r\n                  placeholder=\"Token\"\r\n                  maxLength={4}\r\n                  keyfilter=\"pint\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.token && <span style={{ fontSize: 12, color: \"red\" }}>Token is required</span>}\r\n          </div>\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Controller\r\n              name=\"newPassword\"\r\n              control={control}\r\n              rules={{ required: true }}\r\n              defaultValue=\"\"\r\n              render={props => (\r\n                <PasswordController\r\n                  placeholder=\"New Password\"\r\n                  value={props.value}\r\n                  onChange={e => props.onChange(e.target.value)}\r\n                />\r\n              )}\r\n            />\r\n            {errors.newPassword && (\r\n              <span style={{ fontSize: 12, color: \"red\" }}>New Password is required</span>\r\n            )}\r\n          </div>\r\n          <Button\r\n            type=\"submit\"\r\n            label={!loading ? \"Reset Password\" : null}\r\n            icon={loading ? \"pi pi-spin pi-spinner\" : null}\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        </form>\r\n        <Link href={constants.routes.login} className=\"auth-link\">\r\n          <p style={{ marginBottom: 0, marginTop: 20, fontSize: 14 }}>Back to login</p>\r\n        </Link>\r\n      </Card>\r\n      <Toast ref={el => (toast.current = el)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n","import React from \"react\";\r\nimport { useRouter } from \"react-resource-router\";\r\nimport constants from \"./constants\";\r\nimport { useAuth } from \"./store/AuthStore\";\r\n\r\nexport default Component => props => {\r\n  const [{ isAuthenticated }] = useAuth();\r\n  const [routerState, { replace }] = useRouter();\r\n\r\n  React.useEffect(() => {\r\n    if (isAuthenticated !== null && !isAuthenticated)\r\n      replace({ pathname: constants.routes.login, state: routerState.location.state });\r\n  }, [isAuthenticated, replace, routerState]);\r\n\r\n  return <>{isAuthenticated && <Component {...props} />}</>;\r\n};\r\n","import constants from \"../constants\";\r\nimport BalancingAdjustment from \"../pages/BalancingAdjustment\";\r\nimport CapitalAllowance from \"../pages/CapitalAllowance\";\r\nimport Dashboard from \"../pages/Dashboard\";\r\nimport DeferredTax from \"../pages/DeferredTax\";\r\nimport FixedAsset from \"../pages/FixedAsset\";\r\nimport ForgotPassword from \"../pages/ForgotPassword\";\r\nimport Home from \"../pages/Home\";\r\nimport IncomeTax from \"../pages/IncomeTax\";\r\nimport InvestmentAllowance from \"../pages/InvestmentAllowance\";\r\nimport ITLevy from \"../pages/ITLevy\";\r\nimport Login from \"../pages/Login\";\r\nimport MinimumTax from \"../pages/MinimumTax\";\r\nimport NotFound from \"../pages/NotFound\";\r\nimport ProfitAndLoss from \"../pages/ProfitAndLoss\";\r\nimport ResetPassword from \"../pages/ResetPassword\";\r\nimport RouteGuard from \"../RouteGuard\";\r\nimport {\r\n  companiesResource,\r\n  fixedAssetModuleClassResource,\r\n  profitandlossModuleClassResource,\r\n  trialBalanceResource\r\n} from \"./resources\";\r\n\r\nconst modePathParam = \"/:mode\";\r\n\r\nexport const routes = [\r\n  {\r\n    path: constants.routes.home,\r\n    name: \"HOME\",\r\n    exact: true,\r\n    component: Home\r\n  },\r\n  {\r\n    path: constants.routes.login,\r\n    name: \"LOGIN\",\r\n    exact: true,\r\n    component: Login\r\n  },\r\n  {\r\n    path: constants.routes.forgot_password,\r\n    name: \"FORGOT_PASSWORD\",\r\n    exact: true,\r\n    component: ForgotPassword\r\n  },\r\n  {\r\n    path: constants.routes.reset_password,\r\n    name: \"RESET_PASSWORD\",\r\n    exact: true,\r\n    component: ResetPassword\r\n  },\r\n  {\r\n    path: constants.routes.dashboard,\r\n    name: \"DASHBOARD\",\r\n    exact: true,\r\n    component: RouteGuard(Dashboard),\r\n    resources: [companiesResource]\r\n  },\r\n  {\r\n    path: `${constants.routes.fixed_asset}${modePathParam}`,\r\n    name: \"FIXED_ASSET\",\r\n    exact: true,\r\n    component: RouteGuard(FixedAsset),\r\n    resources: [fixedAssetModuleClassResource, trialBalanceResource]\r\n  },\r\n  {\r\n    path: `${constants.routes.profit_loss}${modePathParam}`,\r\n    name: \"PROFIT_LOSS\",\r\n    exact: true,\r\n    component: RouteGuard(ProfitAndLoss),\r\n    resources: [profitandlossModuleClassResource, trialBalanceResource]\r\n  },\r\n  {\r\n    path: `${constants.routes.income_tax}${modePathParam}`,\r\n    name: \"INCOME_TAX\",\r\n    exact: true,\r\n    component: RouteGuard(IncomeTax)\r\n    //resources: [aboutResource],\r\n  },\r\n  {\r\n    path: `${constants.routes.deferred_tax}${modePathParam}`,\r\n    name: \"DEFERRED_TAX\",\r\n    exact: true,\r\n    component: RouteGuard(DeferredTax)\r\n    //resources: [aboutResource],\r\n  },\r\n  {\r\n    path: `${constants.routes.minimum_tax}${modePathParam}`,\r\n    name: \"MINIMUM_TAX\",\r\n    exact: true,\r\n    component: RouteGuard(MinimumTax)\r\n    //resources: [aboutResource],\r\n  },\r\n  {\r\n    path: `${constants.routes.it_levy}${modePathParam}`,\r\n    name: \"IT_LEVY\",\r\n    exact: true,\r\n    component: RouteGuard(ITLevy)\r\n    //resources: [aboutResource],\r\n  },\r\n  {\r\n    path: `${constants.routes.capital_allowance}${modePathParam}`,\r\n    name: \"CAPITAL_ALLOWANCE\",\r\n    exact: true,\r\n    component: RouteGuard(CapitalAllowance),\r\n    resources: [fixedAssetModuleClassResource]\r\n  },\r\n  {\r\n    path: `${constants.routes.investment_allowance}${modePathParam}`,\r\n    name: \"INVESTMENT_ALLOWANCE\",\r\n    exact: true,\r\n    component: RouteGuard(InvestmentAllowance)\r\n    //resources: [aboutResource],\r\n  },\r\n  {\r\n    path: `${constants.routes.balancing_adjustment}${modePathParam}`,\r\n    name: \"BALANCING_ADJUSTMENT\",\r\n    exact: true,\r\n    component: RouteGuard(BalancingAdjustment),\r\n    resources: [fixedAssetModuleClassResource]\r\n  },\r\n  {\r\n    path: \"*\",\r\n    name: \"NOT_FOUND\",\r\n    component: NotFound\r\n  }\r\n];\r\n","import React from \"react\";\r\nimport \"primereact/resources/themes/saga-blue/theme.css\";\r\nimport \"primereact/resources/primereact.min.css\";\r\nimport \"primeicons/primeicons.css\";\r\nimport \"primeflex/primeflex.css\";\r\nimport { Router, RouteComponent, createBrowserHistory } from \"react-resource-router\";\r\nimport { routes } from \"./routes\";\r\nimport { useAuth } from \"./store/AuthStore\";\r\nimport utils from \"./utils\";\r\nimport { useCompany } from \"./store/CompanyStore\";\r\nimport axiosConfig from \"./configs/axios.config\";\r\n\r\nconst history = createBrowserHistory();\r\n\r\nfunction App() {\r\n  const [auth, { initAuth }] = useAuth();\r\n  const [company, { initCompany }] = useCompany();\r\n\r\n  window.onbeforeunload = () => {\r\n    utils.saveState(auth, \"auth\");\r\n    utils.saveState(company, \"company\");\r\n    sessionStorage.setItem(\"path\", history.location.pathname);\r\n    sessionStorage.setItem(\"token\", auth.token);\r\n  };\r\n\r\n  window.onload = () => {\r\n    initAuth(utils.loadState(\"auth\"));\r\n    initCompany(utils.loadState(\"company\"));\r\n    sessionStorage.removeItem(\"token\");\r\n  };\r\n\r\n  // axios config\r\n  axiosConfig(auth.token);\r\n\r\n  return (\r\n    <Router history={history} routes={routes}>\r\n      <RouteComponent />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import axios from \"axios\";\r\n// import { login } from 'routes';\r\n// import { refreshTokenAuth, signOut } from 'store/actions/auth';\r\n// import store from 'store/store';\r\n\r\nexport default function (authToken) {\r\n  // set axios base url\r\n  axios.defaults.baseURL = window.configs.baseURL;\r\n  // Request interceptor for API calls\r\n  axios.interceptors.request.use(\r\n    config => {\r\n      const token = authToken || sessionStorage.getItem(\"token\");\r\n\r\n      if (token) {\r\n        config.headers[\"Authorization\"] = `Bearer ${token}`;\r\n      }\r\n\r\n      return config;\r\n    },\r\n    error => {\r\n      Promise.reject(error);\r\n    }\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"fontsource-poppins\";\r\nimport \"./styles/index.css\";\r\nimport App from \"./App\";\r\nimport { defaults } from \"react-sweet-state\";\r\n\r\n// redux devtools\r\ndefaults.devtools = true;\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}